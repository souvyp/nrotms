/*js\common.min.js*/
function setCookie(name,value) {
var Days = 30;
var exp = new Date();
exp.setTime(exp.getTime() + Days*24*60*60*1000);
document.cookie = name + "="+ escape (value) + ";expires=" + exp.toGMTString();
}
function getCookie(name) {
var arr = document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));
if(arr != null) return unescape(arr[2]); return null;
}
function JsonToStr(data){
return JSON.stringify(data);
}
function StrToJson(data){
return eval('('+data+')');
}
Array.prototype.RemoveIndex = function(dx)
{
if(isNaN(dx)||dx>this.length){return false;}
this.splice(dx,1);
}
String.prototype.replaceAll  = function(s1,s2){
return this.replace(new RegExp(s1,"gm"),s2);
}
String.prototype.right = function (length_) {
var _from = this.length - length_;
if (_from < 0) _from = 0;
return this.substring(this.length - length_, this.length);
};
function loadStyleString(css,id) {
var style = document.createElement("style");
if(id)style.id=id;
style.type = "text/css";
try {
style.appendChild(document.createTextNode(css));
} catch (ex) {
style.styleSheet.cssText = css;
}
var head = document.getElementsByTagName("head")[0];
head.appendChild(style);
}
function removeStyle(id){
var style=document.getElementById(id);
if(style){
var p;
if(p=style.parentNode)
p.removeChild(style);
}
}
function uuid() {
var s = [];
var hexDigits = "0123456789abcdef";
for (var i = 0; i < 36; i++) {
s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
}
s[14] = "4";
s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
s[8] = s[13] = s[18] = s[23] = "-";
var uuid = s.join("");
return uuid;
}
$.extend({
getUrlVars:function(){
var vars=[],hash;
var hashes=window.location.href.slice(window.location.href.indexOf( '?' ) + 1).split( '&' );
for ( var    i = 0; i < hashes.length; i++)
{
hash = hashes[i].split( '=' );
vars.push(hash[0]);
vars[hash[0]] = hash[1];
}
return vars;
},
getUrlVar:function(name){
return $.getUrlVars()[name];
}
});
function getUrlParam(name)
{
var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
var r = window.location.search.substr(1).match(reg);
if (r!=null) return unescape(r[2]); return null;
}
String.prototype.GetValue = function(para) {
var reg = new RegExp("(^|&)" + para + "=([^&]*)(&|$)");
var r = this.substr(this.indexOf("\?") + 1).match(reg);
if (r != null) return unescape(r[2]); return null;
}
function GetRequest(name) {
var str = location.href;
var re= str.GetValue(name);
if(re&&re!=""){
var i=re.indexOf('#');
if(i>0)re=re.substring(0,i);
}
return re;
}
function GetRequestJn(){
var str = location.href;
var i=str.indexOf('#');
if(i>0)
return str.substring(i+1,i+2);
else
return null;
}
$.fn.serializeObject = function() {
var o = {};
var a = this.serializeArray();
$.each(a, function() {
var i = this.name.indexOf('+');
if (i > 0)
this.name = this.name.substring(0, i);
if (o[this.name]) {
if (!o[this.name].push) {
o[this.name] = [o[this.name]];
}
o[this.name].push(this.value || '');
} else {
o[this.name] = this.value || '';
}
});
return o;
};
function jsonKeyCount(obj) {
var i = 0;
for (var key in obj)
i++;
return i;
}
Date.prototype.format = function(format){
var o = {
"M+" : this.getMonth()+1,
"d+" : this.getDate(),
"h+" : this.getHours(),
"m+" : this.getMinutes(),
"s+" : this.getSeconds(),
"q+" : Math.floor((this.getMonth()+3)/3),
"S" : this.getMilliseconds()
}
if(/(y+)/.test(format)) {
format = format.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length));
}
for(var k in o) {
if(new RegExp("("+ k +")").test(format)) {
format = format.replace(RegExp.$1, RegExp.$1.length==1 ? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));
}
}
return format;
}
Date.prototype.Format = function (fmt) {
var o = {
"M+": this.getMonth() + 1,
"d+": this.getDate(),
"h+": this.getHours(),
"m+": this.getMinutes(),
"s+": this.getSeconds(),
"q+": Math.floor((this.getMonth() + 3) / 3),
"S": this.getMilliseconds()
};
if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
for (var k in o)
if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
return fmt;
}
var DATA_URL = '/code/data/misc.chi';
var GRID_URL = '/code/db/grid.chi';
var TABLE_URL = '/code/data/table.chi';
var FILE_URL = '/code/files/misc.chi';
var NODE_URL = '/code/net/notes.chi'
function OnlineData( param, h, url, dataType, jsonp, retryCount, err, _method )
{
if ( url.indexOf( '.json' ) != -1 )
{
_method = 'get';
}
if (typeof(_method) == "undefined")
{
_method = "post";
}
if (_method != "get" && _method != "post" && _method != "put")
{
_method = "post";
}
if(!retryCount) retryCount=0;
$.ajax({
type: _method,
url: url ? url : DATA_URL,
data: param,
dataType: dataType?dataType:'json',
jsonp: jsonp?jsonp:null,
success: function(data, textStatus) {
if (h)
h( data );
},
error: function(e) {
if(retryCount<5){
setTimeout(function(){
OnlineData(param,h,url,dataType,jsonp,retryCount+1,err);
},100);
}
else{
if(err)err(e);
console.log(url ? url : DATA_URL,param,'网络错误');
}
}
});
}
function GetContent(url,param,type,masked,sucHandle,errHandle){
$.ajax({
type: "get",
url: url,
data:param,
dataType:type,
ifModified:true,
cache:true,
beforeSend: function(XMLHttpRequest){
if(masked)
mask();
},
success: function(data, textStatus){
if(sucHandle)sucHandle(data);
},
complete: function(XMLHttpRequest, textStatus){
if(masked)
unmask();
},
error: function(){
if(errHandle)errHandle();
}
});
}
function PostContent(url,param,type,masked,sucHandle,errHandle){
$.ajax({
type: "post",
url: url,
data:param,
dataType:type,
beforeSend: function(XMLHttpRequest){
if(masked)
mask();
},
success: function(data, textStatus){
if(sucHandle)sucHandle(data);
},
complete: function(XMLHttpRequest, textStatus){
if(masked)
unmask();
},
error: function(){
if(errHandle)errHandle();
}
});
}
function myShowModalDialog(url, width, height, fn) {
if (navigator.userAgent.indexOf("Chrome") > 0) {
window.returnCallBackValue354865588 = fn;
var paramsChrome = 'height=' + height + ', width=' + width + ', top=' + (((window.screen.height - height) / 2) - 50) +
',left=' + ((window.screen.width - width) / 2) + ',toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no';
window.open(url, "newwindow", paramsChrome);
}
else {
var params = 'dialogWidth:' + width + 'px;dialogHeight:' + height + 'px;status:no;dialogLeft:'
+ ((window.screen.width - width) / 2) + 'px;dialogTop:' + (((window.screen.height - height) / 2) - 50) + 'px;';
var tempReturnValue = window.showModalDialog(url, "", params);
fn.call(window, tempReturnValue);
}
}
function myReturnValue(value) {
if (navigator.userAgent.indexOf("Chrome") > 0) {
window.opener.returnCallBackValue354865588.call(window.opener, value);
}
else {
window.returnValue = value;
}
}
function openBlank(url,name,iWidth,iHeight,newW){
if(url){
name = name?name:'未命名';
iWidth = iWidth ?  iWidth : window.screen.availWidth -30;
iHeight = iHeight ? iHeight : window.screen.availHeight - 80;
var iTop = 2;
var iLeft = 2;
var result=  window.open(url,name,'height='+iHeight+',,innerHeight='+iHeight+',width='+iWidth+',innerWidth='+iWidth+',top='+iTop+',left='+iLeft+',toolbar=no,fullscreen=yes,menubar=no,scrollbars=auto,resizeable=no,location=no,status=no');
var that=window;
window.onfocus=function (){result.focus();};
window.onclick=function (){result.focus();};
result.onclose=function(){
if ( typeof(RefreshData) != "undefined" )
RefreshData();
};
result.onbeforeunload=function(){
if ( typeof(RefreshData) != "undefined" )
RefreshData();
};
}
else{
var formcontainer=$('.formcontainer');
if(formcontainer.length==1){
$('#demo').hide();
var table=$('.formcontainer .FormTable[code]');
if(!table[0].inited){
table[0].oldHtml=table.html();
table[0].inited=true;
var mid=url;
setTimeout(function(){
initTableForm(table,false,null,mid);
},100)
}
else{
$('.formcontainer').show();
var mid=url;
if(table[0].oldHtml){
table.html(table[0].oldHtml);
setTimeout(function(){
initTableForm(table,false,null,mid);
},100)
}
else{
var defaults=table.find('td:eq(0)').attr('default');
if(!defaults)
defaults='';
else
defaults = unescape(defaults);
initTableFormData(table,mid,defaults);
}
}
}
else{
$('#win-Common-Dialog .content').html('<iframe id="mainFrame" src="'+url+'" />');
$('#win-Common-Dialog').modal('show');
$('#win-Common-Dialog').on('hidden.bs.modal',function(e){
if ( typeof(RefreshData) != "undefined" )
RefreshData();
});
}
}
}
function closeBlank(){
$('#win-Common-Dialog').modal('hide');
}
function ShowOverModal(){
if($('.ShowOverModal').length==0)
$('<div class="ShowOverModal"></div>').appendTo('body').show();
else
$('.ShowOverModal').show();
}
function HideOverModal(){
$('.ShowOverModal').hide();
}
function closeForm( obj )
{
var _code = $( 'body' ).attr( 'code' );
if ( typeof ( _code ) != 'undefined' )
{
location.href = '/' + _code + '.aspx';
}
else
{
var demo = $( '#demo' );
if ( demo.length == 1 )
{
demo.show();
$( '.formcontainer' ).hide();
if ( typeof ( RefreshData ) != "undefined" )
RefreshData();
}
else
{
if ( self != top )
{
window.parent.closeBlank();
}
else
window.close();
}
}
}
$('<!-- system modal start -->\n'+
'<div id="ycf-alert" class="modal">\n'+
'<div class="modal-dialog modal-sm">\n'+
'<div class="modal-content">\n'+
'<div class="modal-header">\n'+
'<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>\n'+
'<h5 class="modal-title"><i class="fa fa-exclamation-circle" style="background-color: #f27302; padding-left: 3px; height: 20px; line-height: 20px; margin-bottom: 25px;"></i> <span style="padding-left:8px;font-family:\'微软雅黑\';">[Title]</span></h5>\n'+
'</div>\n'+
'<div class="modal-body small">\n'+
'<p>[Message]</p>\n'+
'</div>\n'+
'<div class="modal-footer" >\n'+
'<button type="button" class="btn btn-primary btn-sm ok" data-dismiss="modal">[BtnOk]</button>\n'+
'<button type="button" class="btn btn-default btn-sm cancel" data-dismiss="modal">[BtnCancel]</button>\n'+
'</div>\n'+
'</div>\n'+
'</div>\n'+
'</div>\n'+
'<!-- system modal end -->\n').appendTo('body');
window.Modal = function () {
var reg = new RegExp("\\[([^\\[\\]]*?)\\]", 'igm');
var alr = $("#ycf-alert");
var ahtml = alr.html();
var _alert = function (options) {
alr.html(ahtml);
alr.find('.ok').removeClass('btn-success').addClass('btn-primary');
alr.find('.cancel').hide();
_dialog(options);
return {
on: function (callback) {
if (callback && callback instanceof Function) {
alr.find('.ok').click(function () { callback(true) });
}
}
};
};
var _confirm = function (options) {
alr.html(ahtml);
alr.find('.ok').removeClass('btn-primary').addClass('btn-success');
alr.find('.cancel').show();
_dialog(options);
return {
on: function (callback) {
if (callback && callback instanceof Function) {
alr.find('.ok').click(function () { callback(true) });
alr.find('.cancel').click(function () { callback(false) });
}
}
};
};
var _wait = function (options) {
alr.html(ahtml);
alr.find('.modal-footer').hide();
_dialog(options);
return {
on: function (callback) {
if (callback && callback instanceof Function) {
callback(true);
}
}
};
};
var _hide = function (options) {
alr.modal('hide');
};
var _select = function (options) {
alr.html(ahtml);
alr.find('.modal-header button:eq(0)').hide();
alr.find('.modal-footer .cancel').hide();
_dialog(options);
return {
on: function (callback) {
if (callback && callback instanceof Function) {
alr.find('.ok').click(function () { callback(true) });
}
}
};
};
var _hide = function (options) {
alr.modal('hide');
};
var _dialog = function (options) {
var ops = {
msg: "提示内容",
title: "操作提示",
btnok: "确定",
btncl: "取消"
};
$.extend(ops, options);
var html = alr.html().replace(reg, function (node, key) {
return {
Title: ops.title,
Message: ops.msg,
BtnOk: ops.btnok,
BtnCancel: ops.btncl
}[key];
});
alr.html(html);
alr.modal({
width: 500,
backdrop: self != top?false:'static'
});
}
return {
alert: _alert,
confirm: _confirm,
wait: _wait,
hide: _hide,
select:_select
}
}();
function Mask(txt){
Modal.wait({
msg: txt?txt: "正在获取远程数据，请稍候...",
title: "请稍候..."
});
}
function UnMask(){
Modal.hide();
}
function alert(m){
Modal.wait({
msg: m?m:'未知信息',
title: "温馨提示"
});
}
function Logout(){
GetContent('/code/users/user.chi?cmd=logout',{},'html',false,function(){
location.href='../assets/login/';
})
}
function openBlank( id )
{
if ( typeof ( id ) != 'undefined' )
{
var _href = location.href.split( '/' )[3].split( '.' )[0] + '_edit.aspx?id=' + id + '';
location.href = _href;
}
else
{
var _href = location.href.split( '/' )[3].split( '.' )[0] + '_edit.aspx';
location.href = _href;
}
}

/*js\template.min.js*/

!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a){a=a.replace(/^\s/,"");var b=a.split(" "),c=b.shift(),e=b.join(" ");switch(c){case"if":a="if("+e+"){";break;case"else":b="if"===b.shift()?" if("+b.join(" ")+")":"",a="}else"+b+"{";break;case"/if":a="}";break;case"each":var f=b[0]||"$data",g=b[1]||"as",h=b[2]||"$value",i=b[3]||"$index",j=h+","+i;"as"!==g&&(f="[]"),a="$each("+f+",function("+j+"){";break;case"/each":a="});";break;case"echo":a="print("+e+");";break;case"print":case"include":a=c+"("+b.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(e)){var k=!0;0===a.indexOf("#")&&(a=a.substr(1),k=!1);for(var l=0,m=a.split("|"),n=m.length,o=m[l++];n>l;l++)o=z(o,m[l]);a=(k?"=":"=#")+o}else a=d.helpers[c]?"=#"+c+"("+b.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}();

/*plugins\store\store.min.js*/
"use strict"
;(function (root, factory) {
if (typeof define === 'function' && define.amd) {
define([], factory);
} else if (typeof exports === 'object') {
module.exports = factory();
} else {
root.store = factory();
}
}(this, function () {
var store = {},
win = window,
doc = win.document,
localStorageName = 'localStorage',
scriptTag = 'script',
storage
store.disabled = false
store.version = '1.3.17'
store.set = function(key, value) {}
store.get = function(key, defaultVal) {}
store.has = function(key) { return store.get(key) !== undefined }
store.remove = function(key) {}
store.clear = function() {}
store.transact = function(key, defaultVal, transactionFn) {
if (transactionFn == null) {
transactionFn = defaultVal
defaultVal = null
}
if (defaultVal == null) {
defaultVal = {}
}
var val = store.get(key, defaultVal)
transactionFn(val)
store.set(key, val)
}
store.getAll = function() {}
store.forEach = function() {}
store.serialize = function(value) {
return JSON.stringify(value)
}
store.deserialize = function(value) {
if (typeof value != 'string') { return undefined }
try { return JSON.parse(value) }
catch(e) { return value || undefined }
}
function isLocalStorageNameSupported() {
try { return (localStorageName in win && win[localStorageName]) }
catch(err) { return false }
}
if (isLocalStorageNameSupported()) {
storage = win[localStorageName]
store.set = function(key, val) {
if (val === undefined) { return store.remove(key) }
storage.setItem(key, store.serialize(val))
return val
}
store.get = function(key, defaultVal) {
var val = store.deserialize(storage.getItem(key))
return (val === undefined ? defaultVal : val)
}
store.remove = function(key) { storage.removeItem(key) }
store.clear = function() { storage.clear() }
store.getAll = function() {
var ret = {}
store.forEach(function(key, val) {
ret[key] = val
})
return ret
}
store.forEach = function(callback) {
for (var i=0; i<storage.length; i++) {
var key = storage.key(i)
callback(key, store.get(key))
}
}
} else if (doc.documentElement.addBehavior) {
var storageOwner,
storageContainer
try {
storageContainer = new ActiveXObject('htmlfile')
storageContainer.open()
storageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src="/favicon.ico"></iframe>')
storageContainer.close()
storageOwner = storageContainer.w.frames[0].document
storage = storageOwner.createElement('div')
} catch(e) {
storage = doc.createElement('div')
storageOwner = doc.body
}
var withIEStorage = function(storeFunction) {
return function() {
var args = Array.prototype.slice.call(arguments, 0)
args.unshift(storage)
storageOwner.appendChild(storage)
storage.addBehavior('#default#userData')
storage.load(localStorageName)
var result = storeFunction.apply(store, args)
storageOwner.removeChild(storage)
return result
}
}
var forbiddenCharsRegex = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g")
var ieKeyFix = function(key) {
return key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')
}
store.set = withIEStorage(function(storage, key, val) {
key = ieKeyFix(key)
if (val === undefined) { return store.remove(key) }
storage.setAttribute(key, store.serialize(val))
storage.save(localStorageName)
return val
})
store.get = withIEStorage(function(storage, key, defaultVal) {
key = ieKeyFix(key)
var val = store.deserialize(storage.getAttribute(key))
return (val === undefined ? defaultVal : val)
})
store.remove = withIEStorage(function(storage, key) {
key = ieKeyFix(key)
storage.removeAttribute(key)
storage.save(localStorageName)
})
store.clear = withIEStorage(function(storage) {
var attributes = storage.XMLDocument.documentElement.attributes
storage.load(localStorageName)
while (attributes.length) {
storage.removeAttribute(attributes[0].name)
}
storage.save(localStorageName)
})
store.getAll = function(storage) {
var ret = {}
store.forEach(function(key, val) {
ret[key] = val
})
return ret
}
store.forEach = withIEStorage(function(storage, callback) {
var attributes = storage.XMLDocument.documentElement.attributes
for (var i=0, attr; attr=attributes[i]; ++i) {
callback(attr.name, store.deserialize(storage.getAttribute(attr.name)))
}
})
}
try {
var testKey = '__storejs__'
store.set(testKey, testKey)
if (store.get(testKey) != testKey) { store.disabled = true }
store.remove(testKey)
} catch(e) {
store.disabled = true
}
store.enabled = !store.disabled
return store
}));


/*plugins\jquery.ui\js\jquery-ui-min.js*/
/*!
* jQuery UI 1.8.7
*
* Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://jquery.org/license
*
* http://docs.jquery.com/UI
*/
(function (c, j) {
    function k(a) { return !c(a).parents().andSelf().filter(function () { return c.curCSS(this, "visibility") === "hidden" || c.expr.filters.hidden(this) }).length } c.ui = c.ui || {}; if (!c.ui.version) {
        c.extend(c.ui, { version: "1.8.7", keyCode: { ALT: 18, BACKSPACE: 8, CAPS_LOCK: 20, COMMA: 188, COMMAND: 91, COMMAND_LEFT: 91, COMMAND_RIGHT: 93, CONTROL: 17, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, MENU: 93, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SHIFT: 16, SPACE: 32, TAB: 9, UP: 38, WINDOWS: 91
        }
        }); c.fn.extend({ _focus: c.fn.focus, focus: function (a, b) { return typeof a === "number" ? this.each(function () { var d = this; setTimeout(function () { c(d).focus(); b && b.call(d) }, a) }) : this._focus.apply(this, arguments) }, scrollParent: function () {
            var a; a = c.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () {
                return /(relative|absolute|fixed)/.test(c.curCSS(this,
"position", 1)) && /(auto|scroll)/.test(c.curCSS(this, "overflow", 1) + c.curCSS(this, "overflow-y", 1) + c.curCSS(this, "overflow-x", 1))
            }).eq(0) : this.parents().filter(function () { return /(auto|scroll)/.test(c.curCSS(this, "overflow", 1) + c.curCSS(this, "overflow-y", 1) + c.curCSS(this, "overflow-x", 1)) }).eq(0); return /fixed/.test(this.css("position")) || !a.length ? c(document) : a
        }, zIndex: function (a) {
            if (a !== j) return this.css("zIndex", a); if (this.length) {
                a = c(this[0]); for (var b; a.length && a[0] !== document; ) {
                    b = a.css("position");
                    if (b === "absolute" || b === "relative" || b === "fixed") { b = parseInt(a.css("zIndex"), 10); if (!isNaN(b) && b !== 0) return b } a = a.parent()
                }
            } return 0
        }, disableSelection: function () { return this.bind((c.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (a) { a.preventDefault() }) }, enableSelection: function () { return this.unbind(".ui-disableSelection") }
        }); c.each(["Width", "Height"], function (a, b) {
            function d(f, g, l, m) {
                c.each(e, function () {
                    g -= parseFloat(c.curCSS(f, "padding" + this, true)) || 0; if (l) g -= parseFloat(c.curCSS(f,
"border" + this + "Width", true)) || 0; if (m) g -= parseFloat(c.curCSS(f, "margin" + this, true)) || 0
                }); return g
            } var e = b === "Width" ? ["Left", "Right"] : ["Top", "Bottom"], h = b.toLowerCase(), i = { innerWidth: c.fn.innerWidth, innerHeight: c.fn.innerHeight, outerWidth: c.fn.outerWidth, outerHeight: c.fn.outerHeight }; c.fn["inner" + b] = function (f) { if (f === j) return i["inner" + b].call(this); return this.each(function () { c(this).css(h, d(this, f) + "px") }) }; c.fn["outer" + b] = function (f, g) {
                if (typeof f !== "number") return i["outer" + b].call(this, f); return this.each(function () {
                    c(this).css(h,
d(this, f, true, g) + "px")
                })
            }
        }); c.extend(c.expr[":"], { data: function (a, b, d) { return !!c.data(a, d[3]) }, focusable: function (a) { var b = a.nodeName.toLowerCase(), d = c.attr(a, "tabindex"); if ("area" === b) { b = a.parentNode; d = b.name; if (!a.href || !d || b.nodeName.toLowerCase() !== "map") return false; a = c("img[usemap=#" + d + "]")[0]; return !!a && k(a) } return (/input|select|textarea|button|object/.test(b) ? !a.disabled : "a" == b ? a.href || !isNaN(d) : !isNaN(d)) && k(a) }, tabbable: function (a) { var b = c.attr(a, "tabindex"); return (isNaN(b) || b >= 0) && c(a).is(":focusable") } });
        c(function () { var a = document.body, b = a.appendChild(b = document.createElement("div")); c.extend(b.style, { minHeight: "100px", height: "auto", padding: 0, borderWidth: 0 }); c.support.minHeight = b.offsetHeight === 100; c.support.selectstart = "onselectstart" in b; a.removeChild(b).style.display = "none" }); c.extend(c.ui, { plugin: { add: function (a, b, d) { a = c.ui[a].prototype; for (var e in d) { a.plugins[e] = a.plugins[e] || []; a.plugins[e].push([b, d[e]]) } }, call: function (a, b, d) {
            if ((b = a.plugins[b]) && a.element[0].parentNode) for (var e = 0; e < b.length; e++) a.options[b[e][0]] &&
b[e][1].apply(a.element, d)
        }
        }, contains: function (a, b) { return document.compareDocumentPosition ? a.compareDocumentPosition(b) & 16 : a !== b && a.contains(b) }, hasScroll: function (a, b) { if (c(a).css("overflow") === "hidden") return false; b = b && b === "left" ? "scrollLeft" : "scrollTop"; var d = false; if (a[b] > 0) return true; a[b] = 1; d = a[b] > 0; a[b] = 0; return d }, isOverAxis: function (a, b, d) { return a > b && a < b + d }, isOver: function (a, b, d, e, h, i) { return c.ui.isOverAxis(a, d, h) && c.ui.isOverAxis(b, e, i) }
        })
    }
})(jQuery);
; /*!
 * jQuery UI Widget 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function (b, j) {
    if (b.cleanData) { var k = b.cleanData; b.cleanData = function (a) { for (var c = 0, d; (d = a[c]) != null; c++) b(d).triggerHandler("remove"); k(a) } } else { var l = b.fn.remove; b.fn.remove = function (a, c) { return this.each(function () { if (!c) if (!a || b.filter(a, [this]).length) b("*", this).add([this]).each(function () { b(this).triggerHandler("remove") }); return l.call(b(this), a, c) }) } } b.widget = function (a, c, d) {
        var e = a.split(".")[0], f; a = a.split(".")[1]; f = e + "-" + a; if (!d) { d = c; c = b.Widget } b.expr[":"][f] = function (h) {
            return !!b.data(h,
a)
        }; b[e] = b[e] || {}; b[e][a] = function (h, g) { arguments.length && this._createWidget(h, g) }; c = new c; c.options = b.extend(true, {}, c.options); b[e][a].prototype = b.extend(true, c, { namespace: e, widgetName: a, widgetEventPrefix: b[e][a].prototype.widgetEventPrefix || a, widgetBaseClass: f }, d); b.widget.bridge(a, b[e][a])
    }; b.widget.bridge = function (a, c) {
        b.fn[a] = function (d) {
            var e = typeof d === "string", f = Array.prototype.slice.call(arguments, 1), h = this; d = !e && f.length ? b.extend.apply(null, [true, d].concat(f)) : d; if (e && d.charAt(0) === "_") return h;
            e ? this.each(function () { var g = b.data(this, a), i = g && b.isFunction(g[d]) ? g[d].apply(g, f) : g; if (i !== g && i !== j) { h = i; return false } }) : this.each(function () { var g = b.data(this, a); g ? g.option(d || {})._init() : b.data(this, a, new c(d, this)) }); return h
        }
    }; b.Widget = function (a, c) { arguments.length && this._createWidget(a, c) }; b.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", options: { disabled: false }, _createWidget: function (a, c) {
        b.data(c, this.widgetName, this); this.element = b(c); this.options = b.extend(true, {}, this.options,
this._getCreateOptions(), a); var d = this; this.element.bind("remove." + this.widgetName, function () { d.destroy() }); this._create(); this._trigger("create"); this._init()
    }, _getCreateOptions: function () { return b.metadata && b.metadata.get(this.element[0])[this.widgetName] }, _create: function () { }, _init: function () { }, destroy: function () { this.element.unbind("." + this.widgetName).removeData(this.widgetName); this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled ui-state-disabled") },
        widget: function () { return this.element }, option: function (a, c) { var d = a; if (arguments.length === 0) return b.extend({}, this.options); if (typeof a === "string") { if (c === j) return this.options[a]; d = {}; d[a] = c } this._setOptions(d); return this }, _setOptions: function (a) { var c = this; b.each(a, function (d, e) { c._setOption(d, e) }); return this }, _setOption: function (a, c) { this.options[a] = c; if (a === "disabled") this.widget()[c ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled ui-state-disabled").attr("aria-disabled", c); return this },
        enable: function () { return this._setOption("disabled", false) }, disable: function () { return this._setOption("disabled", true) }, _trigger: function (a, c, d) { var e = this.options[a]; c = b.Event(c); c.type = (a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a).toLowerCase(); d = d || {}; if (c.originalEvent) { a = b.event.props.length; for (var f; a; ) { f = b.event.props[--a]; c[f] = c.originalEvent[f] } } this.element.trigger(c, d); return !(b.isFunction(e) && e.call(this.element[0], c, d) === false || c.isDefaultPrevented()) }
    }
})(jQuery);
; /*!
 * jQuery UI Mouse 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function (c) {
    c.widget("ui.mouse", { options: { cancel: ":input,option", distance: 1, delay: 0 }, _mouseInit: function () { var a = this; this.element.bind("mousedown." + this.widgetName, function (b) { return a._mouseDown(b) }).bind("click." + this.widgetName, function (b) { if (true === c.data(b.target, a.widgetName + ".preventClickEvent")) { c.removeData(b.target, a.widgetName + ".preventClickEvent"); b.stopImmediatePropagation(); return false } }); this.started = false }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName) }, _mouseDown: function (a) {
        a.originalEvent =
a.originalEvent || {}; if (!a.originalEvent.mouseHandled) {
            this._mouseStarted && this._mouseUp(a); this._mouseDownEvent = a; var b = this, e = a.which == 1, f = typeof this.options.cancel == "string" ? c(a.target).parents().add(a.target).filter(this.options.cancel).length : false; if (!e || f || !this._mouseCapture(a)) return true; this.mouseDelayMet = !this.options.delay; if (!this.mouseDelayMet) this._mouseDelayTimer = setTimeout(function () { b.mouseDelayMet = true }, this.options.delay); if (this._mouseDistanceMet(a) && this._mouseDelayMet(a)) {
                this._mouseStarted =
this._mouseStart(a) !== false; if (!this._mouseStarted) { a.preventDefault(); return true }
            } this._mouseMoveDelegate = function (d) { return b._mouseMove(d) }; this._mouseUpDelegate = function (d) { return b._mouseUp(d) }; c(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate); a.preventDefault(); return a.originalEvent.mouseHandled = true
        }
    }, _mouseMove: function (a) {
        if (c.browser.msie && !(document.documentMode >= 9) && !a.button) return this._mouseUp(a); if (this._mouseStarted) {
            this._mouseDrag(a);
            return a.preventDefault()
        } if (this._mouseDistanceMet(a) && this._mouseDelayMet(a)) (this._mouseStarted = this._mouseStart(this._mouseDownEvent, a) !== false) ? this._mouseDrag(a) : this._mouseUp(a); return !this._mouseStarted
    }, _mouseUp: function (a) {
        c(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate); if (this._mouseStarted) {
            this._mouseStarted = false; a.target == this._mouseDownEvent.target && c.data(a.target, this.widgetName + ".preventClickEvent",
true); this._mouseStop(a)
        } return false
    }, _mouseDistanceMet: function (a) { return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return true }
    })
})(jQuery);
; /*
 * jQuery UI Position 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function (c) {
    c.ui = c.ui || {}; var n = /left|center|right/, o = /top|center|bottom/, t = c.fn.position, u = c.fn.offset; c.fn.position = function (b) {
        if (!b || !b.of) return t.apply(this, arguments); b = c.extend({}, b); var a = c(b.of), d = a[0], g = (b.collision || "flip").split(" "), e = b.offset ? b.offset.split(" ") : [0, 0], h, k, j; if (d.nodeType === 9) { h = a.width(); k = a.height(); j = { top: 0, left: 0} } else if (d.setTimeout) { h = a.width(); k = a.height(); j = { top: a.scrollTop(), left: a.scrollLeft()} } else if (d.preventDefault) {
            b.at = "left top"; h = k = 0; j = { top: b.of.pageY,
                left: b.of.pageX
            }
        } else { h = a.outerWidth(); k = a.outerHeight(); j = a.offset() } c.each(["my", "at"], function () { var f = (b[this] || "").split(" "); if (f.length === 1) f = n.test(f[0]) ? f.concat(["center"]) : o.test(f[0]) ? ["center"].concat(f) : ["center", "center"]; f[0] = n.test(f[0]) ? f[0] : "center"; f[1] = o.test(f[1]) ? f[1] : "center"; b[this] = f }); if (g.length === 1) g[1] = g[0]; e[0] = parseInt(e[0], 10) || 0; if (e.length === 1) e[1] = e[0]; e[1] = parseInt(e[1], 10) || 0; if (b.at[0] === "right") j.left += h; else if (b.at[0] === "center") j.left += h / 2; if (b.at[1] === "bottom") j.top +=
k; else if (b.at[1] === "center") j.top += k / 2; j.left += e[0]; j.top += e[1]; return this.each(function () {
    var f = c(this), l = f.outerWidth(), m = f.outerHeight(), p = parseInt(c.curCSS(this, "marginLeft", true)) || 0, q = parseInt(c.curCSS(this, "marginTop", true)) || 0, v = l + p + parseInt(c.curCSS(this, "marginRight", true)) || 0, w = m + q + parseInt(c.curCSS(this, "marginBottom", true)) || 0, i = c.extend({}, j), r; if (b.my[0] === "right") i.left -= l; else if (b.my[0] === "center") i.left -= l / 2; if (b.my[1] === "bottom") i.top -= m; else if (b.my[1] === "center") i.top -= m / 2;
    i.left = Math.round(i.left); i.top = Math.round(i.top); r = { left: i.left - p, top: i.top - q }; c.each(["left", "top"], function (s, x) { c.ui.position[g[s]] && c.ui.position[g[s]][x](i, { targetWidth: h, targetHeight: k, elemWidth: l, elemHeight: m, collisionPosition: r, collisionWidth: v, collisionHeight: w, offset: e, my: b.my, at: b.at }) }); c.fn.bgiframe && f.bgiframe(); f.offset(c.extend(i, { using: b.using }))
})
    }; c.ui.position = { fit: { left: function (b, a) {
        var d = c(window); d = a.collisionPosition.left + a.collisionWidth - d.width() - d.scrollLeft(); b.left =
d > 0 ? b.left - d : Math.max(b.left - a.collisionPosition.left, b.left)
    }, top: function (b, a) { var d = c(window); d = a.collisionPosition.top + a.collisionHeight - d.height() - d.scrollTop(); b.top = d > 0 ? b.top - d : Math.max(b.top - a.collisionPosition.top, b.top) }
    }, flip: { left: function (b, a) {
        if (a.at[0] !== "center") {
            var d = c(window); d = a.collisionPosition.left + a.collisionWidth - d.width() - d.scrollLeft(); var g = a.my[0] === "left" ? -a.elemWidth : a.my[0] === "right" ? a.elemWidth : 0, e = a.at[0] === "left" ? a.targetWidth : -a.targetWidth, h = -2 * a.offset[0]; b.left +=
a.collisionPosition.left < 0 ? g + e + h : d > 0 ? g + e + h : 0
        }
    }, top: function (b, a) { if (a.at[1] !== "center") { var d = c(window); d = a.collisionPosition.top + a.collisionHeight - d.height() - d.scrollTop(); var g = a.my[1] === "top" ? -a.elemHeight : a.my[1] === "bottom" ? a.elemHeight : 0, e = a.at[1] === "top" ? a.targetHeight : -a.targetHeight, h = -2 * a.offset[1]; b.top += a.collisionPosition.top < 0 ? g + e + h : d > 0 ? g + e + h : 0 } }
    }
    }; if (!c.offset.setOffset) {
        c.offset.setOffset = function (b, a) {
            if (/static/.test(c.curCSS(b, "position"))) b.style.position = "relative"; var d = c(b),
g = d.offset(), e = parseInt(c.curCSS(b, "top", true), 10) || 0, h = parseInt(c.curCSS(b, "left", true), 10) || 0; g = { top: a.top - g.top + e, left: a.left - g.left + h }; "using" in a ? a.using.call(b, g) : d.css(g)
        }; c.fn.offset = function (b) { var a = this[0]; if (!a || !a.ownerDocument) return null; if (b) return this.each(function () { c.offset.setOffset(this, b) }); return u.call(this) }
    }
})(jQuery);
; /*
 * jQuery UI Draggable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (d) {
    d.widget("ui.draggable", d.ui.mouse, { widgetEventPrefix: "drag", options: { addClasses: true, appendTo: "parent", axis: false, connectToSortable: false, containment: false, cursor: "auto", cursorAt: false, grid: false, handle: false, helper: "original", iframeFix: false, opacity: false, refreshPositions: false, revert: false, revertDuration: 500, scope: "default", scroll: true, scrollSensitivity: 20, scrollSpeed: 20, snap: false, snapMode: "both", snapTolerance: 20, stack: false, zIndex: false }, _create: function () {
        if (this.options.helper ==
"original" && !/^(?:r|a|f)/.test(this.element.css("position"))) this.element[0].style.position = "relative"; this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._mouseInit()
    }, destroy: function () { if (this.element.data("draggable")) { this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._mouseDestroy(); return this } }, _mouseCapture: function (a) {
        var b =
this.options; if (this.helper || b.disabled || d(a.target).is(".ui-resizable-handle")) return false; this.handle = this._getHandle(a); if (!this.handle) return false; return true
    }, _mouseStart: function (a) {
        var b = this.options; this.helper = this._createHelper(a); this._cacheHelperProportions(); if (d.ui.ddmanager) d.ui.ddmanager.current = this; this._cacheMargins(); this.cssPosition = this.helper.css("position"); this.scrollParent = this.helper.scrollParent(); this.offset = this.positionAbs = this.element.offset(); this.offset = { top: this.offset.top -
this.margins.top, left: this.offset.left - this.margins.left
        }; d.extend(this.offset, { click: { left: a.pageX - this.offset.left, top: a.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }); this.originalPosition = this.position = this._generatePosition(a); this.originalPageX = a.pageX; this.originalPageY = a.pageY; b.cursorAt && this._adjustOffsetFromHelper(b.cursorAt); b.containment && this._setContainment(); if (this._trigger("start", a) === false) { this._clear(); return false } this._cacheHelperProportions();
        d.ui.ddmanager && !b.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a); this.helper.addClass("ui-draggable-dragging"); this._mouseDrag(a, true); return true
    }, _mouseDrag: function (a, b) {
        this.position = this._generatePosition(a); this.positionAbs = this._convertPositionTo("absolute"); if (!b) { b = this._uiHash(); if (this._trigger("drag", a, b) === false) { this._mouseUp({}); return false } this.position = b.position } if (!this.options.axis || this.options.axis != "y") this.helper[0].style.left = this.position.left + "px"; if (!this.options.axis ||
this.options.axis != "x") this.helper[0].style.top = this.position.top + "px"; d.ui.ddmanager && d.ui.ddmanager.drag(this, a); return false
    }, _mouseStop: function (a) {
        var b = false; if (d.ui.ddmanager && !this.options.dropBehaviour) b = d.ui.ddmanager.drop(this, a); if (this.dropped) { b = this.dropped; this.dropped = false } if (!this.element[0] || !this.element[0].parentNode) return false; if (this.options.revert == "invalid" && !b || this.options.revert == "valid" && b || this.options.revert === true || d.isFunction(this.options.revert) && this.options.revert.call(this.element,
b)) { var c = this; d(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { c._trigger("stop", a) !== false && c._clear() }) } else this._trigger("stop", a) !== false && this._clear(); return false
    }, cancel: function () { this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(); return this }, _getHandle: function (a) {
        var b = !this.options.handle || !d(this.options.handle, this.element).length ? true : false; d(this.options.handle, this.element).find("*").andSelf().each(function () {
            if (this ==
a.target) b = true
        }); return b
    }, _createHelper: function (a) { var b = this.options; a = d.isFunction(b.helper) ? d(b.helper.apply(this.element[0], [a])) : b.helper == "clone" ? this.element.clone() : this.element; a.parents("body").length || a.appendTo(b.appendTo == "parent" ? this.element[0].parentNode : b.appendTo); a[0] != this.element[0] && !/(fixed|absolute)/.test(a.css("position")) && a.css("position", "absolute"); return a }, _adjustOffsetFromHelper: function (a) {
        if (typeof a == "string") a = a.split(" "); if (d.isArray(a)) a = { left: +a[0], top: +a[1] ||
0
        }; if ("left" in a) this.offset.click.left = a.left + this.margins.left; if ("right" in a) this.offset.click.left = this.helperProportions.width - a.right + this.margins.left; if ("top" in a) this.offset.click.top = a.top + this.margins.top; if ("bottom" in a) this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top
    }, _getParentOffset: function () {
        this.offsetParent = this.helper.offsetParent(); var a = this.offsetParent.offset(); if (this.cssPosition == "absolute" && this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0],
this.offsetParent[0])) { a.left += this.scrollParent.scrollLeft(); a.top += this.scrollParent.scrollTop() } if (this.offsetParent[0] == document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && d.browser.msie) a = { top: 0, left: 0 }; return { top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) }
    }, _getRelativeOffset: function () {
        if (this.cssPosition == "relative") {
            var a = this.element.position(); return { top: a.top -
(parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
            }
        } else return { top: 0, left: 0 }
    }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0} }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight()} }, _setContainment: function () {
        var a = this.options; if (a.containment ==
"parent") a.containment = this.helper[0].parentNode; if (a.containment == "document" || a.containment == "window") this.containment = [(a.containment == "document" ? 0 : d(window).scrollLeft()) - this.offset.relative.left - this.offset.parent.left, (a.containment == "document" ? 0 : d(window).scrollTop()) - this.offset.relative.top - this.offset.parent.top, (a.containment == "document" ? 0 : d(window).scrollLeft()) + d(a.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (a.containment == "document" ?
0 : d(window).scrollTop()) + (d(a.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; if (!/^(document|window|parent)$/.test(a.containment) && a.containment.constructor != Array) {
            var b = d(a.containment)[0]; if (b) {
                a = d(a.containment).offset(); var c = d(b).css("overflow") != "hidden"; this.containment = [a.left + (parseInt(d(b).css("borderLeftWidth"), 10) || 0) + (parseInt(d(b).css("paddingLeft"), 10) || 0) - this.margins.left, a.top + (parseInt(d(b).css("borderTopWidth"),
10) || 0) + (parseInt(d(b).css("paddingTop"), 10) || 0) - this.margins.top, a.left + (c ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(d(b).css("borderLeftWidth"), 10) || 0) - (parseInt(d(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, a.top + (c ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(d(b).css("borderTopWidth"), 10) || 0) - (parseInt(d(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
            }
        } else if (a.containment.constructor ==
Array) this.containment = a.containment
    }, _convertPositionTo: function (a, b) {
        if (!b) b = this.position; a = a == "absolute" ? 1 : -1; var c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, f = /(html|body)/i.test(c[0].tagName); return { top: b.top + this.offset.relative.top * a + this.offset.parent.top * a - (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() :
f ? 0 : c.scrollTop()) * a), left: b.left + this.offset.relative.left * a + this.offset.parent.left * a - (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : f ? 0 : c.scrollLeft()) * a)
        }
    }, _generatePosition: function (a) {
        var b = this.options, c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, f = /(html|body)/i.test(c[0].tagName), e = a.pageX, g = a.pageY;
        if (this.originalPosition) {
            if (this.containment) { if (a.pageX - this.offset.click.left < this.containment[0]) e = this.containment[0] + this.offset.click.left; if (a.pageY - this.offset.click.top < this.containment[1]) g = this.containment[1] + this.offset.click.top; if (a.pageX - this.offset.click.left > this.containment[2]) e = this.containment[2] + this.offset.click.left; if (a.pageY - this.offset.click.top > this.containment[3]) g = this.containment[3] + this.offset.click.top } if (b.grid) {
                g = this.originalPageY + Math.round((g - this.originalPageY) /
b.grid[1]) * b.grid[1]; g = this.containment ? !(g - this.offset.click.top < this.containment[1] || g - this.offset.click.top > this.containment[3]) ? g : !(g - this.offset.click.top < this.containment[1]) ? g - b.grid[1] : g + b.grid[1] : g; e = this.originalPageX + Math.round((e - this.originalPageX) / b.grid[0]) * b.grid[0]; e = this.containment ? !(e - this.offset.click.left < this.containment[0] || e - this.offset.click.left > this.containment[2]) ? e : !(e - this.offset.click.left < this.containment[0]) ? e - b.grid[0] : e + b.grid[0] : e
            }
        } return { top: g - this.offset.click.top -
this.offset.relative.top - this.offset.parent.top + (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : f ? 0 : c.scrollTop()), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (d.browser.safari && d.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : f ? 0 : c.scrollLeft())
        }
    }, _clear: function () {
        this.helper.removeClass("ui-draggable-dragging"); this.helper[0] !=
this.element[0] && !this.cancelHelperRemoval && this.helper.remove(); this.helper = null; this.cancelHelperRemoval = false
    }, _trigger: function (a, b, c) { c = c || this._uiHash(); d.ui.plugin.call(this, a, [b, c]); if (a == "drag") this.positionAbs = this._convertPositionTo("absolute"); return d.Widget.prototype._trigger.call(this, a, b, c) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs} }
    }); d.extend(d.ui.draggable, { version: "1.8.7" });
    d.ui.plugin.add("draggable", "connectToSortable", { start: function (a, b) { var c = d(this).data("draggable"), f = c.options, e = d.extend({}, b, { item: c.element }); c.sortables = []; d(f.connectToSortable).each(function () { var g = d.data(this, "sortable"); if (g && !g.options.disabled) { c.sortables.push({ instance: g, shouldRevert: g.options.revert }); g._refreshItems(); g._trigger("activate", a, e) } }) }, stop: function (a, b) {
        var c = d(this).data("draggable"), f = d.extend({}, b, { item: c.element }); d.each(c.sortables, function () {
            if (this.instance.isOver) {
                this.instance.isOver =
0; c.cancelHelperRemoval = true; this.instance.cancelHelperRemoval = false; if (this.shouldRevert) this.instance.options.revert = true; this.instance._mouseStop(a); this.instance.options.helper = this.instance.options._helper; c.options.helper == "original" && this.instance.currentItem.css({ top: "auto", left: "auto" })
            } else { this.instance.cancelHelperRemoval = false; this.instance._trigger("deactivate", a, f) }
        })
    }, drag: function (a, b) {
        var c = d(this).data("draggable"), f = this; d.each(c.sortables, function () {
            this.instance.positionAbs =
c.positionAbs; this.instance.helperProportions = c.helperProportions; this.instance.offset.click = c.offset.click; if (this.instance._intersectsWith(this.instance.containerCache)) {
                if (!this.instance.isOver) {
                    this.instance.isOver = 1; this.instance.currentItem = d(f).clone().appendTo(this.instance.element).data("sortable-item", true); this.instance.options._helper = this.instance.options.helper; this.instance.options.helper = function () { return b.helper[0] }; a.target = this.instance.currentItem[0]; this.instance._mouseCapture(a,
true); this.instance._mouseStart(a, true, true); this.instance.offset.click.top = c.offset.click.top; this.instance.offset.click.left = c.offset.click.left; this.instance.offset.parent.left -= c.offset.parent.left - this.instance.offset.parent.left; this.instance.offset.parent.top -= c.offset.parent.top - this.instance.offset.parent.top; c._trigger("toSortable", a); c.dropped = this.instance.element; c.currentItem = c.element; this.instance.fromOutside = c
                } this.instance.currentItem && this.instance._mouseDrag(a)
            } else if (this.instance.isOver) {
                this.instance.isOver =
0; this.instance.cancelHelperRemoval = true; this.instance.options.revert = false; this.instance._trigger("out", a, this.instance._uiHash(this.instance)); this.instance._mouseStop(a, true); this.instance.options.helper = this.instance.options._helper; this.instance.currentItem.remove(); this.instance.placeholder && this.instance.placeholder.remove(); c._trigger("fromSortable", a); c.dropped = false
            }
        })
    }
    }); d.ui.plugin.add("draggable", "cursor", { start: function () {
        var a = d("body"), b = d(this).data("draggable").options; if (a.css("cursor")) b._cursor =
a.css("cursor"); a.css("cursor", b.cursor)
    }, stop: function () { var a = d(this).data("draggable").options; a._cursor && d("body").css("cursor", a._cursor) }
    }); d.ui.plugin.add("draggable", "iframeFix", { start: function () { var a = d(this).data("draggable").options; d(a.iframeFix === true ? "iframe" : a.iframeFix).each(function () { d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({ width: this.offsetWidth + "px", height: this.offsetHeight + "px", position: "absolute", opacity: "0.001", zIndex: 1E3 }).css(d(this).offset()).appendTo("body") }) },
        stop: function () { d("div.ui-draggable-iframeFix").each(function () { this.parentNode.removeChild(this) }) }
    }); d.ui.plugin.add("draggable", "opacity", { start: function (a, b) { a = d(b.helper); b = d(this).data("draggable").options; if (a.css("opacity")) b._opacity = a.css("opacity"); a.css("opacity", b.opacity) }, stop: function (a, b) { a = d(this).data("draggable").options; a._opacity && d(b.helper).css("opacity", a._opacity) } }); d.ui.plugin.add("draggable", "scroll", { start: function () {
        var a = d(this).data("draggable"); if (a.scrollParent[0] !=
document && a.scrollParent[0].tagName != "HTML") a.overflowOffset = a.scrollParent.offset()
    }, drag: function (a) {
        var b = d(this).data("draggable"), c = b.options, f = false; if (b.scrollParent[0] != document && b.scrollParent[0].tagName != "HTML") {
            if (!c.axis || c.axis != "x") if (b.overflowOffset.top + b.scrollParent[0].offsetHeight - a.pageY < c.scrollSensitivity) b.scrollParent[0].scrollTop = f = b.scrollParent[0].scrollTop + c.scrollSpeed; else if (a.pageY - b.overflowOffset.top < c.scrollSensitivity) b.scrollParent[0].scrollTop = f = b.scrollParent[0].scrollTop -
c.scrollSpeed; if (!c.axis || c.axis != "y") if (b.overflowOffset.left + b.scrollParent[0].offsetWidth - a.pageX < c.scrollSensitivity) b.scrollParent[0].scrollLeft = f = b.scrollParent[0].scrollLeft + c.scrollSpeed; else if (a.pageX - b.overflowOffset.left < c.scrollSensitivity) b.scrollParent[0].scrollLeft = f = b.scrollParent[0].scrollLeft - c.scrollSpeed
        } else {
            if (!c.axis || c.axis != "x") if (a.pageY - d(document).scrollTop() < c.scrollSensitivity) f = d(document).scrollTop(d(document).scrollTop() - c.scrollSpeed); else if (d(window).height() -
(a.pageY - d(document).scrollTop()) < c.scrollSensitivity) f = d(document).scrollTop(d(document).scrollTop() + c.scrollSpeed); if (!c.axis || c.axis != "y") if (a.pageX - d(document).scrollLeft() < c.scrollSensitivity) f = d(document).scrollLeft(d(document).scrollLeft() - c.scrollSpeed); else if (d(window).width() - (a.pageX - d(document).scrollLeft()) < c.scrollSensitivity) f = d(document).scrollLeft(d(document).scrollLeft() + c.scrollSpeed)
        } f !== false && d.ui.ddmanager && !c.dropBehaviour && d.ui.ddmanager.prepareOffsets(b, a)
    }
    }); d.ui.plugin.add("draggable",
"snap", { start: function () { var a = d(this).data("draggable"), b = a.options; a.snapElements = []; d(b.snap.constructor != String ? b.snap.items || ":data(draggable)" : b.snap).each(function () { var c = d(this), f = c.offset(); this != a.element[0] && a.snapElements.push({ item: this, width: c.outerWidth(), height: c.outerHeight(), top: f.top, left: f.left }) }) }, drag: function (a, b) {
    for (var c = d(this).data("draggable"), f = c.options, e = f.snapTolerance, g = b.offset.left, n = g + c.helperProportions.width, m = b.offset.top, o = m + c.helperProportions.height, h =
c.snapElements.length - 1; h >= 0; h--) {
        var i = c.snapElements[h].left, k = i + c.snapElements[h].width, j = c.snapElements[h].top, l = j + c.snapElements[h].height; if (i - e < g && g < k + e && j - e < m && m < l + e || i - e < g && g < k + e && j - e < o && o < l + e || i - e < n && n < k + e && j - e < m && m < l + e || i - e < n && n < k + e && j - e < o && o < l + e) {
            if (f.snapMode != "inner") {
                var p = Math.abs(j - o) <= e, q = Math.abs(l - m) <= e, r = Math.abs(i - n) <= e, s = Math.abs(k - g) <= e; if (p) b.position.top = c._convertPositionTo("relative", { top: j - c.helperProportions.height, left: 0 }).top - c.margins.top; if (q) b.position.top = c._convertPositionTo("relative",
{ top: l, left: 0 }).top - c.margins.top; if (r) b.position.left = c._convertPositionTo("relative", { top: 0, left: i - c.helperProportions.width }).left - c.margins.left; if (s) b.position.left = c._convertPositionTo("relative", { top: 0, left: k }).left - c.margins.left
            } var t = p || q || r || s; if (f.snapMode != "outer") {
                p = Math.abs(j - m) <= e; q = Math.abs(l - o) <= e; r = Math.abs(i - g) <= e; s = Math.abs(k - n) <= e; if (p) b.position.top = c._convertPositionTo("relative", { top: j, left: 0 }).top - c.margins.top; if (q) b.position.top = c._convertPositionTo("relative", { top: l - c.helperProportions.height,
                    left: 0
                }).top - c.margins.top; if (r) b.position.left = c._convertPositionTo("relative", { top: 0, left: i }).left - c.margins.left; if (s) b.position.left = c._convertPositionTo("relative", { top: 0, left: k - c.helperProportions.width }).left - c.margins.left
            } if (!c.snapElements[h].snapping && (p || q || r || s || t)) c.options.snap.snap && c.options.snap.snap.call(c.element, a, d.extend(c._uiHash(), { snapItem: c.snapElements[h].item })); c.snapElements[h].snapping = p || q || r || s || t
        } else {
            c.snapElements[h].snapping && c.options.snap.release && c.options.snap.release.call(c.element,
a, d.extend(c._uiHash(), { snapItem: c.snapElements[h].item })); c.snapElements[h].snapping = false
        }
    }
}
}); d.ui.plugin.add("draggable", "stack", { start: function () { var a = d(this).data("draggable").options; a = d.makeArray(d(a.stack)).sort(function (c, f) { return (parseInt(d(c).css("zIndex"), 10) || 0) - (parseInt(d(f).css("zIndex"), 10) || 0) }); if (a.length) { var b = parseInt(a[0].style.zIndex) || 0; d(a).each(function (c) { this.style.zIndex = b + c }); this[0].style.zIndex = b + a.length } } }); d.ui.plugin.add("draggable", "zIndex", { start: function (a,
b) { a = d(b.helper); b = d(this).data("draggable").options; if (a.css("zIndex")) b._zIndex = a.css("zIndex"); a.css("zIndex", b.zIndex) }, stop: function (a, b) { a = d(this).data("draggable").options; a._zIndex && d(b.helper).css("zIndex", a._zIndex) }
})
})(jQuery);
; /*
 * jQuery UI Droppable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
(function (d) {
    d.widget("ui.droppable", { widgetEventPrefix: "drop", options: { accept: "*", activeClass: false, addClasses: true, greedy: false, hoverClass: false, scope: "default", tolerance: "intersect" }, _create: function () {
        var a = this.options, b = a.accept; this.isover = 0; this.isout = 1; this.accept = d.isFunction(b) ? b : function (c) { return c.is(b) }; this.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight }; d.ui.ddmanager.droppables[a.scope] = d.ui.ddmanager.droppables[a.scope] || []; d.ui.ddmanager.droppables[a.scope].push(this);
        a.addClasses && this.element.addClass("ui-droppable")
    }, destroy: function () { for (var a = d.ui.ddmanager.droppables[this.options.scope], b = 0; b < a.length; b++) a[b] == this && a.splice(b, 1); this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"); return this }, _setOption: function (a, b) { if (a == "accept") this.accept = d.isFunction(b) ? b : function (c) { return c.is(b) }; d.Widget.prototype._setOption.apply(this, arguments) }, _activate: function (a) {
        var b = d.ui.ddmanager.current; this.options.activeClass &&
this.element.addClass(this.options.activeClass); b && this._trigger("activate", a, this.ui(b))
    }, _deactivate: function (a) { var b = d.ui.ddmanager.current; this.options.activeClass && this.element.removeClass(this.options.activeClass); b && this._trigger("deactivate", a, this.ui(b)) }, _over: function (a) {
        var b = d.ui.ddmanager.current; if (!(!b || (b.currentItem || b.element)[0] == this.element[0])) if (this.accept.call(this.element[0], b.currentItem || b.element)) {
            this.options.hoverClass && this.element.addClass(this.options.hoverClass);
            this._trigger("over", a, this.ui(b))
        }
    }, _out: function (a) { var b = d.ui.ddmanager.current; if (!(!b || (b.currentItem || b.element)[0] == this.element[0])) if (this.accept.call(this.element[0], b.currentItem || b.element)) { this.options.hoverClass && this.element.removeClass(this.options.hoverClass); this._trigger("out", a, this.ui(b)) } }, _drop: function (a, b) {
        var c = b || d.ui.ddmanager.current; if (!c || (c.currentItem || c.element)[0] == this.element[0]) return false; var e = false; this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function () {
            var g =
d.data(this, "droppable"); if (g.options.greedy && !g.options.disabled && g.options.scope == c.options.scope && g.accept.call(g.element[0], c.currentItem || c.element) && d.ui.intersect(c, d.extend(g, { offset: g.element.offset() }), g.options.tolerance)) { e = true; return false }
        }); if (e) return false; if (this.accept.call(this.element[0], c.currentItem || c.element)) {
            this.options.activeClass && this.element.removeClass(this.options.activeClass); this.options.hoverClass && this.element.removeClass(this.options.hoverClass); this._trigger("drop",
a, this.ui(c)); return this.element
        } return false
    }, ui: function (a) { return { draggable: a.currentItem || a.element, helper: a.helper, position: a.position, offset: a.positionAbs} }
    }); d.extend(d.ui.droppable, { version: "1.8.7" }); d.ui.intersect = function (a, b, c) {
        if (!b.offset) return false; var e = (a.positionAbs || a.position.absolute).left, g = e + a.helperProportions.width, f = (a.positionAbs || a.position.absolute).top, h = f + a.helperProportions.height, i = b.offset.left, k = i + b.proportions.width, j = b.offset.top, l = j + b.proportions.height;
        switch (c) {
            case "fit": return i <= e && g <= k && j <= f && h <= l; case "intersect": return i < e + a.helperProportions.width / 2 && g - a.helperProportions.width / 2 < k && j < f + a.helperProportions.height / 2 && h - a.helperProportions.height / 2 < l; case "pointer": return d.ui.isOver((a.positionAbs || a.position.absolute).top + (a.clickOffset || a.offset.click).top, (a.positionAbs || a.position.absolute).left + (a.clickOffset || a.offset.click).left, j, i, b.proportions.height, b.proportions.width); case "touch": return (f >= j && f <= l || h >= j && h <= l || f < j && h > l) && (e >=
i && e <= k || g >= i && g <= k || e < i && g > k); default: return false
        }
    }; d.ui.ddmanager = { current: null, droppables: { "default": [] }, prepareOffsets: function (a, b) {
        var c = d.ui.ddmanager.droppables[a.options.scope] || [], e = b ? b.type : null, g = (a.currentItem || a.element).find(":data(droppable)").andSelf(), f = 0; a: for (; f < c.length; f++) if (!(c[f].options.disabled || a && !c[f].accept.call(c[f].element[0], a.currentItem || a.element))) {
            for (var h = 0; h < g.length; h++) if (g[h] == c[f].element[0]) { c[f].proportions.height = 0; continue a } c[f].visible = c[f].element.css("display") !=
"none"; if (c[f].visible) { c[f].offset = c[f].element.offset(); c[f].proportions = { width: c[f].element[0].offsetWidth, height: c[f].element[0].offsetHeight }; e == "mousedown" && c[f]._activate.call(c[f], b) }
        }
    }, drop: function (a, b) {
        var c = false; d.each(d.ui.ddmanager.droppables[a.options.scope] || [], function () {
            if (this.options) {
                if (!this.options.disabled && this.visible && d.ui.intersect(a, this, this.options.tolerance)) c = c || this._drop.call(this, b); if (!this.options.disabled && this.visible && this.accept.call(this.element[0], a.currentItem ||
a.element)) { this.isout = 1; this.isover = 0; this._deactivate.call(this, b) }
            }
        }); return c
    }, drag: function (a, b) {
        a.options.refreshPositions && d.ui.ddmanager.prepareOffsets(a, b); d.each(d.ui.ddmanager.droppables[a.options.scope] || [], function () {
            if (!(this.options.disabled || this.greedyChild || !this.visible)) {
                var c = d.ui.intersect(a, this, this.options.tolerance); if (c = !c && this.isover == 1 ? "isout" : c && this.isover == 0 ? "isover" : null) {
                    var e; if (this.options.greedy) {
                        var g = this.element.parents(":data(droppable):eq(0)"); if (g.length) {
                            e =
d.data(g[0], "droppable"); e.greedyChild = c == "isover" ? 1 : 0
                        }
                    } if (e && c == "isover") { e.isover = 0; e.isout = 1; e._out.call(e, b) } this[c] = 1; this[c == "isout" ? "isover" : "isout"] = 0; this[c == "isover" ? "_over" : "_out"].call(this, b); if (e && c == "isout") { e.isout = 0; e.isover = 1; e._over.call(e, b) }
                }
            }
        })
    }
    }
})(jQuery);
; /*
 * jQuery UI Resizable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (e) {
    e.widget("ui.resizable", e.ui.mouse, { widgetEventPrefix: "resize", options: { alsoResize: false, animate: false, animateDuration: "slow", animateEasing: "swing", aspectRatio: false, autoHide: false, containment: false, ghost: false, grid: false, handles: "e,s,se", helper: false, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 1E3 }, _create: function () {
        var b = this, a = this.options; this.element.addClass("ui-resizable"); e.extend(this, { _aspectRatio: !!a.aspectRatio, aspectRatio: a.aspectRatio, originalElement: this.element,
            _proportionallyResizeElements: [], _helper: a.helper || a.ghost || a.animate ? a.helper || "ui-resizable-helper" : null
        }); if (this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {
            /relative/.test(this.element.css("position")) && e.browser.opera && this.element.css({ position: "relative", top: "auto", left: "auto" }); this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(),
                top: this.element.css("top"), left: this.element.css("left")
            })); this.element = this.element.parent().data("resizable", this.element.data("resizable")); this.elementIsWrapper = true; this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }); this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }); this.originalResizeStyle =
this.originalElement.css("resize"); this.originalElement.css("resize", "none"); this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })); this.originalElement.css({ margin: this.originalElement.css("margin") }); this._proportionallyResize()
        } this.handles = a.handles || (!e(".ui-resizable-handle", this.element).length ? "e,s,se" : { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne",
            nw: ".ui-resizable-nw"
        }); if (this.handles.constructor == String) { if (this.handles == "all") this.handles = "n,e,s,w,se,sw,ne,nw"; var c = this.handles.split(","); this.handles = {}; for (var d = 0; d < c.length; d++) { var f = e.trim(c[d]), g = e('<div class="ui-resizable-handle ' + ("ui-resizable-" + f) + '"></div>'); /sw|se|ne|nw/.test(f) && g.css({ zIndex: ++a.zIndex }); "se" == f && g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"); this.handles[f] = ".ui-resizable-" + f; this.element.append(g) } } this._renderAxis = function (h) {
            h = h || this.element; for (var i in this.handles) {
                if (this.handles[i].constructor ==
String) this.handles[i] = e(this.handles[i], this.element).show(); if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) { var j = e(this.handles[i], this.element), k = 0; k = /sw|ne|nw|se|n|s/.test(i) ? j.outerHeight() : j.outerWidth(); j = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""); h.css(j, k); this._proportionallyResize() } e(this.handles[i])
            }
        }; this._renderAxis(this.element); this._handles = e(".ui-resizable-handle", this.element).disableSelection();
        this._handles.mouseover(function () { if (!b.resizing) { if (this.className) var h = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i); b.axis = h && h[1] ? h[1] : "se" } }); if (a.autoHide) { this._handles.hide(); e(this.element).addClass("ui-resizable-autohide").hover(function () { e(this).removeClass("ui-resizable-autohide"); b._handles.show() }, function () { if (!b.resizing) { e(this).addClass("ui-resizable-autohide"); b._handles.hide() } }) } this._mouseInit()
    }, destroy: function () {
        this._mouseDestroy(); var b = function (c) { e(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove() };
        if (this.elementIsWrapper) { b(this.element); var a = this.element; a.after(this.originalElement.css({ position: a.css("position"), width: a.outerWidth(), height: a.outerHeight(), top: a.css("top"), left: a.css("left") })).remove() } this.originalElement.css("resize", this.originalResizeStyle); b(this.originalElement); return this
    }, _mouseCapture: function (b) { var a = false; for (var c in this.handles) if (e(this.handles[c])[0] == b.target) a = true; return !this.options.disabled && a }, _mouseStart: function (b) {
        var a = this.options, c = this.element.position(),
d = this.element; this.resizing = true; this.documentScroll = { top: e(document).scrollTop(), left: e(document).scrollLeft() }; if (d.is(".ui-draggable") || /absolute/.test(d.css("position"))) d.css({ position: "absolute", top: c.top, left: c.left }); e.browser.opera && /relative/.test(d.css("position")) && d.css({ position: "relative", top: "auto", left: "auto" }); this._renderProxy(); c = m(this.helper.css("left")); var f = m(this.helper.css("top")); if (a.containment) { c += e(a.containment).scrollLeft() || 0; f += e(a.containment).scrollTop() || 0 } this.offset =
this.helper.offset(); this.position = { left: c, top: f }; this.size = this._helper ? { width: d.outerWidth(), height: d.outerHeight()} : { width: d.width(), height: d.height() }; this.originalSize = this._helper ? { width: d.outerWidth(), height: d.outerHeight()} : { width: d.width(), height: d.height() }; this.originalPosition = { left: c, top: f }; this.sizeDiff = { width: d.outerWidth() - d.width(), height: d.outerHeight() - d.height() }; this.originalMousePosition = { left: b.pageX, top: b.pageY }; this.aspectRatio = typeof a.aspectRatio == "number" ? a.aspectRatio :
this.originalSize.width / this.originalSize.height || 1; a = e(".ui-resizable-" + this.axis).css("cursor"); e("body").css("cursor", a == "auto" ? this.axis + "-resize" : a); d.addClass("ui-resizable-resizing"); this._propagate("start", b); return true
    }, _mouseDrag: function (b) {
        var a = this.helper, c = this.originalMousePosition, d = this._change[this.axis]; if (!d) return false; c = d.apply(this, [b, b.pageX - c.left || 0, b.pageY - c.top || 0]); if (this._aspectRatio || b.shiftKey) c = this._updateRatio(c, b); c = this._respectSize(c, b); this._propagate("resize",
b); a.css({ top: this.position.top + "px", left: this.position.left + "px", width: this.size.width + "px", height: this.size.height + "px" }); !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(); this._updateCache(c); this._trigger("resize", b, this.ui()); return false
    }, _mouseStop: function (b) {
        this.resizing = false; var a = this.options, c = this; if (this._helper) {
            var d = this._proportionallyResizeElements, f = d.length && /textarea/i.test(d[0].nodeName); d = f && e.ui.hasScroll(d[0], "left") ? 0 : c.sizeDiff.height;
            f = { width: c.size.width - (f ? 0 : c.sizeDiff.width), height: c.size.height - d }; d = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null; var g = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null; a.animate || this.element.css(e.extend(f, { top: g, left: d })); c.helper.height(c.size.height); c.helper.width(c.size.width); this._helper && !a.animate && this._proportionallyResize()
        } e("body").css("cursor", "auto"); this.element.removeClass("ui-resizable-resizing"); this._propagate("stop",
b); this._helper && this.helper.remove(); return false
    }, _updateCache: function (b) { this.offset = this.helper.offset(); if (l(b.left)) this.position.left = b.left; if (l(b.top)) this.position.top = b.top; if (l(b.height)) this.size.height = b.height; if (l(b.width)) this.size.width = b.width }, _updateRatio: function (b) {
        var a = this.position, c = this.size, d = this.axis; if (b.height) b.width = c.height * this.aspectRatio; else if (b.width) b.height = c.width / this.aspectRatio; if (d == "sw") { b.left = a.left + (c.width - b.width); b.top = null } if (d == "nw") {
            b.top =
a.top + (c.height - b.height); b.left = a.left + (c.width - b.width)
        } return b
    }, _respectSize: function (b) {
        var a = this.options, c = this.axis, d = l(b.width) && a.maxWidth && a.maxWidth < b.width, f = l(b.height) && a.maxHeight && a.maxHeight < b.height, g = l(b.width) && a.minWidth && a.minWidth > b.width, h = l(b.height) && a.minHeight && a.minHeight > b.height; if (g) b.width = a.minWidth; if (h) b.height = a.minHeight; if (d) b.width = a.maxWidth; if (f) b.height = a.maxHeight; var i = this.originalPosition.left + this.originalSize.width, j = this.position.top + this.size.height,
k = /sw|nw|w/.test(c); c = /nw|ne|n/.test(c); if (g && k) b.left = i - a.minWidth; if (d && k) b.left = i - a.maxWidth; if (h && c) b.top = j - a.minHeight; if (f && c) b.top = j - a.maxHeight; if ((a = !b.width && !b.height) && !b.left && b.top) b.top = null; else if (a && !b.top && b.left) b.left = null; return b
    }, _proportionallyResize: function () {
        if (this._proportionallyResizeElements.length) for (var b = this.helper || this.element, a = 0; a < this._proportionallyResizeElements.length; a++) {
            var c = this._proportionallyResizeElements[a]; if (!this.borderDif) {
                var d = [c.css("borderTopWidth"),
c.css("borderRightWidth"), c.css("borderBottomWidth"), c.css("borderLeftWidth")], f = [c.css("paddingTop"), c.css("paddingRight"), c.css("paddingBottom"), c.css("paddingLeft")]; this.borderDif = e.map(d, function (g, h) { g = parseInt(g, 10) || 0; h = parseInt(f[h], 10) || 0; return g + h })
            } e.browser.msie && (e(b).is(":hidden") || e(b).parents(":hidden").length) || c.css({ height: b.height() - this.borderDif[0] - this.borderDif[2] || 0, width: b.width() - this.borderDif[1] - this.borderDif[3] || 0 })
        }
    }, _renderProxy: function () {
        var b = this.options; this.elementOffset =
this.element.offset(); if (this._helper) { this.helper = this.helper || e('<div style="overflow:hidden;"></div>'); var a = e.browser.msie && e.browser.version < 7, c = a ? 1 : 0; a = a ? 2 : -1; this.helper.addClass(this._helper).css({ width: this.element.outerWidth() + a, height: this.element.outerHeight() + a, position: "absolute", left: this.elementOffset.left - c + "px", top: this.elementOffset.top - c + "px", zIndex: ++b.zIndex }); this.helper.appendTo("body").disableSelection() } else this.helper = this.element
    }, _change: { e: function (b, a) {
        return { width: this.originalSize.width +
a
        }
    }, w: function (b, a) { return { left: this.originalPosition.left + a, width: this.originalSize.width - a} }, n: function (b, a, c) { return { top: this.originalPosition.top + c, height: this.originalSize.height - c} }, s: function (b, a, c) { return { height: this.originalSize.height + c} }, se: function (b, a, c) { return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [b, a, c])) }, sw: function (b, a, c) { return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [b, a, c])) }, ne: function (b, a, c) {
        return e.extend(this._change.n.apply(this,
arguments), this._change.e.apply(this, [b, a, c]))
    }, nw: function (b, a, c) { return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [b, a, c])) }
    }, _propagate: function (b, a) { e.ui.plugin.call(this, b, [a, this.ui()]); b != "resize" && this._trigger(b, a, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition} }
    }); e.extend(e.ui.resizable,
{ version: "1.8.7" }); e.ui.plugin.add("resizable", "alsoResize", { start: function () {
    var b = e(this).data("resizable").options, a = function (c) { e(c).each(function () { var d = e(this); d.data("resizable-alsoresize", { width: parseInt(d.width(), 10), height: parseInt(d.height(), 10), left: parseInt(d.css("left"), 10), top: parseInt(d.css("top"), 10), position: d.css("position") }) }) }; if (typeof b.alsoResize == "object" && !b.alsoResize.parentNode) if (b.alsoResize.length) { b.alsoResize = b.alsoResize[0]; a(b.alsoResize) } else e.each(b.alsoResize,
function (c) { a(c) }); else a(b.alsoResize)
}, resize: function (b, a) {
    var c = e(this).data("resizable"); b = c.options; var d = c.originalSize, f = c.originalPosition, g = { height: c.size.height - d.height || 0, width: c.size.width - d.width || 0, top: c.position.top - f.top || 0, left: c.position.left - f.left || 0 }, h = function (i, j) {
        e(i).each(function () {
            var k = e(this), q = e(this).data("resizable-alsoresize"), p = {}, r = j && j.length ? j : k.parents(a.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; e.each(r, function (n, o) {
                if ((n =
(q[o] || 0) + (g[o] || 0)) && n >= 0) p[o] = n || null
            }); if (e.browser.opera && /relative/.test(k.css("position"))) { c._revertToRelativePosition = true; k.css({ position: "absolute", top: "auto", left: "auto" }) } k.css(p)
        })
    }; typeof b.alsoResize == "object" && !b.alsoResize.nodeType ? e.each(b.alsoResize, function (i, j) { h(i, j) }) : h(b.alsoResize)
}, stop: function () {
    var b = e(this).data("resizable"), a = b.options, c = function (d) { e(d).each(function () { var f = e(this); f.css({ position: f.data("resizable-alsoresize").position }) }) }; if (b._revertToRelativePosition) {
        b._revertToRelativePosition =
false; typeof a.alsoResize == "object" && !a.alsoResize.nodeType ? e.each(a.alsoResize, function (d) { c(d) }) : c(a.alsoResize)
    } e(this).removeData("resizable-alsoresize")
}
}); e.ui.plugin.add("resizable", "animate", { stop: function (b) {
    var a = e(this).data("resizable"), c = a.options, d = a._proportionallyResizeElements, f = d.length && /textarea/i.test(d[0].nodeName), g = f && e.ui.hasScroll(d[0], "left") ? 0 : a.sizeDiff.height; f = { width: a.size.width - (f ? 0 : a.sizeDiff.width), height: a.size.height - g }; g = parseInt(a.element.css("left"), 10) + (a.position.left -
a.originalPosition.left) || null; var h = parseInt(a.element.css("top"), 10) + (a.position.top - a.originalPosition.top) || null; a.element.animate(e.extend(f, h && g ? { top: h, left: g} : {}), { duration: c.animateDuration, easing: c.animateEasing, step: function () {
    var i = { width: parseInt(a.element.css("width"), 10), height: parseInt(a.element.css("height"), 10), top: parseInt(a.element.css("top"), 10), left: parseInt(a.element.css("left"), 10) }; d && d.length && e(d[0]).css({ width: i.width, height: i.height }); a._updateCache(i); a._propagate("resize",
b)
}
})
}
}); e.ui.plugin.add("resizable", "containment", { start: function () {
    var b = e(this).data("resizable"), a = b.element, c = b.options.containment; if (a = c instanceof e ? c.get(0) : /parent/.test(c) ? a.parent().get(0) : c) {
        b.containerElement = e(a); if (/document/.test(c) || c == document) { b.containerOffset = { left: 0, top: 0 }; b.containerPosition = { left: 0, top: 0 }; b.parentData = { element: e(document), left: 0, top: 0, width: e(document).width(), height: e(document).height() || document.body.parentNode.scrollHeight} } else {
            var d = e(a), f = []; e(["Top",
"Right", "Left", "Bottom"]).each(function (i, j) { f[i] = m(d.css("padding" + j)) }); b.containerOffset = d.offset(); b.containerPosition = d.position(); b.containerSize = { height: d.innerHeight() - f[3], width: d.innerWidth() - f[1] }; c = b.containerOffset; var g = b.containerSize.height, h = b.containerSize.width; h = e.ui.hasScroll(a, "left") ? a.scrollWidth : h; g = e.ui.hasScroll(a) ? a.scrollHeight : g; b.parentData = { element: a, left: c.left, top: c.top, width: h, height: g }
        }
    }
}, resize: function (b) {
    var a = e(this).data("resizable"), c = a.options, d = a.containerOffset,
f = a.position; b = a._aspectRatio || b.shiftKey; var g = { top: 0, left: 0 }, h = a.containerElement; if (h[0] != document && /static/.test(h.css("position"))) g = d; if (f.left < (a._helper ? d.left : 0)) { a.size.width += a._helper ? a.position.left - d.left : a.position.left - g.left; if (b) a.size.height = a.size.width / c.aspectRatio; a.position.left = c.helper ? d.left : 0 } if (f.top < (a._helper ? d.top : 0)) { a.size.height += a._helper ? a.position.top - d.top : a.position.top; if (b) a.size.width = a.size.height * c.aspectRatio; a.position.top = a._helper ? d.top : 0 } a.offset.left =
a.parentData.left + a.position.left; a.offset.top = a.parentData.top + a.position.top; c = Math.abs((a._helper ? a.offset.left - g.left : a.offset.left - g.left) + a.sizeDiff.width); d = Math.abs((a._helper ? a.offset.top - g.top : a.offset.top - d.top) + a.sizeDiff.height); f = a.containerElement.get(0) == a.element.parent().get(0); g = /relative|absolute/.test(a.containerElement.css("position")); if (f && g) c -= a.parentData.left; if (c + a.size.width >= a.parentData.width) { a.size.width = a.parentData.width - c; if (b) a.size.height = a.size.width / a.aspectRatio } if (d +
a.size.height >= a.parentData.height) { a.size.height = a.parentData.height - d; if (b) a.size.width = a.size.height * a.aspectRatio }
}, stop: function () {
    var b = e(this).data("resizable"), a = b.options, c = b.containerOffset, d = b.containerPosition, f = b.containerElement, g = e(b.helper), h = g.offset(), i = g.outerWidth() - b.sizeDiff.width; g = g.outerHeight() - b.sizeDiff.height; b._helper && !a.animate && /relative/.test(f.css("position")) && e(this).css({ left: h.left - d.left - c.left, width: i, height: g }); b._helper && !a.animate && /static/.test(f.css("position")) &&
e(this).css({ left: h.left - d.left - c.left, width: i, height: g })
}
}); e.ui.plugin.add("resizable", "ghost", { start: function () { var b = e(this).data("resizable"), a = b.options, c = b.size; b.ghost = b.originalElement.clone(); b.ghost.css({ opacity: 0.25, display: "block", position: "relative", height: c.height, width: c.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof a.ghost == "string" ? a.ghost : ""); b.ghost.appendTo(b.helper) }, resize: function () {
    var b = e(this).data("resizable"); b.ghost && b.ghost.css({ position: "relative",
        height: b.size.height, width: b.size.width
    })
}, stop: function () { var b = e(this).data("resizable"); b.ghost && b.helper && b.helper.get(0).removeChild(b.ghost.get(0)) }
}); e.ui.plugin.add("resizable", "grid", { resize: function () {
    var b = e(this).data("resizable"), a = b.options, c = b.size, d = b.originalSize, f = b.originalPosition, g = b.axis; a.grid = typeof a.grid == "number" ? [a.grid, a.grid] : a.grid; var h = Math.round((c.width - d.width) / (a.grid[0] || 1)) * (a.grid[0] || 1); a = Math.round((c.height - d.height) / (a.grid[1] || 1)) * (a.grid[1] || 1); if (/^(se|s|e)$/.test(g)) {
        b.size.width =
d.width + h; b.size.height = d.height + a
    } else if (/^(ne)$/.test(g)) { b.size.width = d.width + h; b.size.height = d.height + a; b.position.top = f.top - a } else { if (/^(sw)$/.test(g)) { b.size.width = d.width + h; b.size.height = d.height + a } else { b.size.width = d.width + h; b.size.height = d.height + a; b.position.top = f.top - a } b.position.left = f.left - h }
}
}); var m = function (b) { return parseInt(b, 10) || 0 }, l = function (b) { return !isNaN(parseInt(b, 10)) }
})(jQuery);
; /*
 * jQuery UI Selectable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (e) {
    e.widget("ui.selectable", e.ui.mouse, { options: { appendTo: "body", autoRefresh: true, distance: 0, filter: "*", tolerance: "touch" }, _create: function () {
        var c = this; this.element.addClass("ui-selectable"); this.dragged = false; var f; this.refresh = function () {
            f = e(c.options.filter, c.element[0]); f.each(function () {
                var d = e(this), b = d.offset(); e.data(this, "selectable-item", { element: this, $element: d, left: b.left, top: b.top, right: b.left + d.outerWidth(), bottom: b.top + d.outerHeight(), startselected: false, selected: d.hasClass("ui-selected"),
                    selecting: d.hasClass("ui-selecting"), unselecting: d.hasClass("ui-unselecting")
                })
            })
        }; this.refresh(); this.selectees = f.addClass("ui-selectee"); this._mouseInit(); this.helper = e("<div class='ui-selectable-helper'></div>")
    }, destroy: function () { this.selectees.removeClass("ui-selectee").removeData("selectable-item"); this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"); this._mouseDestroy(); return this }, _mouseStart: function (c) {
        var f = this; this.opos = [c.pageX,
c.pageY]; if (!this.options.disabled) {
            var d = this.options; this.selectees = e(d.filter, this.element[0]); this._trigger("start", c); e(d.appendTo).append(this.helper); this.helper.css({ left: c.clientX, top: c.clientY, width: 0, height: 0 }); d.autoRefresh && this.refresh(); this.selectees.filter(".ui-selected").each(function () {
                var b = e.data(this, "selectable-item"); b.startselected = true; if (!c.metaKey) {
                    b.$element.removeClass("ui-selected"); b.selected = false; b.$element.addClass("ui-unselecting"); b.unselecting = true; f._trigger("unselecting",
c, { unselecting: b.element })
                }
            }); e(c.target).parents().andSelf().each(function () { var b = e.data(this, "selectable-item"); if (b) { var g = !c.metaKey || !b.$element.hasClass("ui-selected"); b.$element.removeClass(g ? "ui-unselecting" : "ui-selected").addClass(g ? "ui-selecting" : "ui-unselecting"); b.unselecting = !g; b.selecting = g; (b.selected = g) ? f._trigger("selecting", c, { selecting: b.element }) : f._trigger("unselecting", c, { unselecting: b.element }); return false } })
        }
    }, _mouseDrag: function (c) {
        var f = this; this.dragged = true; if (!this.options.disabled) {
            var d =
this.options, b = this.opos[0], g = this.opos[1], h = c.pageX, i = c.pageY; if (b > h) { var j = h; h = b; b = j } if (g > i) { j = i; i = g; g = j } this.helper.css({ left: b, top: g, width: h - b, height: i - g }); this.selectees.each(function () {
    var a = e.data(this, "selectable-item"); if (!(!a || a.element == f.element[0])) {
        var k = false; if (d.tolerance == "touch") k = !(a.left > h || a.right < b || a.top > i || a.bottom < g); else if (d.tolerance == "fit") k = a.left > b && a.right < h && a.top > g && a.bottom < i; if (k) {
            if (a.selected) { a.$element.removeClass("ui-selected"); a.selected = false } if (a.unselecting) {
                a.$element.removeClass("ui-unselecting");
                a.unselecting = false
            } if (!a.selecting) { a.$element.addClass("ui-selecting"); a.selecting = true; f._trigger("selecting", c, { selecting: a.element }) }
        } else {
            if (a.selecting) if (c.metaKey && a.startselected) { a.$element.removeClass("ui-selecting"); a.selecting = false; a.$element.addClass("ui-selected"); a.selected = true } else { a.$element.removeClass("ui-selecting"); a.selecting = false; if (a.startselected) { a.$element.addClass("ui-unselecting"); a.unselecting = true } f._trigger("unselecting", c, { unselecting: a.element }) } if (a.selected) if (!c.metaKey &&
!a.startselected) { a.$element.removeClass("ui-selected"); a.selected = false; a.$element.addClass("ui-unselecting"); a.unselecting = true; f._trigger("unselecting", c, { unselecting: a.element }) }
        }
    }
}); return false
        }
    }, _mouseStop: function (c) {
        var f = this; this.dragged = false; e(".ui-unselecting", this.element[0]).each(function () { var d = e.data(this, "selectable-item"); d.$element.removeClass("ui-unselecting"); d.unselecting = false; d.startselected = false; f._trigger("unselected", c, { unselected: d.element }) }); e(".ui-selecting", this.element[0]).each(function () {
            var d =
e.data(this, "selectable-item"); d.$element.removeClass("ui-selecting").addClass("ui-selected"); d.selecting = false; d.selected = true; d.startselected = true; f._trigger("selected", c, { selected: d.element })
        }); this._trigger("stop", c); this.helper.remove(); return false
    }
    }); e.extend(e.ui.selectable, { version: "1.8.7" })
})(jQuery);
; /*
 * jQuery UI Sortable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (d) {
    d.widget("ui.sortable", d.ui.mouse, { widgetEventPrefix: "sort", options: { appendTo: "parent", axis: false, connectWith: false, containment: false, cursor: "auto", cursorAt: false, dropOnEmpty: true, forcePlaceholderSize: false, forceHelperSize: false, grid: false, handle: false, helper: "original", items: "> *", opacity: false, placeholder: false, revert: false, scroll: true, scrollSensitivity: 20, scrollSpeed: 20, scope: "default", tolerance: "intersect", zIndex: 1E3 }, _create: function () {
        this.containerCache = {}; this.element.addClass("ui-sortable");
        this.refresh(); this.floating = this.items.length ? /left|right/.test(this.items[0].item.css("float")) : false; this.offset = this.element.offset(); this._mouseInit()
    }, destroy: function () { this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"); this._mouseDestroy(); for (var a = this.items.length - 1; a >= 0; a--) this.items[a].item.removeData("sortable-item"); return this }, _setOption: function (a, b) {
        if (a === "disabled") { this.options[a] = b; this.widget()[b ? "addClass" : "removeClass"]("ui-sortable-disabled") } else d.Widget.prototype._setOption.apply(this,
arguments)
    }, _mouseCapture: function (a, b) {
        if (this.reverting) return false; if (this.options.disabled || this.options.type == "static") return false; this._refreshItems(a); var c = null, e = this; d(a.target).parents().each(function () { if (d.data(this, "sortable-item") == e) { c = d(this); return false } }); if (d.data(a.target, "sortable-item") == e) c = d(a.target); if (!c) return false; if (this.options.handle && !b) { var f = false; d(this.options.handle, c).find("*").andSelf().each(function () { if (this == a.target) f = true }); if (!f) return false } this.currentItem =
c; this._removeCurrentsFromItems(); return true
    }, _mouseStart: function (a, b, c) {
        b = this.options; var e = this; this.currentContainer = this; this.refreshPositions(); this.helper = this._createHelper(a); this._cacheHelperProportions(); this._cacheMargins(); this.scrollParent = this.helper.scrollParent(); this.offset = this.currentItem.offset(); this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }; this.helper.css("position", "absolute"); this.cssPosition = this.helper.css("position"); d.extend(this.offset,
{ click: { left: a.pageX - this.offset.left, top: a.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }); this.originalPosition = this._generatePosition(a); this.originalPageX = a.pageX; this.originalPageY = a.pageY; b.cursorAt && this._adjustOffsetFromHelper(b.cursorAt); this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] }; this.helper[0] != this.currentItem[0] && this.currentItem.hide(); this._createPlaceholder(); b.containment && this._setContainment();
        if (b.cursor) { if (d("body").css("cursor")) this._storedCursor = d("body").css("cursor"); d("body").css("cursor", b.cursor) } if (b.opacity) { if (this.helper.css("opacity")) this._storedOpacity = this.helper.css("opacity"); this.helper.css("opacity", b.opacity) } if (b.zIndex) { if (this.helper.css("zIndex")) this._storedZIndex = this.helper.css("zIndex"); this.helper.css("zIndex", b.zIndex) } if (this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML") this.overflowOffset = this.scrollParent.offset(); this._trigger("start",
a, this._uiHash()); this._preserveHelperProportions || this._cacheHelperProportions(); if (!c) for (c = this.containers.length - 1; c >= 0; c--) this.containers[c]._trigger("activate", a, e._uiHash(this)); if (d.ui.ddmanager) d.ui.ddmanager.current = this; d.ui.ddmanager && !b.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a); this.dragging = true; this.helper.addClass("ui-sortable-helper"); this._mouseDrag(a); return true
    }, _mouseDrag: function (a) {
        this.position = this._generatePosition(a); this.positionAbs = this._convertPositionTo("absolute");
        if (!this.lastPositionAbs) this.lastPositionAbs = this.positionAbs; if (this.options.scroll) {
            var b = this.options, c = false; if (this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML") {
                if (this.overflowOffset.top + this.scrollParent[0].offsetHeight - a.pageY < b.scrollSensitivity) this.scrollParent[0].scrollTop = c = this.scrollParent[0].scrollTop + b.scrollSpeed; else if (a.pageY - this.overflowOffset.top < b.scrollSensitivity) this.scrollParent[0].scrollTop = c = this.scrollParent[0].scrollTop - b.scrollSpeed; if (this.overflowOffset.left +
this.scrollParent[0].offsetWidth - a.pageX < b.scrollSensitivity) this.scrollParent[0].scrollLeft = c = this.scrollParent[0].scrollLeft + b.scrollSpeed; else if (a.pageX - this.overflowOffset.left < b.scrollSensitivity) this.scrollParent[0].scrollLeft = c = this.scrollParent[0].scrollLeft - b.scrollSpeed
            } else {
                if (a.pageY - d(document).scrollTop() < b.scrollSensitivity) c = d(document).scrollTop(d(document).scrollTop() - b.scrollSpeed); else if (d(window).height() - (a.pageY - d(document).scrollTop()) < b.scrollSensitivity) c = d(document).scrollTop(d(document).scrollTop() +
b.scrollSpeed); if (a.pageX - d(document).scrollLeft() < b.scrollSensitivity) c = d(document).scrollLeft(d(document).scrollLeft() - b.scrollSpeed); else if (d(window).width() - (a.pageX - d(document).scrollLeft()) < b.scrollSensitivity) c = d(document).scrollLeft(d(document).scrollLeft() + b.scrollSpeed)
            } c !== false && d.ui.ddmanager && !b.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a)
        } this.positionAbs = this._convertPositionTo("absolute"); if (!this.options.axis || this.options.axis != "y") this.helper[0].style.left = this.position.left +
"px"; if (!this.options.axis || this.options.axis != "x") this.helper[0].style.top = this.position.top + "px"; for (b = this.items.length - 1; b >= 0; b--) {
            c = this.items[b]; var e = c.item[0], f = this._intersectsWithPointer(c); if (f) if (e != this.currentItem[0] && this.placeholder[f == 1 ? "next" : "prev"]()[0] != e && !d.ui.contains(this.placeholder[0], e) && (this.options.type == "semi-dynamic" ? !d.ui.contains(this.element[0], e) : true)) {
                this.direction = f == 1 ? "down" : "up"; if (this.options.tolerance == "pointer" || this._intersectsWithSides(c)) this._rearrange(a,
c); else break; this._trigger("change", a, this._uiHash()); break
            }
        } this._contactContainers(a); d.ui.ddmanager && d.ui.ddmanager.drag(this, a); this._trigger("sort", a, this._uiHash()); this.lastPositionAbs = this.positionAbs; return false
    }, _mouseStop: function (a, b) {
        if (a) {
            d.ui.ddmanager && !this.options.dropBehaviour && d.ui.ddmanager.drop(this, a); if (this.options.revert) {
                var c = this; b = c.placeholder.offset(); c.reverting = true; d(this.helper).animate({ left: b.left - this.offset.parent.left - c.margins.left + (this.offsetParent[0] ==
document.body ? 0 : this.offsetParent[0].scrollLeft), top: b.top - this.offset.parent.top - c.margins.top + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollTop)
                }, parseInt(this.options.revert, 10) || 500, function () { c._clear(a) })
            } else this._clear(a, b); return false
        }
    }, cancel: function () {
        var a = this; if (this.dragging) {
            this._mouseUp(); this.options.helper == "original" ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show(); for (var b = this.containers.length - 1; b >= 0; b--) {
                this.containers[b]._trigger("deactivate",
null, a._uiHash(this)); if (this.containers[b].containerCache.over) { this.containers[b]._trigger("out", null, a._uiHash(this)); this.containers[b].containerCache.over = 0 }
            }
        } this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]); this.options.helper != "original" && this.helper && this.helper[0].parentNode && this.helper.remove(); d.extend(this, { helper: null, dragging: false, reverting: false, _noFinalSort: null }); this.domPosition.prev ? d(this.domPosition.prev).after(this.currentItem) :
d(this.domPosition.parent).prepend(this.currentItem); return this
    }, serialize: function (a) { var b = this._getItemsAsjQuery(a && a.connected), c = []; a = a || {}; d(b).each(function () { var e = (d(a.item || this).attr(a.attribute || "id") || "").match(a.expression || /(.+)[-=_](.+)/); if (e) c.push((a.key || e[1] + "[]") + "=" + (a.key && a.expression ? e[1] : e[2])) }); !c.length && a.key && c.push(a.key + "="); return c.join("&") }, toArray: function (a) {
        var b = this._getItemsAsjQuery(a && a.connected), c = []; a = a || {}; b.each(function () {
            c.push(d(a.item || this).attr(a.attribute ||
"id") || "")
        }); return c
    }, _intersectsWith: function (a) {
        var b = this.positionAbs.left, c = b + this.helperProportions.width, e = this.positionAbs.top, f = e + this.helperProportions.height, g = a.left, h = g + a.width, i = a.top, k = i + a.height, j = this.offset.click.top, l = this.offset.click.left; j = e + j > i && e + j < k && b + l > g && b + l < h; return this.options.tolerance == "pointer" || this.options.forcePointerForContainers || this.options.tolerance != "pointer" && this.helperProportions[this.floating ? "width" : "height"] > a[this.floating ? "width" : "height"] ? j : g < b +
this.helperProportions.width / 2 && c - this.helperProportions.width / 2 < h && i < e + this.helperProportions.height / 2 && f - this.helperProportions.height / 2 < k
    }, _intersectsWithPointer: function (a) {
        var b = d.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, a.top, a.height); a = d.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, a.left, a.width); b = b && a; a = this._getDragVerticalDirection(); var c = this._getDragHorizontalDirection(); if (!b) return false; return this.floating ? c && c == "right" || a == "down" ? 2 : 1 : a && (a == "down" ?
2 : 1)
    }, _intersectsWithSides: function (a) { var b = d.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, a.top + a.height / 2, a.height); a = d.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, a.left + a.width / 2, a.width); var c = this._getDragVerticalDirection(), e = this._getDragHorizontalDirection(); return this.floating && e ? e == "right" && a || e == "left" && !a : c && (c == "down" && b || c == "up" && !b) }, _getDragVerticalDirection: function () { var a = this.positionAbs.top - this.lastPositionAbs.top; return a != 0 && (a > 0 ? "down" : "up") },
        _getDragHorizontalDirection: function () { var a = this.positionAbs.left - this.lastPositionAbs.left; return a != 0 && (a > 0 ? "right" : "left") }, refresh: function (a) { this._refreshItems(a); this.refreshPositions(); return this }, _connectWith: function () { var a = this.options; return a.connectWith.constructor == String ? [a.connectWith] : a.connectWith }, _getItemsAsjQuery: function (a) {
            var b = [], c = [], e = this._connectWith(); if (e && a) for (a = e.length - 1; a >= 0; a--) for (var f = d(e[a]), g = f.length - 1; g >= 0; g--) {
                var h = d.data(f[g], "sortable"); if (h && h !=
this && !h.options.disabled) c.push([d.isFunction(h.options.items) ? h.options.items.call(h.element) : d(h.options.items, h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), h])
            } c.push([d.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : d(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]); for (a = c.length - 1; a >= 0; a--) c[a][0].each(function () { b.push(this) }); return d(b)
        }, _removeCurrentsFromItems: function () {
            for (var a =
this.currentItem.find(":data(sortable-item)"), b = 0; b < this.items.length; b++) for (var c = 0; c < a.length; c++) a[c] == this.items[b].item[0] && this.items.splice(b, 1)
        }, _refreshItems: function (a) {
            this.items = []; this.containers = [this]; var b = this.items, c = [[d.isFunction(this.options.items) ? this.options.items.call(this.element[0], a, { item: this.currentItem }) : d(this.options.items, this.element), this]], e = this._connectWith(); if (e) for (var f = e.length - 1; f >= 0; f--) for (var g = d(e[f]), h = g.length - 1; h >= 0; h--) {
                var i = d.data(g[h], "sortable");
                if (i && i != this && !i.options.disabled) { c.push([d.isFunction(i.options.items) ? i.options.items.call(i.element[0], a, { item: this.currentItem }) : d(i.options.items, i.element), i]); this.containers.push(i) }
            } for (f = c.length - 1; f >= 0; f--) { a = c[f][1]; e = c[f][0]; h = 0; for (g = e.length; h < g; h++) { i = d(e[h]); i.data("sortable-item", a); b.push({ item: i, instance: a, width: 0, height: 0, left: 0, top: 0 }) } }
        }, refreshPositions: function (a) {
            if (this.offsetParent && this.helper) this.offset.parent = this._getParentOffset(); for (var b = this.items.length - 1; b >=
0; b--) { var c = this.items[b], e = this.options.toleranceElement ? d(this.options.toleranceElement, c.item) : c.item; if (!a) { c.width = e.outerWidth(); c.height = e.outerHeight() } e = e.offset(); c.left = e.left; c.top = e.top } if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this); else for (b = this.containers.length - 1; b >= 0; b--) {
                e = this.containers[b].element.offset(); this.containers[b].containerCache.left = e.left; this.containers[b].containerCache.top = e.top; this.containers[b].containerCache.width =
this.containers[b].element.outerWidth(); this.containers[b].containerCache.height = this.containers[b].element.outerHeight()
            } return this
        }, _createPlaceholder: function (a) {
            var b = a || this, c = b.options; if (!c.placeholder || c.placeholder.constructor == String) {
                var e = c.placeholder; c.placeholder = { element: function () { var f = d(document.createElement(b.currentItem[0].nodeName)).addClass(e || b.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper")[0]; if (!e) f.style.visibility = "hidden"; return f },
                    update: function (f, g) { if (!(e && !c.forcePlaceholderSize)) { g.height() || g.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10)); g.width() || g.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10)) } }
                }
            } b.placeholder = d(c.placeholder.element.call(b.element, b.currentItem)); b.currentItem.after(b.placeholder); c.placeholder.update(b, b.placeholder)
        }, _contactContainers: function (a) {
            for (var b =
null, c = null, e = this.containers.length - 1; e >= 0; e--) if (!d.ui.contains(this.currentItem[0], this.containers[e].element[0])) if (this._intersectsWith(this.containers[e].containerCache)) { if (!(b && d.ui.contains(this.containers[e].element[0], b.element[0]))) { b = this.containers[e]; c = e } } else if (this.containers[e].containerCache.over) { this.containers[e]._trigger("out", a, this._uiHash(this)); this.containers[e].containerCache.over = 0 } if (b) if (this.containers.length === 1) {
                this.containers[c]._trigger("over", a, this._uiHash(this));
                this.containers[c].containerCache.over = 1
            } else if (this.currentContainer != this.containers[c]) {
                b = 1E4; e = null; for (var f = this.positionAbs[this.containers[c].floating ? "left" : "top"], g = this.items.length - 1; g >= 0; g--) if (d.ui.contains(this.containers[c].element[0], this.items[g].item[0])) { var h = this.items[g][this.containers[c].floating ? "left" : "top"]; if (Math.abs(h - f) < b) { b = Math.abs(h - f); e = this.items[g] } } if (e || this.options.dropOnEmpty) {
                    this.currentContainer = this.containers[c]; e ? this._rearrange(a, e, null, true) : this._rearrange(a,
null, this.containers[c].element, true); this._trigger("change", a, this._uiHash()); this.containers[c]._trigger("change", a, this._uiHash(this)); this.options.placeholder.update(this.currentContainer, this.placeholder); this.containers[c]._trigger("over", a, this._uiHash(this)); this.containers[c].containerCache.over = 1
                }
            }
        }, _createHelper: function (a) {
            var b = this.options; a = d.isFunction(b.helper) ? d(b.helper.apply(this.element[0], [a, this.currentItem])) : b.helper == "clone" ? this.currentItem.clone() : this.currentItem; a.parents("body").length ||
d(b.appendTo != "parent" ? b.appendTo : this.currentItem[0].parentNode)[0].appendChild(a[0]); if (a[0] == this.currentItem[0]) this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") }; if (a[0].style.width == "" || b.forceHelperSize) a.width(this.currentItem.width()); if (a[0].style.height == "" || b.forceHelperSize) a.height(this.currentItem.height()); return a
        }, _adjustOffsetFromHelper: function (a) {
            if (typeof a ==
"string") a = a.split(" "); if (d.isArray(a)) a = { left: +a[0], top: +a[1] || 0 }; if ("left" in a) this.offset.click.left = a.left + this.margins.left; if ("right" in a) this.offset.click.left = this.helperProportions.width - a.right + this.margins.left; if ("top" in a) this.offset.click.top = a.top + this.margins.top; if ("bottom" in a) this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top
        }, _getParentOffset: function () {
            this.offsetParent = this.helper.offsetParent(); var a = this.offsetParent.offset(); if (this.cssPosition ==
"absolute" && this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) { a.left += this.scrollParent.scrollLeft(); a.top += this.scrollParent.scrollTop() } if (this.offsetParent[0] == document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && d.browser.msie) a = { top: 0, left: 0 }; return { top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) }
        }, _getRelativeOffset: function () {
            if (this.cssPosition ==
"relative") { var a = this.currentItem.position(); return { top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()} } else return { top: 0, left: 0 }
        }, _cacheMargins: function () { this.margins = { left: parseInt(this.currentItem.css("marginLeft"), 10) || 0, top: parseInt(this.currentItem.css("marginTop"), 10) || 0} }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight()} },
        _setContainment: function () {
            var a = this.options; if (a.containment == "parent") a.containment = this.helper[0].parentNode; if (a.containment == "document" || a.containment == "window") this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, d(a.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (d(a.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height -
this.margins.top]; if (!/^(document|window|parent)$/.test(a.containment)) {
                var b = d(a.containment)[0]; a = d(a.containment).offset(); var c = d(b).css("overflow") != "hidden"; this.containment = [a.left + (parseInt(d(b).css("borderLeftWidth"), 10) || 0) + (parseInt(d(b).css("paddingLeft"), 10) || 0) - this.margins.left, a.top + (parseInt(d(b).css("borderTopWidth"), 10) || 0) + (parseInt(d(b).css("paddingTop"), 10) || 0) - this.margins.top, a.left + (c ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(d(b).css("borderLeftWidth"),
10) || 0) - (parseInt(d(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, a.top + (c ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(d(b).css("borderTopWidth"), 10) || 0) - (parseInt(d(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
            }
        }, _convertPositionTo: function (a, b) {
            if (!b) b = this.position; a = a == "absolute" ? 1 : -1; var c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ?
this.offsetParent : this.scrollParent, e = /(html|body)/i.test(c[0].tagName); return { top: b.top + this.offset.relative.top * a + this.offset.parent.top * a - (d.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : e ? 0 : c.scrollTop()) * a), left: b.left + this.offset.relative.left * a + this.offset.parent.left * a - (d.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : e ? 0 : c.scrollLeft()) * a) }
        }, _generatePosition: function (a) {
            var b =
this.options, c = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && d.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, e = /(html|body)/i.test(c[0].tagName); if (this.cssPosition == "relative" && !(this.scrollParent[0] != document && this.scrollParent[0] != this.offsetParent[0])) this.offset.relative = this._getRelativeOffset(); var f = a.pageX, g = a.pageY; if (this.originalPosition) {
                if (this.containment) {
                    if (a.pageX - this.offset.click.left < this.containment[0]) f = this.containment[0] +
this.offset.click.left; if (a.pageY - this.offset.click.top < this.containment[1]) g = this.containment[1] + this.offset.click.top; if (a.pageX - this.offset.click.left > this.containment[2]) f = this.containment[2] + this.offset.click.left; if (a.pageY - this.offset.click.top > this.containment[3]) g = this.containment[3] + this.offset.click.top
                } if (b.grid) {
                    g = this.originalPageY + Math.round((g - this.originalPageY) / b.grid[1]) * b.grid[1]; g = this.containment ? !(g - this.offset.click.top < this.containment[1] || g - this.offset.click.top > this.containment[3]) ?
g : !(g - this.offset.click.top < this.containment[1]) ? g - b.grid[1] : g + b.grid[1] : g; f = this.originalPageX + Math.round((f - this.originalPageX) / b.grid[0]) * b.grid[0]; f = this.containment ? !(f - this.offset.click.left < this.containment[0] || f - this.offset.click.left > this.containment[2]) ? f : !(f - this.offset.click.left < this.containment[0]) ? f - b.grid[0] : f + b.grid[0] : f
                }
            } return { top: g - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (d.browser.safari && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() :
e ? 0 : c.scrollTop()), left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (d.browser.safari && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : e ? 0 : c.scrollLeft())
            }
        }, _rearrange: function (a, b, c, e) {
            c ? c[0].appendChild(this.placeholder[0]) : b.item[0].parentNode.insertBefore(this.placeholder[0], this.direction == "down" ? b.item[0] : b.item[0].nextSibling); this.counter = this.counter ? ++this.counter : 1; var f = this, g = this.counter; window.setTimeout(function () {
                g ==
f.counter && f.refreshPositions(!e)
            }, 0)
        }, _clear: function (a, b) {
            this.reverting = false; var c = []; !this._noFinalSort && this.currentItem[0].parentNode && this.placeholder.before(this.currentItem); this._noFinalSort = null; if (this.helper[0] == this.currentItem[0]) { for (var e in this._storedCSS) if (this._storedCSS[e] == "auto" || this._storedCSS[e] == "static") this._storedCSS[e] = ""; this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") } else this.currentItem.show(); this.fromOutside && !b && c.push(function (f) {
                this._trigger("receive",
f, this._uiHash(this.fromOutside))
            }); if ((this.fromOutside || this.domPosition.prev != this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent != this.currentItem.parent()[0]) && !b) c.push(function (f) { this._trigger("update", f, this._uiHash()) }); if (!d.ui.contains(this.element[0], this.currentItem[0])) {
                b || c.push(function (f) { this._trigger("remove", f, this._uiHash()) }); for (e = this.containers.length - 1; e >= 0; e--) if (d.ui.contains(this.containers[e].element[0], this.currentItem[0]) && !b) {
                    c.push(function (f) {
                        return function (g) {
                            f._trigger("receive",
g, this._uiHash(this))
                        }
                    } .call(this, this.containers[e])); c.push(function (f) { return function (g) { f._trigger("update", g, this._uiHash(this)) } } .call(this, this.containers[e]))
                }
            } for (e = this.containers.length - 1; e >= 0; e--) {
                b || c.push(function (f) { return function (g) { f._trigger("deactivate", g, this._uiHash(this)) } } .call(this, this.containers[e])); if (this.containers[e].containerCache.over) {
                    c.push(function (f) { return function (g) { f._trigger("out", g, this._uiHash(this)) } } .call(this, this.containers[e])); this.containers[e].containerCache.over =
0
                }
            } this._storedCursor && d("body").css("cursor", this._storedCursor); this._storedOpacity && this.helper.css("opacity", this._storedOpacity); if (this._storedZIndex) this.helper.css("zIndex", this._storedZIndex == "auto" ? "" : this._storedZIndex); this.dragging = false; if (this.cancelHelperRemoval) { if (!b) { this._trigger("beforeStop", a, this._uiHash()); for (e = 0; e < c.length; e++) c[e].call(this, a); this._trigger("stop", a, this._uiHash()) } return false } b || this._trigger("beforeStop", a, this._uiHash()); this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
            this.helper[0] != this.currentItem[0] && this.helper.remove(); this.helper = null; if (!b) { for (e = 0; e < c.length; e++) c[e].call(this, a); this._trigger("stop", a, this._uiHash()) } this.fromOutside = false; return true
        }, _trigger: function () { d.Widget.prototype._trigger.apply(this, arguments) === false && this.cancel() }, _uiHash: function (a) { var b = a || this; return { helper: b.helper, placeholder: b.placeholder || d([]), position: b.position, originalPosition: b.originalPosition, offset: b.positionAbs, item: b.currentItem, sender: a ? a.element : null} }
    });
    d.extend(d.ui.sortable, { version: "1.8.7" })
})(jQuery);
; /*
 * jQuery UI Accordion 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function (c) {
    c.widget("ui.accordion", { options: { active: 0, animated: "slide", autoHeight: true, clearStyle: false, collapsible: false, event: "click", fillSpace: false, header: "> li > :first-child,> :not(li):even", icons: { header: "ui-icon-triangle-1-e", headerSelected: "ui-icon-triangle-1-s" }, navigation: false, navigationFilter: function () { return this.href.toLowerCase() === location.href.toLowerCase() } }, _create: function () {
        var a = this, b = a.options; a.running = 0; a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");
        a.headers = a.element.find(b.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion", function () { b.disabled || c(this).addClass("ui-state-hover") }).bind("mouseleave.accordion", function () { b.disabled || c(this).removeClass("ui-state-hover") }).bind("focus.accordion", function () { b.disabled || c(this).addClass("ui-state-focus") }).bind("blur.accordion", function () { b.disabled || c(this).removeClass("ui-state-focus") }); a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
        if (b.navigation) { var d = a.element.find("a").filter(b.navigationFilter).eq(0); if (d.length) { var f = d.closest(".ui-accordion-header"); a.active = f.length ? f : d.closest(".ui-accordion-content").prev() } } a.active = a._findActive(a.active || b.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"); a.active.next().addClass("ui-accordion-content-active"); a._createIcons(); a.resize(); a.element.attr("role", "tablist"); a.headers.attr("role", "tab").bind("keydown.accordion",
function (g) { return a._keydown(g) }).next().attr("role", "tabpanel"); a.headers.not(a.active || "").attr({ "aria-expanded": "false", tabIndex: -1 }).next().hide(); a.active.length ? a.active.attr({ "aria-expanded": "true", tabIndex: 0 }) : a.headers.eq(0).attr("tabIndex", 0); c.browser.safari || a.headers.find("a").attr("tabIndex", -1); b.event && a.headers.bind(b.event.split(" ").join(".accordion ") + ".accordion", function (g) { a._clickHandler.call(a, g, this); g.preventDefault() })
    }, _createIcons: function () {
        var a = this.options; if (a.icons) {
            c("<span></span>").addClass("ui-icon " +
a.icons.header).prependTo(this.headers); this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected); this.element.addClass("ui-accordion-icons")
        }
    }, _destroyIcons: function () { this.headers.children(".ui-icon").remove(); this.element.removeClass("ui-accordion-icons") }, destroy: function () {
        var a = this.options; this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"); this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");
        this.headers.find("a").removeAttr("tabIndex"); this._destroyIcons(); var b = this.headers.next().css("display", "").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"); if (a.autoHeight || a.fillHeight) b.css("height", ""); return c.Widget.prototype.destroy.call(this)
    }, _setOption: function (a, b) {
        c.Widget.prototype._setOption.apply(this, arguments); a == "active" && this.activate(b); if (a == "icons") {
            this._destroyIcons();
            b && this._createIcons()
        } if (a == "disabled") this.headers.add(this.headers.next())[b ? "addClass" : "removeClass"]("ui-accordion-disabled ui-state-disabled")
    }, _keydown: function (a) {
        if (!(this.options.disabled || a.altKey || a.ctrlKey)) {
            var b = c.ui.keyCode, d = this.headers.length, f = this.headers.index(a.target), g = false; switch (a.keyCode) {
                case b.RIGHT: case b.DOWN: g = this.headers[(f + 1) % d]; break; case b.LEFT: case b.UP: g = this.headers[(f - 1 + d) % d]; break; case b.SPACE: case b.ENTER: this._clickHandler({ target: a.target }, a.target);
                    a.preventDefault()
            } if (g) { c(a.target).attr("tabIndex", -1); c(g).attr("tabIndex", 0); g.focus(); return false } return true
        }
    }, resize: function () {
        var a = this.options, b; if (a.fillSpace) {
            if (c.browser.msie) { var d = this.element.parent().css("overflow"); this.element.parent().css("overflow", "hidden") } b = this.element.parent().height(); c.browser.msie && this.element.parent().css("overflow", d); this.headers.each(function () { b -= c(this).outerHeight(true) }); this.headers.next().each(function () {
                c(this).height(Math.max(0, b - c(this).innerHeight() +
c(this).height()))
            }).css("overflow", "auto")
        } else if (a.autoHeight) { b = 0; this.headers.next().each(function () { b = Math.max(b, c(this).height("").height()) }).height(b) } return this
    }, activate: function (a) { this.options.active = a; a = this._findActive(a)[0]; this._clickHandler({ target: a }, a); return this }, _findActive: function (a) { return a ? typeof a === "number" ? this.headers.filter(":eq(" + a + ")") : this.headers.not(this.headers.not(a)) : a === false ? c([]) : this.headers.filter(":eq(0)") }, _clickHandler: function (a, b) {
        var d = this.options;
        if (!d.disabled) if (a.target) {
            a = c(a.currentTarget || b); b = a[0] === this.active[0]; d.active = d.collapsible && b ? false : this.headers.index(a); if (!(this.running || !d.collapsible && b)) {
                this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header); if (!b) {
                    a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected);
                    a.next().addClass("ui-accordion-content-active")
                } h = a.next(); f = this.active.next(); g = { options: d, newHeader: b && d.collapsible ? c([]) : a, oldHeader: this.active, newContent: b && d.collapsible ? c([]) : h, oldContent: f }; d = this.headers.index(this.active[0]) > this.headers.index(a[0]); this.active = b ? c([]) : a; this._toggle(h, f, g, b, d)
            }
        } else if (d.collapsible) {
            this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);
            this.active.next().addClass("ui-accordion-content-active"); var f = this.active.next(), g = { options: d, newHeader: c([]), oldHeader: d.active, newContent: c([]), oldContent: f }, h = this.active = c([]); this._toggle(h, f, g)
        }
    }, _toggle: function (a, b, d, f, g) {
        var h = this, e = h.options; h.toShow = a; h.toHide = b; h.data = d; var j = function () { if (h) return h._completed.apply(h, arguments) }; h._trigger("changestart", null, h.data); h.running = b.size() === 0 ? a.size() : b.size(); if (e.animated) {
            d = {}; d = e.collapsible && f ? { toShow: c([]), toHide: b, complete: j,
                down: g, autoHeight: e.autoHeight || e.fillSpace
            } : { toShow: a, toHide: b, complete: j, down: g, autoHeight: e.autoHeight || e.fillSpace }; if (!e.proxied) e.proxied = e.animated; if (!e.proxiedDuration) e.proxiedDuration = e.duration; e.animated = c.isFunction(e.proxied) ? e.proxied(d) : e.proxied; e.duration = c.isFunction(e.proxiedDuration) ? e.proxiedDuration(d) : e.proxiedDuration; f = c.ui.accordion.animations; var i = e.duration, k = e.animated; if (k && !f[k] && !c.easing[k]) k = "slide"; f[k] || (f[k] = function (l) { this.slide(l, { easing: k, duration: i || 700 }) });
            f[k](d)
        } else { if (e.collapsible && f) a.toggle(); else { b.hide(); a.show() } j(true) } b.prev().attr({ "aria-expanded": "false", tabIndex: -1 }).blur(); a.prev().attr({ "aria-expanded": "true", tabIndex: 0 }).focus()
    }, _completed: function (a) { this.running = a ? 0 : --this.running; if (!this.running) { this.options.clearStyle && this.toShow.add(this.toHide).css({ height: "", overflow: "" }); this.toHide.removeClass("ui-accordion-content-active"); this._trigger("change", null, this.data) } }
    }); c.extend(c.ui.accordion, { version: "1.8.7", animations: { slide: function (a,
b) {
        a = c.extend({ easing: "swing", duration: 300 }, a, b); if (a.toHide.size()) if (a.toShow.size()) {
            var d = a.toShow.css("overflow"), f = 0, g = {}, h = {}, e; b = a.toShow; e = b[0].style.width; b.width(parseInt(b.parent().width(), 10) - parseInt(b.css("paddingLeft"), 10) - parseInt(b.css("paddingRight"), 10) - (parseInt(b.css("borderLeftWidth"), 10) || 0) - (parseInt(b.css("borderRightWidth"), 10) || 0)); c.each(["height", "paddingTop", "paddingBottom"], function (j, i) {
                h[i] = "hide"; j = ("" + c.css(a.toShow[0], i)).match(/^([\d+-.]+)(.*)$/); g[i] = { value: j[1],
                    unit: j[2] || "px"
                }
            }); a.toShow.css({ height: 0, overflow: "hidden" }).show(); a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(h, { step: function (j, i) { if (i.prop == "height") f = i.end - i.start === 0 ? 0 : (i.now - i.start) / (i.end - i.start); a.toShow[0].style[i.prop] = f * g[i.prop].value + g[i.prop].unit }, duration: a.duration, easing: a.easing, complete: function () { a.autoHeight || a.toShow.css("height", ""); a.toShow.css({ width: e, overflow: d }); a.complete() } })
        } else a.toHide.animate({ height: "hide", paddingTop: "hide",
            paddingBottom: "hide"
        }, a); else a.toShow.animate({ height: "show", paddingTop: "show", paddingBottom: "show" }, a)
    }, bounceslide: function (a) { this.slide(a, { easing: a.down ? "easeOutBounce" : "swing", duration: a.down ? 1E3 : 200 }) }
    }
    })
})(jQuery);
; /*
 * jQuery UI Autocomplete 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function (d) {
    d.widget("ui.autocomplete", { options: { appendTo: "body", delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null }, _create: function () {
        var a = this, b = this.element[0].ownerDocument, f; this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off").attr({ role: "textbox", "aria-autocomplete": "list", "aria-haspopup": "true" }).bind("keydown.autocomplete", function (c) {
            if (!(a.options.disabled || a.element.attr("readonly"))) {
                f = false; var e = d.ui.keyCode; switch (c.keyCode) {
                    case e.PAGE_UP: a._move("previousPage",
c); break; case e.PAGE_DOWN: a._move("nextPage", c); break; case e.UP: a._move("previous", c); c.preventDefault(); break; case e.DOWN: a._move("next", c); c.preventDefault(); break; case e.ENTER: case e.NUMPAD_ENTER: if (a.menu.active) { f = true; c.preventDefault() } case e.TAB: if (!a.menu.active) return; a.menu.select(c); break; case e.ESCAPE: a.element.val(a.term); a.close(c); break; default: clearTimeout(a.searching); a.searching = setTimeout(function () { if (a.term != a.element.val()) { a.selectedItem = null; a.search(null, c) } }, a.options.delay);
                        break
                }
            }
        }).bind("keypress.autocomplete", function (c) { if (f) { f = false; c.preventDefault() } }).bind("focus.autocomplete", function () { if (!a.options.disabled) { a.selectedItem = null; a.previous = a.element.val() } }).bind("blur.autocomplete", function (c) { if (!a.options.disabled) { clearTimeout(a.searching); a.closing = setTimeout(function () { a.close(c); a._change(c) }, 150) } }); this._initSource(); this.response = function () { return a._response.apply(a, arguments) }; this.menu = d("<ul></ul>").addClass("ui-autocomplete").appendTo(d(this.options.appendTo ||
"body", b)[0]).mousedown(function (c) { var e = a.menu.element[0]; d(c.target).closest(".ui-menu-item").length || setTimeout(function () { d(document).one("mousedown", function (g) { g.target !== a.element[0] && g.target !== e && !d.ui.contains(e, g.target) && a.close() }) }, 1); setTimeout(function () { clearTimeout(a.closing) }, 13) }).menu({ focus: function (c, e) { e = e.item.data("item.autocomplete"); false !== a._trigger("focus", c, { item: e }) && /^key/.test(c.originalEvent.type) && a.element.val(e.value) }, selected: function (c, e) {
    var g = e.item.data("item.autocomplete"),
h = a.previous; if (a.element[0] !== b.activeElement) { a.element.focus(); a.previous = h; setTimeout(function () { a.previous = h; a.selectedItem = g }, 1) } false !== a._trigger("select", c, { item: g }) && a.element.val(g.value); a.term = a.element.val(); a.close(c); a.selectedItem = g
}, blur: function () { a.menu.element.is(":visible") && a.element.val() !== a.term && a.element.val(a.term) }
}).zIndex(this.element.zIndex() + 1).css({ top: 0, left: 0 }).hide().data("menu"); d.fn.bgiframe && this.menu.element.bgiframe()
    }, destroy: function () {
        this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");
        this.menu.element.remove(); d.Widget.prototype.destroy.call(this)
    }, _setOption: function (a, b) { d.Widget.prototype._setOption.apply(this, arguments); a === "source" && this._initSource(); if (a === "appendTo") this.menu.element.appendTo(d(b || "body", this.element[0].ownerDocument)[0]) }, _initSource: function () {
        var a = this, b, f; if (d.isArray(this.options.source)) { b = this.options.source; this.source = function (c, e) { e(d.ui.autocomplete.filter(b, c.term)) } } else if (typeof this.options.source === "string") {
            f = this.options.source; this.source =
function (c, e) { a.xhr && a.xhr.abort(); a.xhr = d.ajax({ url: f, data: c, dataType: "json", success: function (g, h, i) { i === a.xhr && e(g); a.xhr = null }, error: function (g) { g === a.xhr && e([]); a.xhr = null } }) }
        } else this.source = this.options.source
    }, search: function (a, b) { a = a != null ? a : this.element.val(); this.term = this.element.val(); if (a.length < this.options.minLength) return this.close(b); clearTimeout(this.closing); if (this._trigger("search", b) !== false) return this._search(a) }, _search: function (a) {
        this.element.addClass("ui-autocomplete-loading");
        this.source({ term: a }, this.response)
    }, _response: function (a) { if (a && a.length) { a = this._normalize(a); this._suggest(a); this._trigger("open") } else this.close(); this.element.removeClass("ui-autocomplete-loading") }, close: function (a) { clearTimeout(this.closing); if (this.menu.element.is(":visible")) { this.menu.element.hide(); this.menu.deactivate(); this._trigger("close", a) } }, _change: function (a) { this.previous !== this.element.val() && this._trigger("change", a, { item: this.selectedItem }) }, _normalize: function (a) {
        if (a.length &&
a[0].label && a[0].value) return a; return d.map(a, function (b) { if (typeof b === "string") return { label: b, value: b }; return d.extend({ label: b.label || b.value, value: b.value || b.label }, b) })
    }, _suggest: function (a) { var b = this.menu.element.empty().zIndex(this.element.zIndex() + 1); this._renderMenu(b, a); this.menu.deactivate(); this.menu.refresh(); b.show(); this._resizeMenu(); b.position(d.extend({ of: this.element }, this.options.position)) }, _resizeMenu: function () {
        var a = this.menu.element; a.outerWidth(Math.max(a.width("").outerWidth(),
this.element.outerWidth()))
    }, _renderMenu: function (a, b) { var f = this; d.each(b, function (c, e) { f._renderItem(a, e) }) }, _renderItem: function (a, b) { return d("<li></li>").data("item.autocomplete", b).append(d("<a></a>").text(b.label)).appendTo(a) }, _move: function (a, b) { if (this.menu.element.is(":visible")) if (this.menu.first() && /^previous/.test(a) || this.menu.last() && /^next/.test(a)) { this.element.val(this.term); this.menu.deactivate() } else this.menu[a](b); else this.search(null, b) }, widget: function () { return this.menu.element }
    });
    d.extend(d.ui.autocomplete, { escapeRegex: function (a) { return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") }, filter: function (a, b) { var f = new RegExp(d.ui.autocomplete.escapeRegex(b), "i"); return d.grep(a, function (c) { return f.test(c.label || c.value || c) }) } })
})(jQuery);
(function (d) {
    d.widget("ui.menu", { _create: function () { var a = this; this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({ role: "listbox", "aria-activedescendant": "ui-active-menuitem" }).click(function (b) { if (d(b.target).closest(".ui-menu-item a").length) { b.preventDefault(); a.select(b) } }); this.refresh() }, refresh: function () {
        var a = this; this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function (b) { a.activate(b, d(this).parent()) }).mouseleave(function () { a.deactivate() })
    }, activate: function (a, b) { this.deactivate(); if (this.hasScroll()) { var f = b.offset().top - this.element.offset().top, c = this.element.attr("scrollTop"), e = this.element.height(); if (f < 0) this.element.attr("scrollTop", c + f); else f >= e && this.element.attr("scrollTop", c + f - e + b.height()) } this.active = b.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-menuitem").end(); this._trigger("focus", a, { item: b }) },
        deactivate: function () { if (this.active) { this.active.children("a").removeClass("ui-state-hover").removeAttr("id"); this._trigger("blur"); this.active = null } }, next: function (a) { this.move("next", ".ui-menu-item:first", a) }, previous: function (a) { this.move("prev", ".ui-menu-item:last", a) }, first: function () { return this.active && !this.active.prevAll(".ui-menu-item").length }, last: function () { return this.active && !this.active.nextAll(".ui-menu-item").length }, move: function (a, b, f) {
            if (this.active) {
                a = this.active[a + "All"](".ui-menu-item").eq(0);
                a.length ? this.activate(f, a) : this.activate(f, this.element.children(b))
            } else this.activate(f, this.element.children(b))
        }, nextPage: function (a) {
            if (this.hasScroll()) if (!this.active || this.last()) this.activate(a, this.element.children(".ui-menu-item:first")); else {
                var b = this.active.offset().top, f = this.element.height(), c = this.element.children(".ui-menu-item").filter(function () { var e = d(this).offset().top - b - f + d(this).height(); return e < 10 && e > -10 }); c.length || (c = this.element.children(".ui-menu-item:last")); this.activate(a,
c)
            } else this.activate(a, this.element.children(".ui-menu-item").filter(!this.active || this.last() ? ":first" : ":last"))
        }, previousPage: function (a) {
            if (this.hasScroll()) if (!this.active || this.first()) this.activate(a, this.element.children(".ui-menu-item:last")); else {
                var b = this.active.offset().top, f = this.element.height(); result = this.element.children(".ui-menu-item").filter(function () { var c = d(this).offset().top - b + f - d(this).height(); return c < 10 && c > -10 }); result.length || (result = this.element.children(".ui-menu-item:first"));
                this.activate(a, result)
            } else this.activate(a, this.element.children(".ui-menu-item").filter(!this.active || this.first() ? ":last" : ":first"))
        }, hasScroll: function () { return this.element.height() < this.element.attr("scrollHeight") }, select: function (a) { this._trigger("selected", a, { item: this.active }) }
    })
})(jQuery);
; /*
 * jQuery UI Dialog 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
(function (c, j) {
    var k = { buttons: true, height: true, maxHeight: true, maxWidth: true, minHeight: true, minWidth: true, width: true }, l = { maxHeight: true, maxWidth: true, minHeight: true, minWidth: true }; c.widget("ui.dialog", { options: { autoOpen: true, buttons: {}, closeOnEscape: true, closeText: "close", dialogClass: "", draggable: true, hide: null, height: "auto", maxHeight: false, maxWidth: false, minHeight: 150, minWidth: 150, modal: false, position: { my: "center", at: "center", collision: "fit", using: function (a) {
        var b = c(this).css(a).offset().top; b < 0 &&
c(this).css("top", a.top - b)
    }
    }, resizable: true, show: null, stack: true, title: "", width: 300, zIndex: 1E3
    }, _create: function () {
        this.originalTitle = this.element.attr("title"); if (typeof this.originalTitle !== "string") this.originalTitle = ""; this.options.title = this.options.title || this.originalTitle; var a = this, b = a.options, d = b.title || "&#160;", e = c.ui.dialog.getTitleId(a.element), g = (a.uiDialog = c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all " + b.dialogClass).css({ zIndex: b.zIndex }).attr("tabIndex",
-1).css("outline", 0).keydown(function (i) { if (b.closeOnEscape && i.keyCode && i.keyCode === c.ui.keyCode.ESCAPE) { a.close(i); i.preventDefault() } }).attr({ role: "dialog", "aria-labelledby": e }).mousedown(function (i) { a.moveToTop(false, i) }); a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g); var f = (a.uiDialogTitlebar = c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g), h = c('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function () { h.addClass("ui-state-hover") }, function () { h.removeClass("ui-state-hover") }).focus(function () { h.addClass("ui-state-focus") }).blur(function () { h.removeClass("ui-state-focus") }).click(function (i) { a.close(i); return false }).appendTo(f); (a.uiDialogTitlebarCloseText = c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(h); c("<span></span>").addClass("ui-dialog-title").attr("id", e).html(d).prependTo(f); if (c.isFunction(b.beforeclose) && !c.isFunction(b.beforeClose)) b.beforeClose =
b.beforeclose; f.find("*").add(f).disableSelection(); b.draggable && c.fn.draggable && a._makeDraggable(); b.resizable && c.fn.resizable && a._makeResizable(); a._createButtons(b.buttons); a._isOpen = false; c.fn.bgiframe && g.bgiframe()
    }, _init: function () { this.options.autoOpen && this.open() }, destroy: function () {
        var a = this; a.overlay && a.overlay.destroy(); a.uiDialog.hide(); a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"); a.uiDialog.remove(); a.originalTitle &&
a.element.attr("title", a.originalTitle); return a
    }, widget: function () { return this.uiDialog }, close: function (a) {
        var b = this, d, e; if (false !== b._trigger("beforeClose", a)) {
            b.overlay && b.overlay.destroy(); b.uiDialog.unbind("keypress.ui-dialog"); b._isOpen = false; if (b.options.hide) b.uiDialog.hide(b.options.hide, function () { b._trigger("close", a) }); else { b.uiDialog.hide(); b._trigger("close", a) } c.ui.dialog.overlay.resize(); if (b.options.modal) {
                d = 0; c(".ui-dialog").each(function () {
                    if (this !== b.uiDialog[0]) {
                        e = c(this).css("z-index");
                        isNaN(e) || (d = Math.max(d, e))
                    }
                }); c.ui.dialog.maxZ = d
            } return b
        }
    }, isOpen: function () { return this._isOpen }, moveToTop: function (a, b) {
        var d = this, e = d.options; if (e.modal && !a || !e.stack && !e.modal) return d._trigger("focus", b); if (e.zIndex > c.ui.dialog.maxZ) c.ui.dialog.maxZ = e.zIndex; if (d.overlay) { c.ui.dialog.maxZ += 1; d.overlay.$el.css("z-index", c.ui.dialog.overlay.maxZ = c.ui.dialog.maxZ) } a = { scrollTop: d.element.attr("scrollTop"), scrollLeft: d.element.attr("scrollLeft") }; c.ui.dialog.maxZ += 1; d.uiDialog.css("z-index", c.ui.dialog.maxZ);
        d.element.attr(a); d._trigger("focus", b); return d
    }, open: function () {
        if (!this._isOpen) {
            var a = this, b = a.options, d = a.uiDialog; a.overlay = b.modal ? new c.ui.dialog.overlay(a) : null; a._size(); a._position(b.position); d.show(b.show); a.moveToTop(true); b.modal && d.bind("keypress.ui-dialog", function (e) { if (e.keyCode === c.ui.keyCode.TAB) { var g = c(":tabbable", this), f = g.filter(":first"); g = g.filter(":last"); if (e.target === g[0] && !e.shiftKey) { f.focus(1); return false } else if (e.target === f[0] && e.shiftKey) { g.focus(1); return false } } });
            c(a.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(); a._isOpen = true; a._trigger("open"); return a
        }
    }, _createButtons: function (a) {
        var b = this, d = false, e = c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), g = c("<div></div>").addClass("ui-dialog-buttonset").appendTo(e); b.uiDialog.find(".ui-dialog-buttonpane").remove(); typeof a === "object" && a !== null && c.each(a, function () { return !(d = true) }); if (d) {
            c.each(a, function (f,
h) { h = c.isFunction(h) ? { click: h, text: f} : h; f = c('<button type="button"></button>').attr(h, true).unbind("click").click(function () { h.click.apply(b.element[0], arguments) }).appendTo(g); c.fn.button && f.button() }); e.appendTo(b.uiDialog)
        }
    }, _makeDraggable: function () {
        function a(f) { return { position: f.position, offset: f.offset} } var b = this, d = b.options, e = c(document), g; b.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (f, h) {
            g =
d.height === "auto" ? "auto" : c(this).height(); c(this).height(c(this).height()).addClass("ui-dialog-dragging"); b._trigger("dragStart", f, a(h))
        }, drag: function (f, h) { b._trigger("drag", f, a(h)) }, stop: function (f, h) { d.position = [h.position.left - e.scrollLeft(), h.position.top - e.scrollTop()]; c(this).removeClass("ui-dialog-dragging").height(g); b._trigger("dragStop", f, a(h)); c.ui.dialog.overlay.resize() }
        })
    }, _makeResizable: function (a) {
        function b(f) {
            return { originalPosition: f.originalPosition, originalSize: f.originalSize,
                position: f.position, size: f.size
            }
        } a = a === j ? this.options.resizable : a; var d = this, e = d.options, g = d.uiDialog.css("position"); a = typeof a === "string" ? a : "n,e,s,w,se,sw,ne,nw"; d.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: d.element, maxWidth: e.maxWidth, maxHeight: e.maxHeight, minWidth: e.minWidth, minHeight: d._minHeight(), handles: a, start: function (f, h) { c(this).addClass("ui-dialog-resizing"); d._trigger("resizeStart", f, b(h)) }, resize: function (f, h) { d._trigger("resize", f, b(h)) }, stop: function (f,
h) { c(this).removeClass("ui-dialog-resizing"); e.height = c(this).height(); e.width = c(this).width(); d._trigger("resizeStop", f, b(h)); c.ui.dialog.overlay.resize() }
        }).css("position", g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")
    }, _minHeight: function () { var a = this.options; return a.height === "auto" ? a.minHeight : Math.min(a.minHeight, a.height) }, _position: function (a) {
        var b = [], d = [0, 0], e; if (a) {
            if (typeof a === "string" || typeof a === "object" && "0" in a) {
                b = a.split ? a.split(" ") : [a[0], a[1]]; if (b.length ===
1) b[1] = b[0]; c.each(["left", "top"], function (g, f) { if (+b[g] === b[g]) { d[g] = b[g]; b[g] = f } }); a = { my: b.join(" "), at: b.join(" "), offset: d.join(" ") }
            } a = c.extend({}, c.ui.dialog.prototype.options.position, a)
        } else a = c.ui.dialog.prototype.options.position; (e = this.uiDialog.is(":visible")) || this.uiDialog.show(); this.uiDialog.css({ top: 0, left: 0 }).position(c.extend({ of: window }, a)); e || this.uiDialog.hide()
    }, _setOptions: function (a) {
        var b = this, d = {}, e = false; c.each(a, function (g, f) {
            b._setOption(g, f); if (g in k) e = true; if (g in
l) d[g] = f
        }); e && this._size(); this.uiDialog.is(":data(resizable)") && this.uiDialog.resizable("option", d)
    }, _setOption: function (a, b) {
        var d = this, e = d.uiDialog; switch (a) {
            case "beforeclose": a = "beforeClose"; break; case "buttons": d._createButtons(b); break; case "closeText": d.uiDialogTitlebarCloseText.text("" + b); break; case "dialogClass": e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all " + b); break; case "disabled": b ? e.addClass("ui-dialog-disabled") : e.removeClass("ui-dialog-disabled");
                break; case "draggable": var g = e.is(":data(draggable)"); g && !b && e.draggable("destroy"); !g && b && d._makeDraggable(); break; case "position": d._position(b); break; case "resizable": (g = e.is(":data(resizable)")) && !b && e.resizable("destroy"); g && typeof b === "string" && e.resizable("option", "handles", b); !g && b !== false && d._makeResizable(b); break; case "title": c(".ui-dialog-title", d.uiDialogTitlebar).html("" + (b || "&#160;")); break
        } c.Widget.prototype._setOption.apply(d, arguments)
    }, _size: function () {
        var a = this.options, b, d, e =
this.uiDialog.is(":visible"); this.element.show().css({ width: "auto", minHeight: 0, height: 0 }); if (a.minWidth > a.width) a.width = a.minWidth; b = this.uiDialog.css({ height: "auto", width: a.width }).height(); d = Math.max(0, a.minHeight - b); if (a.height === "auto") if (c.support.minHeight) this.element.css({ minHeight: d, height: "auto" }); else { this.uiDialog.show(); a = this.element.css("height", "auto").height(); e || this.uiDialog.hide(); this.element.height(Math.max(a, d)) } else this.element.height(Math.max(a.height - b, 0)); this.uiDialog.is(":data(resizable)") &&
this.uiDialog.resizable("option", "minHeight", this._minHeight())
    }
    }); c.extend(c.ui.dialog, { version: "1.8.7", uuid: 0, maxZ: 0, getTitleId: function (a) { a = a.attr("id"); if (!a) { this.uuid += 1; a = this.uuid } return "ui-dialog-title-" + a }, overlay: function (a) { this.$el = c.ui.dialog.overlay.create(a) } }); c.extend(c.ui.dialog.overlay, { instances: [], oldInstances: [], maxZ: 0, events: c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","), function (a) { return a + ".dialog-overlay" }).join(" "), create: function (a) {
        if (this.instances.length ===
0) { setTimeout(function () { c.ui.dialog.overlay.instances.length && c(document).bind(c.ui.dialog.overlay.events, function (d) { if (c(d.target).zIndex() < c.ui.dialog.overlay.maxZ) return false }) }, 1); c(document).bind("keydown.dialog-overlay", function (d) { if (a.options.closeOnEscape && d.keyCode && d.keyCode === c.ui.keyCode.ESCAPE) { a.close(d); d.preventDefault() } }); c(window).bind("resize.dialog-overlay", c.ui.dialog.overlay.resize) } var b = (this.oldInstances.pop() || c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({ width: this.width(),
    height: this.height()
}); c.fn.bgiframe && b.bgiframe(); this.instances.push(b); return b
    }, destroy: function (a) { var b = c.inArray(a, this.instances); b != -1 && this.oldInstances.push(this.instances.splice(b, 1)[0]); this.instances.length === 0 && c([document, window]).unbind(".dialog-overlay"); a.remove(); var d = 0; c.each(this.instances, function () { d = Math.max(d, this.css("z-index")) }); this.maxZ = d }, height: function () {
        var a, b; if (c.browser.msie && c.browser.version < 7) {
            a = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);
            b = Math.max(document.documentElement.offsetHeight, document.body.offsetHeight); return a < b ? c(window).height() + "px" : a + "px"
        } else return c(document).height() + "px"
    }, width: function () { var a, b; if (c.browser.msie && c.browser.version < 7) { a = Math.max(document.documentElement.scrollWidth, document.body.scrollWidth); b = Math.max(document.documentElement.offsetWidth, document.body.offsetWidth); return a < b ? c(window).width() + "px" : a + "px" } else return c(document).width() + "px" }, resize: function () {
        var a = c([]); c.each(c.ui.dialog.overlay.instances,
function () { a = a.add(this) }); a.css({ width: 0, height: 0 }).css({ width: c.ui.dialog.overlay.width(), height: c.ui.dialog.overlay.height() })
    }
    }); c.extend(c.ui.dialog.overlay.prototype, { destroy: function () { c.ui.dialog.overlay.destroy(this.$el) } })
})(jQuery);
; /*
 * jQuery UI Tabs 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function (d, p) {
    function u() { return ++v } function w() { return ++x } var v = 0, x = 0; d.widget("ui.tabs", { options: { add: null, ajaxOptions: null, cache: false, cookie: null, collapsible: false, disable: null, disabled: [], enable: null, event: "click", fx: null, idPrefix: "ui-tabs-", load: null, panelTemplate: "<div></div>", remove: null, select: null, show: null, spinner: "<em>Loading&#8230;</em>", tabTemplate: "<li><a href='#{href}'><span>#{label}</span></a></li>" }, _create: function () { this._tabify(true) }, _setOption: function (b, e) {
        if (b == "selected") this.options.collapsible &&
e == this.options.selected || this.select(e); else { this.options[b] = e; this._tabify() }
    }, _tabId: function (b) { return b.title && b.title.replace(/\s/g, "_").replace(/[^\w\u00c0-\uFFFF-]/g, "") || this.options.idPrefix + u() }, _sanitizeSelector: function (b) { return b.replace(/:/g, "\\:") }, _cookie: function () { var b = this.cookie || (this.cookie = this.options.cookie.name || "ui-tabs-" + w()); return d.cookie.apply(null, [b].concat(d.makeArray(arguments))) }, _ui: function (b, e) { return { tab: b, panel: e, index: this.anchors.index(b)} }, _cleanup: function () {
        this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function () {
            var b =
d(this); b.html(b.data("label.tabs")).removeData("label.tabs")
        })
    }, _tabify: function (b) {
        function e(g, f) { g.css("display", ""); !d.support.opacity && f.opacity && g[0].style.removeAttribute("filter") } var a = this, c = this.options, h = /^#.+/; this.list = this.element.find("ol,ul").eq(0); this.lis = d(" > li:has(a[href])", this.list); this.anchors = this.lis.map(function () { return d("a", this)[0] }); this.panels = d([]); this.anchors.each(function (g, f) {
            var i = d(f).attr("href"), l = i.split("#")[0], q; if (l && (l === location.toString().split("#")[0] ||
(q = d("base")[0]) && l === q.href)) { i = f.hash; f.href = i } if (h.test(i)) a.panels = a.panels.add(a.element.find(a._sanitizeSelector(i))); else if (i && i !== "#") { d.data(f, "href.tabs", i); d.data(f, "load.tabs", i.replace(/#.*$/, "")); i = a._tabId(f); f.href = "#" + i; f = a.element.find("#" + i); if (!f.length) { f = d(c.panelTemplate).attr("id", i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g - 1] || a.list); f.data("destroy.tabs", true) } a.panels = a.panels.add(f) } else c.disabled.push(g)
        }); if (b) {
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");
            this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"); this.lis.addClass("ui-state-default ui-corner-top"); this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"); if (c.selected === p) {
                location.hash && this.anchors.each(function (g, f) { if (f.hash == location.hash) { c.selected = g; return false } }); if (typeof c.selected !== "number" && c.cookie) c.selected = parseInt(a._cookie(), 10); if (typeof c.selected !== "number" && this.lis.filter(".ui-tabs-selected").length) c.selected =
this.lis.index(this.lis.filter(".ui-tabs-selected")); c.selected = c.selected || (this.lis.length ? 0 : -1)
            } else if (c.selected === null) c.selected = -1; c.selected = c.selected >= 0 && this.anchors[c.selected] || c.selected < 0 ? c.selected : 0; c.disabled = d.unique(c.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"), function (g) { return a.lis.index(g) }))).sort(); d.inArray(c.selected, c.disabled) != -1 && c.disabled.splice(d.inArray(c.selected, c.disabled), 1); this.panels.addClass("ui-tabs-hide"); this.lis.removeClass("ui-tabs-selected ui-state-active");
            if (c.selected >= 0 && this.anchors.length) { a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash)).removeClass("ui-tabs-hide"); this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active"); a.element.queue("tabs", function () { a._trigger("show", null, a._ui(a.anchors[c.selected], a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash)))) }); this.load(c.selected) } d(window).bind("unload", function () { a.lis.add(a.anchors).unbind(".tabs"); a.lis = a.anchors = a.panels = null })
        } else c.selected = this.lis.index(this.lis.filter(".ui-tabs-selected"));
        this.element[c.collapsible ? "addClass" : "removeClass"]("ui-tabs-collapsible"); c.cookie && this._cookie(c.selected, c.cookie); b = 0; for (var j; j = this.lis[b]; b++) d(j)[d.inArray(b, c.disabled) != -1 && !d(j).hasClass("ui-tabs-selected") ? "addClass" : "removeClass"]("ui-state-disabled"); c.cache === false && this.anchors.removeData("cache.tabs"); this.lis.add(this.anchors).unbind(".tabs"); if (c.event !== "mouseover") {
            var k = function (g, f) { f.is(":not(.ui-state-disabled)") && f.addClass("ui-state-" + g) }, n = function (g, f) {
                f.removeClass("ui-state-" +
g)
            }; this.lis.bind("mouseover.tabs", function () { k("hover", d(this)) }); this.lis.bind("mouseout.tabs", function () { n("hover", d(this)) }); this.anchors.bind("focus.tabs", function () { k("focus", d(this).closest("li")) }); this.anchors.bind("blur.tabs", function () { n("focus", d(this).closest("li")) })
        } var m, o; if (c.fx) if (d.isArray(c.fx)) { m = c.fx[0]; o = c.fx[1] } else m = o = c.fx; var r = o ? function (g, f) {
            d(g).closest("li").addClass("ui-tabs-selected ui-state-active"); f.hide().removeClass("ui-tabs-hide").animate(o, o.duration || "normal",
function () { e(f, o); a._trigger("show", null, a._ui(g, f[0])) })
        } : function (g, f) { d(g).closest("li").addClass("ui-tabs-selected ui-state-active"); f.removeClass("ui-tabs-hide"); a._trigger("show", null, a._ui(g, f[0])) }, s = m ? function (g, f) { f.animate(m, m.duration || "normal", function () { a.lis.removeClass("ui-tabs-selected ui-state-active"); f.addClass("ui-tabs-hide"); e(f, m); a.element.dequeue("tabs") }) } : function (g, f) { a.lis.removeClass("ui-tabs-selected ui-state-active"); f.addClass("ui-tabs-hide"); a.element.dequeue("tabs") };
        this.anchors.bind(c.event + ".tabs", function () {
            var g = this, f = d(g).closest("li"), i = a.panels.filter(":not(.ui-tabs-hide)"), l = a.element.find(a._sanitizeSelector(g.hash)); if (f.hasClass("ui-tabs-selected") && !c.collapsible || f.hasClass("ui-state-disabled") || f.hasClass("ui-state-processing") || a.panels.filter(":animated").length || a._trigger("select", null, a._ui(this, l[0])) === false) { this.blur(); return false } c.selected = a.anchors.index(this); a.abort(); if (c.collapsible) if (f.hasClass("ui-tabs-selected")) {
                c.selected =
-1; c.cookie && a._cookie(c.selected, c.cookie); a.element.queue("tabs", function () { s(g, i) }).dequeue("tabs"); this.blur(); return false
            } else if (!i.length) { c.cookie && a._cookie(c.selected, c.cookie); a.element.queue("tabs", function () { r(g, l) }); a.load(a.anchors.index(this)); this.blur(); return false } c.cookie && a._cookie(c.selected, c.cookie); if (l.length) { i.length && a.element.queue("tabs", function () { s(g, i) }); a.element.queue("tabs", function () { r(g, l) }); a.load(a.anchors.index(this)) } else throw "jQuery UI Tabs: Mismatching fragment identifier.";
            d.browser.msie && this.blur()
        }); this.anchors.bind("click.tabs", function () { return false })
    }, _getIndex: function (b) { if (typeof b == "string") b = this.anchors.index(this.anchors.filter("[href$=" + b + "]")); return b }, destroy: function () {
        var b = this.options; this.abort(); this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"); this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"); this.anchors.each(function () {
            var e =
d.data(this, "href.tabs"); if (e) this.href = e; var a = d(this).unbind(".tabs"); d.each(["href", "load", "cache"], function (c, h) { a.removeData(h + ".tabs") })
        }); this.lis.unbind(".tabs").add(this.panels).each(function () { d.data(this, "destroy.tabs") ? d(this).remove() : d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide") }); b.cookie && this._cookie(null, b.cookie); return this
    }, add: function (b,
e, a) {
        if (a === p) a = this.anchors.length; var c = this, h = this.options; e = d(h.tabTemplate.replace(/#\{href\}/g, b).replace(/#\{label\}/g, e)); b = !b.indexOf("#") ? b.replace("#", "") : this._tabId(d("a", e)[0]); e.addClass("ui-state-default ui-corner-top").data("destroy.tabs", true); var j = c.element.find("#" + b); j.length || (j = d(h.panelTemplate).attr("id", b).data("destroy.tabs", true)); j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"); if (a >= this.lis.length) { e.appendTo(this.list); j.appendTo(this.list[0].parentNode) } else {
            e.insertBefore(this.lis[a]);
            j.insertBefore(this.panels[a])
        } h.disabled = d.map(h.disabled, function (k) { return k >= a ? ++k : k }); this._tabify(); if (this.anchors.length == 1) { h.selected = 0; e.addClass("ui-tabs-selected ui-state-active"); j.removeClass("ui-tabs-hide"); this.element.queue("tabs", function () { c._trigger("show", null, c._ui(c.anchors[0], c.panels[0])) }); this.load(0) } this._trigger("add", null, this._ui(this.anchors[a], this.panels[a])); return this
    }, remove: function (b) {
        b = this._getIndex(b); var e = this.options, a = this.lis.eq(b).remove(), c = this.panels.eq(b).remove();
        if (a.hasClass("ui-tabs-selected") && this.anchors.length > 1) this.select(b + (b + 1 < this.anchors.length ? 1 : -1)); e.disabled = d.map(d.grep(e.disabled, function (h) { return h != b }), function (h) { return h >= b ? --h : h }); this._tabify(); this._trigger("remove", null, this._ui(a.find("a")[0], c[0])); return this
    }, enable: function (b) {
        b = this._getIndex(b); var e = this.options; if (d.inArray(b, e.disabled) != -1) {
            this.lis.eq(b).removeClass("ui-state-disabled"); e.disabled = d.grep(e.disabled, function (a) { return a != b }); this._trigger("enable", null,
this._ui(this.anchors[b], this.panels[b])); return this
        }
    }, disable: function (b) { b = this._getIndex(b); var e = this.options; if (b != e.selected) { this.lis.eq(b).addClass("ui-state-disabled"); e.disabled.push(b); e.disabled.sort(); this._trigger("disable", null, this._ui(this.anchors[b], this.panels[b])) } return this }, select: function (b) { b = this._getIndex(b); if (b == -1) if (this.options.collapsible && this.options.selected != -1) b = this.options.selected; else return this; this.anchors.eq(b).trigger(this.options.event + ".tabs"); return this },
        load: function (b) {
            b = this._getIndex(b); var e = this, a = this.options, c = this.anchors.eq(b)[0], h = d.data(c, "load.tabs"); this.abort(); if (!h || this.element.queue("tabs").length !== 0 && d.data(c, "cache.tabs")) this.element.dequeue("tabs"); else {
                this.lis.eq(b).addClass("ui-state-processing"); if (a.spinner) { var j = d("span", c); j.data("label.tabs", j.html()).html(a.spinner) } this.xhr = d.ajax(d.extend({}, a.ajaxOptions, { url: h, success: function (k, n) {
                    e.element.find(e._sanitizeSelector(c.hash)).html(k); e._cleanup(); a.cache && d.data(c,
"cache.tabs", true); e._trigger("load", null, e._ui(e.anchors[b], e.panels[b])); try { a.ajaxOptions.success(k, n) } catch (m) { }
                }, error: function (k, n) { e._cleanup(); e._trigger("load", null, e._ui(e.anchors[b], e.panels[b])); try { a.ajaxOptions.error(k, n, b, c) } catch (m) { } }
                })); e.element.dequeue("tabs"); return this
            }
        }, abort: function () { this.element.queue([]); this.panels.stop(false, true); this.element.queue("tabs", this.element.queue("tabs").splice(-2, 2)); if (this.xhr) { this.xhr.abort(); delete this.xhr } this._cleanup(); return this },
        url: function (b, e) { this.anchors.eq(b).removeData("cache.tabs").data("load.tabs", e); return this }, length: function () { return this.anchors.length }
    }); d.extend(d.ui.tabs, { version: "1.8.7" }); d.extend(d.ui.tabs.prototype, { rotation: null, rotate: function (b, e) {
        var a = this, c = this.options, h = a._rotate || (a._rotate = function (j) { clearTimeout(a.rotation); a.rotation = setTimeout(function () { var k = c.selected; a.select(++k < a.anchors.length ? k : 0) }, b); j && j.stopPropagation() }); e = a._unrotate || (a._unrotate = !e ? function (j) {
            j.clientX &&
a.rotate(null)
        } : function () { t = c.selected; h() }); if (b) { this.element.bind("tabsshow", h); this.anchors.bind(c.event + ".tabs", e); h() } else { clearTimeout(a.rotation); this.element.unbind("tabsshow", h); this.anchors.unbind(c.event + ".tabs", e); delete this._rotate; delete this._unrotate } return this
    }
    })
})(jQuery);
; /*
 * jQuery UI Datepicker 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
(function (d, G) {
    function K() {
        this.debug = false; this._curInst = null; this._keyEvent = false; this._disabledInputs = []; this._inDialog = this._datepickerShowing = false; this._mainDivId = "ui-datepicker-div"; this._inlineClass = "ui-datepicker-inline"; this._appendClass = "ui-datepicker-append"; this._triggerClass = "ui-datepicker-trigger"; this._dialogClass = "ui-datepicker-dialog"; this._disableClass = "ui-datepicker-disabled"; this._unselectableClass = "ui-datepicker-unselectable"; this._currentClass = "ui-datepicker-current-day"; this._dayOverClass =
"ui-datepicker-days-cell-over"; this.regional = []; this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su",
"Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ""
}; this._defaults = { showOn: "focus", showAnim: "fadeIn", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: false, hideIfNoPrevNext: false, navigationAsDateFormat: false, gotoCurrent: false, changeMonth: false, changeYear: false, yearRange: "c-10:c+10", showOtherMonths: false, selectOtherMonths: false, showWeek: false, calculateWeek: this.iso8601Week, shortYearCutoff: "+10",
    minDate: null, maxDate: null, duration: "fast", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: true, showButtonPanel: false, autoSize: false
}; d.extend(this._defaults, this.regional[""]); this.dpDiv = d('<div id="' + this._mainDivId + '" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')
    } function E(a, b) {
        d.extend(a, b); for (var c in b) if (b[c] ==
null || b[c] == G) a[c] = b[c]; return a
    } d.extend(d.ui, { datepicker: { version: "1.8.7"} }); var y = (new Date).getTime(); d.extend(K.prototype, { markerClassName: "hasDatepicker", log: function () { this.debug && console.log.apply("", arguments) }, _widgetDatepicker: function () { return this.dpDiv }, setDefaults: function (a) { E(this._defaults, a || {}); return this }, _attachDatepicker: function (a, b) {
        var c = null; for (var e in this._defaults) { var f = a.getAttribute("date:" + e); if (f) { c = c || {}; try { c[e] = eval(f) } catch (h) { c[e] = f } } } e = a.nodeName.toLowerCase();
        f = e == "div" || e == "span"; if (!a.id) { this.uuid += 1; a.id = "dp" + this.uuid } var i = this._newInst(d(a), f); i.settings = d.extend({}, b || {}, c || {}); if (e == "input") this._connectDatepicker(a, i); else f && this._inlineDatepicker(a, i)
    }, _newInst: function (a, b) { return { id: a[0].id.replace(/([^A-Za-z0-9_-])/g, "\\\\$1"), input: a, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: b, dpDiv: !b ? this.dpDiv : d('<div class="' + this._inlineClass + ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')} },
        _connectDatepicker: function (a, b) { var c = d(a); b.append = d([]); b.trigger = d([]); if (!c.hasClass(this.markerClassName)) { this._attachments(c, b); c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker", function (e, f, h) { b.settings[f] = h }).bind("getData.datepicker", function (e, f) { return this._get(b, f) }); this._autoSize(b); d.data(a, "datepicker", b) } }, _attachments: function (a, b) {
            var c = this._get(b, "appendText"), e = this._get(b, "isRTL"); b.append &&
b.append.remove(); if (c) { b.append = d('<span class="' + this._appendClass + '">' + c + "</span>"); a[e ? "before" : "after"](b.append) } a.unbind("focus", this._showDatepicker); b.trigger && b.trigger.remove(); c = this._get(b, "showOn"); if (c == "focus" || c == "both") a.focus(this._showDatepicker); if (c == "button" || c == "both") {
                c = this._get(b, "buttonText"); var f = this._get(b, "buttonImage"); b.trigger = d(this._get(b, "buttonImageOnly") ? d("<img/>").addClass(this._triggerClass).attr({ src: f, alt: c, title: c }) : d('<button type="button"></button>').addClass(this._triggerClass).html(f ==
"" ? c : d("<img/>").attr({ src: f, alt: c, title: c }))); a[e ? "before" : "after"](b.trigger); b.trigger.click(function () { d.datepicker._datepickerShowing && d.datepicker._lastInput == a[0] ? d.datepicker._hideDatepicker() : d.datepicker._showDatepicker(a[0]); return false })
            }
        }, _autoSize: function (a) {
            if (this._get(a, "autoSize") && !a.inline) {
                var b = new Date(2009, 11, 20), c = this._get(a, "dateFormat"); if (c.match(/[DM]/)) {
                    var e = function (f) { for (var h = 0, i = 0, g = 0; g < f.length; g++) if (f[g].length > h) { h = f[g].length; i = g } return i }; b.setMonth(e(this._get(a,
c.match(/MM/) ? "monthNames" : "monthNamesShort"))); b.setDate(e(this._get(a, c.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - b.getDay())
                } a.input.attr("size", this._formatDate(a, b).length)
            }
        }, _inlineDatepicker: function (a, b) {
            var c = d(a); if (!c.hasClass(this.markerClassName)) {
                c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker", function (e, f, h) { b.settings[f] = h }).bind("getData.datepicker", function (e, f) { return this._get(b, f) }); d.data(a, "datepicker", b); this._setDate(b, this._getDefaultDate(b),
true); this._updateDatepicker(b); this._updateAlternate(b); b.dpDiv.show()
            }
        }, _dialogDatepicker: function (a, b, c, e, f) {
            a = this._dialogInst; if (!a) { this.uuid += 1; this._dialogInput = d('<input type="text" id="' + ("dp" + this.uuid) + '" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'); this._dialogInput.keydown(this._doKeyDown); d("body").append(this._dialogInput); a = this._dialogInst = this._newInst(this._dialogInput, false); a.settings = {}; d.data(this._dialogInput[0], "datepicker", a) } E(a.settings, e || {});
            b = b && b.constructor == Date ? this._formatDate(a, b) : b; this._dialogInput.val(b); this._pos = f ? f.length ? f : [f.pageX, f.pageY] : null; if (!this._pos) this._pos = [document.documentElement.clientWidth / 2 - 100 + (document.documentElement.scrollLeft || document.body.scrollLeft), document.documentElement.clientHeight / 2 - 150 + (document.documentElement.scrollTop || document.body.scrollTop)]; this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"); a.settings.onSelect = c; this._inDialog = true; this.dpDiv.addClass(this._dialogClass);
            this._showDatepicker(this._dialogInput[0]); d.blockUI && d.blockUI(this.dpDiv); d.data(this._dialogInput[0], "datepicker", a); return this
        }, _destroyDatepicker: function (a) {
            var b = d(a), c = d.data(a, "datepicker"); if (b.hasClass(this.markerClassName)) {
                var e = a.nodeName.toLowerCase(); d.removeData(a, "datepicker"); if (e == "input") {
                    c.append.remove(); c.trigger.remove(); b.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup",
this._doKeyUp)
                } else if (e == "div" || e == "span") b.removeClass(this.markerClassName).empty()
            }
        }, _enableDatepicker: function (a) {
            var b = d(a), c = d.data(a, "datepicker"); if (b.hasClass(this.markerClassName)) {
                var e = a.nodeName.toLowerCase(); if (e == "input") { a.disabled = false; c.trigger.filter("button").each(function () { this.disabled = false }).end().filter("img").css({ opacity: "1.0", cursor: "" }) } else if (e == "div" || e == "span") b.children("." + this._inlineClass).children().removeClass("ui-state-disabled"); this._disabledInputs = d.map(this._disabledInputs,
function (f) { return f == a ? null : f })
            }
        }, _disableDatepicker: function (a) {
            var b = d(a), c = d.data(a, "datepicker"); if (b.hasClass(this.markerClassName)) {
                var e = a.nodeName.toLowerCase(); if (e == "input") { a.disabled = true; c.trigger.filter("button").each(function () { this.disabled = true }).end().filter("img").css({ opacity: "0.5", cursor: "default" }) } else if (e == "div" || e == "span") b.children("." + this._inlineClass).children().addClass("ui-state-disabled"); this._disabledInputs = d.map(this._disabledInputs, function (f) {
                    return f == a ? null :
f
                }); this._disabledInputs[this._disabledInputs.length] = a
            }
        }, _isDisabledDatepicker: function (a) { if (!a) return false; for (var b = 0; b < this._disabledInputs.length; b++) if (this._disabledInputs[b] == a) return true; return false }, _getInst: function (a) { try { return d.data(a, "datepicker") } catch (b) { throw "Missing instance data for this datepicker"; } }, _optionDatepicker: function (a, b, c) {
            var e = this._getInst(a); if (arguments.length == 2 && typeof b == "string") return b == "defaults" ? d.extend({}, d.datepicker._defaults) : e ? b == "all" ? d.extend({},
e.settings) : this._get(e, b) : null; var f = b || {}; if (typeof b == "string") { f = {}; f[b] = c } if (e) { this._curInst == e && this._hideDatepicker(); var h = this._getDateDatepicker(a, true); E(e.settings, f); this._attachments(d(a), e); this._autoSize(e); this._setDateDatepicker(a, h); this._updateDatepicker(e) }
        }, _changeDatepicker: function (a, b, c) { this._optionDatepicker(a, b, c) }, _refreshDatepicker: function (a) { (a = this._getInst(a)) && this._updateDatepicker(a) }, _setDateDatepicker: function (a, b) {
            if (a = this._getInst(a)) {
                this._setDate(a, b);
                this._updateDatepicker(a); this._updateAlternate(a)
            }
        }, _getDateDatepicker: function (a, b) { (a = this._getInst(a)) && !a.inline && this._setDateFromField(a, b); return a ? this._getDate(a) : null }, _doKeyDown: function (a) {
            var b = d.datepicker._getInst(a.target), c = true, e = b.dpDiv.is(".ui-datepicker-rtl"); b._keyEvent = true; if (d.datepicker._datepickerShowing) switch (a.keyCode) {
                case 9: d.datepicker._hideDatepicker(); c = false; break; case 13: c = d("td." + d.datepicker._dayOverClass + ":not(." + d.datepicker._currentClass + ")", b.dpDiv); c[0] ?
d.datepicker._selectDay(a.target, b.selectedMonth, b.selectedYear, c[0]) : d.datepicker._hideDatepicker(); return false; case 27: d.datepicker._hideDatepicker(); break; case 33: d.datepicker._adjustDate(a.target, a.ctrlKey ? -d.datepicker._get(b, "stepBigMonths") : -d.datepicker._get(b, "stepMonths"), "M"); break; case 34: d.datepicker._adjustDate(a.target, a.ctrlKey ? +d.datepicker._get(b, "stepBigMonths") : +d.datepicker._get(b, "stepMonths"), "M"); break; case 35: if (a.ctrlKey || a.metaKey) d.datepicker._clearDate(a.target); c = a.ctrlKey ||
a.metaKey; break; case 36: if (a.ctrlKey || a.metaKey) d.datepicker._gotoToday(a.target); c = a.ctrlKey || a.metaKey; break; case 37: if (a.ctrlKey || a.metaKey) d.datepicker._adjustDate(a.target, e ? +1 : -1, "D"); c = a.ctrlKey || a.metaKey; if (a.originalEvent.altKey) d.datepicker._adjustDate(a.target, a.ctrlKey ? -d.datepicker._get(b, "stepBigMonths") : -d.datepicker._get(b, "stepMonths"), "M"); break; case 38: if (a.ctrlKey || a.metaKey) d.datepicker._adjustDate(a.target, -7, "D"); c = a.ctrlKey || a.metaKey; break; case 39: if (a.ctrlKey || a.metaKey) d.datepicker._adjustDate(a.target,
e ? -1 : +1, "D"); c = a.ctrlKey || a.metaKey; if (a.originalEvent.altKey) d.datepicker._adjustDate(a.target, a.ctrlKey ? +d.datepicker._get(b, "stepBigMonths") : +d.datepicker._get(b, "stepMonths"), "M"); break; case 40: if (a.ctrlKey || a.metaKey) d.datepicker._adjustDate(a.target, +7, "D"); c = a.ctrlKey || a.metaKey; break; default: c = false
            } else if (a.keyCode == 36 && a.ctrlKey) d.datepicker._showDatepicker(this); else c = false; if (c) { a.preventDefault(); a.stopPropagation() }
        }, _doKeyPress: function (a) {
            var b = d.datepicker._getInst(a.target); if (d.datepicker._get(b,
"constrainInput")) { b = d.datepicker._possibleChars(d.datepicker._get(b, "dateFormat")); var c = String.fromCharCode(a.charCode == G ? a.keyCode : a.charCode); return a.ctrlKey || a.metaKey || c < " " || !b || b.indexOf(c) > -1 }
        }, _doKeyUp: function (a) { a = d.datepicker._getInst(a.target); if (a.input.val() != a.lastVal) try { if (d.datepicker.parseDate(d.datepicker._get(a, "dateFormat"), a.input ? a.input.val() : null, d.datepicker._getFormatConfig(a))) { d.datepicker._setDateFromField(a); d.datepicker._updateAlternate(a); d.datepicker._updateDatepicker(a) } } catch (b) { d.datepicker.log(b) } return true },
        _showDatepicker: function (a) {
            a = a.target || a; if (a.nodeName.toLowerCase() != "input") a = d("input", a.parentNode)[0]; if (!(d.datepicker._isDisabledDatepicker(a) || d.datepicker._lastInput == a)) {
                var b = d.datepicker._getInst(a); d.datepicker._curInst && d.datepicker._curInst != b && d.datepicker._curInst.dpDiv.stop(true, true); var c = d.datepicker._get(b, "beforeShow"); E(b.settings, c ? c.apply(a, [a, b]) : {}); b.lastVal = null; d.datepicker._lastInput = a; d.datepicker._setDateFromField(b); if (d.datepicker._inDialog) a.value = ""; if (!d.datepicker._pos) {
                    d.datepicker._pos =
d.datepicker._findPos(a); d.datepicker._pos[1] += a.offsetHeight
                } var e = false; d(a).parents().each(function () { e |= d(this).css("position") == "fixed"; return !e }); if (e && d.browser.opera) { d.datepicker._pos[0] -= document.documentElement.scrollLeft; d.datepicker._pos[1] -= document.documentElement.scrollTop } c = { left: d.datepicker._pos[0], top: d.datepicker._pos[1] }; d.datepicker._pos = null; b.dpDiv.empty(); b.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }); d.datepicker._updateDatepicker(b); c = d.datepicker._checkOffset(b,
c, e); b.dpDiv.css({ position: d.datepicker._inDialog && d.blockUI ? "static" : e ? "fixed" : "absolute", display: "none", left: c.left + "px", top: c.top + "px" }); if (!b.inline) {
                    c = d.datepicker._get(b, "showAnim"); var f = d.datepicker._get(b, "duration"), h = function () { d.datepicker._datepickerShowing = true; var i = b.dpDiv.find("iframe.ui-datepicker-cover"); if (i.length) { var g = d.datepicker._getBorders(b.dpDiv); i.css({ left: -g[0], top: -g[1], width: b.dpDiv.outerWidth(), height: b.dpDiv.outerHeight() }) } }; b.dpDiv.zIndex(d(a).zIndex() + 1); d.effects &&
d.effects[c] ? b.dpDiv.show(c, d.datepicker._get(b, "showOptions"), f, h) : b.dpDiv[c || "show"](c ? f : null, h); if (!c || !f) h(); b.input.is(":visible") && !b.input.is(":disabled") && b.input.focus(); d.datepicker._curInst = b
                }
            }
        }, _updateDatepicker: function (a) {
            var b = this, c = d.datepicker._getBorders(a.dpDiv); a.dpDiv.empty().append(this._generateHTML(a)); var e = a.dpDiv.find("iframe.ui-datepicker-cover"); e.length && e.css({ left: -c[0], top: -c[1], width: a.dpDiv.outerWidth(), height: a.dpDiv.outerHeight() }); a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",
function () { d(this).removeClass("ui-state-hover"); this.className.indexOf("ui-datepicker-prev") != -1 && d(this).removeClass("ui-datepicker-prev-hover"); this.className.indexOf("ui-datepicker-next") != -1 && d(this).removeClass("ui-datepicker-next-hover") }).bind("mouseover", function () {
    if (!b._isDisabledDatepicker(a.inline ? a.dpDiv.parent()[0] : a.input[0])) {
        d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"); d(this).addClass("ui-state-hover"); this.className.indexOf("ui-datepicker-prev") !=
-1 && d(this).addClass("ui-datepicker-prev-hover"); this.className.indexOf("ui-datepicker-next") != -1 && d(this).addClass("ui-datepicker-next-hover")
    }
}).end().find("." + this._dayOverClass + " a").trigger("mouseover").end(); c = this._getNumberOfMonths(a); e = c[1]; e > 1 ? a.dpDiv.addClass("ui-datepicker-multi-" + e).css("width", 17 * e + "em") : a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""); a.dpDiv[(c[0] != 1 || c[1] != 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi"); a.dpDiv[(this._get(a,
"isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"); a == d.datepicker._curInst && d.datepicker._datepickerShowing && a.input && a.input.is(":visible") && !a.input.is(":disabled") && a.input.focus(); if (a.yearshtml) { var f = a.yearshtml; setTimeout(function () { f === a.yearshtml && a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml); f = a.yearshtml = null }, 0) }
        }, _getBorders: function (a) { var b = function (c) { return { thin: 1, medium: 2, thick: 3}[c] || c }; return [parseFloat(b(a.css("border-left-width"))), parseFloat(b(a.css("border-top-width")))] },
        _checkOffset: function (a, b, c) {
            var e = a.dpDiv.outerWidth(), f = a.dpDiv.outerHeight(), h = a.input ? a.input.outerWidth() : 0, i = a.input ? a.input.outerHeight() : 0, g = document.documentElement.clientWidth + d(document).scrollLeft(), j = document.documentElement.clientHeight + d(document).scrollTop(); b.left -= this._get(a, "isRTL") ? e - h : 0; b.left -= c && b.left == a.input.offset().left ? d(document).scrollLeft() : 0; b.top -= c && b.top == a.input.offset().top + i ? d(document).scrollTop() : 0; b.left -= Math.min(b.left, b.left + e > g && g > e ? Math.abs(b.left + e -
g) : 0); b.top -= Math.min(b.top, b.top + f > j && j > f ? Math.abs(f + i) : 0); return b
        }, _findPos: function (a) { for (var b = this._get(this._getInst(a), "isRTL"); a && (a.type == "hidden" || a.nodeType != 1); ) a = a[b ? "previousSibling" : "nextSibling"]; a = d(a).offset(); return [a.left, a.top] }, _hideDatepicker: function (a) {
            var b = this._curInst; if (!(!b || a && b != d.data(a, "datepicker"))) if (this._datepickerShowing) {
                a = this._get(b, "showAnim"); var c = this._get(b, "duration"), e = function () { d.datepicker._tidyDialog(b); this._curInst = null }; d.effects && d.effects[a] ?
b.dpDiv.hide(a, d.datepicker._get(b, "showOptions"), c, e) : b.dpDiv[a == "slideDown" ? "slideUp" : a == "fadeIn" ? "fadeOut" : "hide"](a ? c : null, e); a || e(); if (a = this._get(b, "onClose")) a.apply(b.input ? b.input[0] : null, [b.input ? b.input.val() : "", b]); this._datepickerShowing = false; this._lastInput = null; if (this._inDialog) { this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }); if (d.blockUI) { d.unblockUI(); d("body").append(this.dpDiv) } } this._inDialog = false
            }
        }, _tidyDialog: function (a) { a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar") },
        _checkExternalClick: function (a) { if (d.datepicker._curInst) { a = d(a.target); a[0].id != d.datepicker._mainDivId && a.parents("#" + d.datepicker._mainDivId).length == 0 && !a.hasClass(d.datepicker.markerClassName) && !a.hasClass(d.datepicker._triggerClass) && d.datepicker._datepickerShowing && !(d.datepicker._inDialog && d.blockUI) && d.datepicker._hideDatepicker() } }, _adjustDate: function (a, b, c) {
            a = d(a); var e = this._getInst(a[0]); if (!this._isDisabledDatepicker(a[0])) {
                this._adjustInstDate(e, b + (c == "M" ? this._get(e, "showCurrentAtPos") :
0), c); this._updateDatepicker(e)
            }
        }, _gotoToday: function (a) { a = d(a); var b = this._getInst(a[0]); if (this._get(b, "gotoCurrent") && b.currentDay) { b.selectedDay = b.currentDay; b.drawMonth = b.selectedMonth = b.currentMonth; b.drawYear = b.selectedYear = b.currentYear } else { var c = new Date; b.selectedDay = c.getDate(); b.drawMonth = b.selectedMonth = c.getMonth(); b.drawYear = b.selectedYear = c.getFullYear() } this._notifyChange(b); this._adjustDate(a) }, _selectMonthYear: function (a, b, c) {
            a = d(a); var e = this._getInst(a[0]); e._selectingMonthYear =
false; e["selected" + (c == "M" ? "Month" : "Year")] = e["draw" + (c == "M" ? "Month" : "Year")] = parseInt(b.options[b.selectedIndex].value, 10); this._notifyChange(e); this._adjustDate(a)
        }, _clickMonthYear: function (a) { var b = this._getInst(d(a)[0]); b.input && b._selectingMonthYear && setTimeout(function () { b.input.focus() }, 0); b._selectingMonthYear = !b._selectingMonthYear }, _selectDay: function (a, b, c, e) {
            var f = d(a); if (!(d(e).hasClass(this._unselectableClass) || this._isDisabledDatepicker(f[0]))) {
                f = this._getInst(f[0]); f.selectedDay = f.currentDay =
d("a", e).html(); f.selectedMonth = f.currentMonth = b; f.selectedYear = f.currentYear = c; this._selectDate(a, this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear))
            }
        }, _clearDate: function (a) { a = d(a); this._getInst(a[0]); this._selectDate(a, "") }, _selectDate: function (a, b) {
            a = this._getInst(d(a)[0]); b = b != null ? b : this._formatDate(a); a.input && a.input.val(b); this._updateAlternate(a); var c = this._get(a, "onSelect"); if (c) c.apply(a.input ? a.input[0] : null, [b, a]); else a.input && a.input.trigger("change"); if (a.inline) this._updateDatepicker(a);
            else { this._hideDatepicker(); this._lastInput = a.input[0]; typeof a.input[0] != "object" && a.input.focus(); this._lastInput = null }
        }, _updateAlternate: function (a) { var b = this._get(a, "altField"); if (b) { var c = this._get(a, "altFormat") || this._get(a, "dateFormat"), e = this._getDate(a), f = this.formatDate(c, e, this._getFormatConfig(a)); d(b).each(function () { d(this).val(f) }) } }, noWeekends: function (a) { a = a.getDay(); return [a > 0 && a < 6, ""] }, iso8601Week: function (a) {
            a = new Date(a.getTime()); a.setDate(a.getDate() + 4 - (a.getDay() || 7)); var b =
a.getTime(); a.setMonth(0); a.setDate(1); return Math.floor(Math.round((b - a) / 864E5) / 7) + 1
        }, parseDate: function (a, b, c) {
            if (a == null || b == null) throw "Invalid arguments"; b = typeof b == "object" ? b.toString() : b + ""; if (b == "") return null; for (var e = (c ? c.shortYearCutoff : null) || this._defaults.shortYearCutoff, f = (c ? c.dayNamesShort : null) || this._defaults.dayNamesShort, h = (c ? c.dayNames : null) || this._defaults.dayNames, i = (c ? c.monthNamesShort : null) || this._defaults.monthNamesShort, g = (c ? c.monthNames : null) || this._defaults.monthNames,
j = c = -1, l = -1, u = -1, k = false, o = function (p) { (p = z + 1 < a.length && a.charAt(z + 1) == p) && z++; return p }, m = function (p) { var v = o(p); p = new RegExp("^\\d{1," + (p == "@" ? 14 : p == "!" ? 20 : p == "y" && v ? 4 : p == "o" ? 3 : 2) + "}"); p = b.substring(s).match(p); if (!p) throw "Missing number at position " + s; s += p[0].length; return parseInt(p[0], 10) }, n = function (p, v, H) { p = o(p) ? H : v; for (v = 0; v < p.length; v++) if (b.substr(s, p[v].length).toLowerCase() == p[v].toLowerCase()) { s += p[v].length; return v + 1 } throw "Unknown name at position " + s; }, r = function () {
    if (b.charAt(s) !=
a.charAt(z)) throw "Unexpected literal at position " + s; s++
}, s = 0, z = 0; z < a.length; z++) if (k) if (a.charAt(z) == "'" && !o("'")) k = false; else r(); else switch (a.charAt(z)) {
                case "d": l = m("d"); break; case "D": n("D", f, h); break; case "o": u = m("o"); break; case "m": j = m("m"); break; case "M": j = n("M", i, g); break; case "y": c = m("y"); break; case "@": var w = new Date(m("@")); c = w.getFullYear(); j = w.getMonth() + 1; l = w.getDate(); break; case "!": w = new Date((m("!") - this._ticksTo1970) / 1E4); c = w.getFullYear(); j = w.getMonth() + 1; l = w.getDate(); break;
                case "'": if (o("'")) r(); else k = true; break; default: r()
            } if (c == -1) c = (new Date).getFullYear(); else if (c < 100) c += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (c <= e ? 0 : -100); if (u > -1) { j = 1; l = u; do { e = this._getDaysInMonth(c, j - 1); if (l <= e) break; j++; l -= e } while (1) } w = this._daylightSavingAdjust(new Date(c, j - 1, l)); if (w.getFullYear() != c || w.getMonth() + 1 != j || w.getDate() != l) throw "Invalid date"; return w
        }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 24 * 60 * 60 * 1E7, formatDate: function (a, b, c) {
            if (!b) return ""; var e = (c ? c.dayNamesShort : null) || this._defaults.dayNamesShort, f = (c ? c.dayNames : null) || this._defaults.dayNames, h = (c ? c.monthNamesShort : null) || this._defaults.monthNamesShort; c = (c ? c.monthNames : null) || this._defaults.monthNames; var i = function (o) {
                (o = k + 1 < a.length && a.charAt(k + 1) == o) && k++;
                return o
            }, g = function (o, m, n) { m = "" + m; if (i(o)) for (; m.length < n; ) m = "0" + m; return m }, j = function (o, m, n, r) { return i(o) ? r[m] : n[m] }, l = "", u = false; if (b) for (var k = 0; k < a.length; k++) if (u) if (a.charAt(k) == "'" && !i("'")) u = false; else l += a.charAt(k); else switch (a.charAt(k)) {
                case "d": l += g("d", b.getDate(), 2); break; case "D": l += j("D", b.getDay(), e, f); break; case "o": l += g("o", (b.getTime() - (new Date(b.getFullYear(), 0, 0)).getTime()) / 864E5, 3); break; case "m": l += g("m", b.getMonth() + 1, 2); break; case "M": l += j("M", b.getMonth(), h, c); break;
                case "y": l += i("y") ? b.getFullYear() : (b.getYear() % 100 < 10 ? "0" : "") + b.getYear() % 100; break; case "@": l += b.getTime(); break; case "!": l += b.getTime() * 1E4 + this._ticksTo1970; break; case "'": if (i("'")) l += "'"; else u = true; break; default: l += a.charAt(k)
            } return l
        }, _possibleChars: function (a) {
            for (var b = "", c = false, e = function (h) { (h = f + 1 < a.length && a.charAt(f + 1) == h) && f++; return h }, f = 0; f < a.length; f++) if (c) if (a.charAt(f) == "'" && !e("'")) c = false; else b += a.charAt(f); else switch (a.charAt(f)) {
                case "d": case "m": case "y": case "@": b +=
"0123456789"; break; case "D": case "M": return null; case "'": if (e("'")) b += "'"; else c = true; break; default: b += a.charAt(f)
            } return b
        }, _get: function (a, b) { return a.settings[b] !== G ? a.settings[b] : this._defaults[b] }, _setDateFromField: function (a, b) {
            if (a.input.val() != a.lastVal) {
                var c = this._get(a, "dateFormat"), e = a.lastVal = a.input ? a.input.val() : null, f, h; f = h = this._getDefaultDate(a); var i = this._getFormatConfig(a); try { f = this.parseDate(c, e, i) || h } catch (g) { this.log(g); e = b ? "" : e } a.selectedDay = f.getDate(); a.drawMonth = a.selectedMonth =
f.getMonth(); a.drawYear = a.selectedYear = f.getFullYear(); a.currentDay = e ? f.getDate() : 0; a.currentMonth = e ? f.getMonth() : 0; a.currentYear = e ? f.getFullYear() : 0; this._adjustInstDate(a)
            }
        }, _getDefaultDate: function (a) { return this._restrictMinMax(a, this._determineDate(a, this._get(a, "defaultDate"), new Date)) }, _determineDate: function (a, b, c) {
            var e = function (h) { var i = new Date; i.setDate(i.getDate() + h); return i }, f = function (h) {
                try { return d.datepicker.parseDate(d.datepicker._get(a, "dateFormat"), h, d.datepicker._getFormatConfig(a)) } catch (i) { } var g =
(h.toLowerCase().match(/^c/) ? d.datepicker._getDate(a) : null) || new Date, j = g.getFullYear(), l = g.getMonth(); g = g.getDate(); for (var u = /([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, k = u.exec(h); k; ) { switch (k[2] || "d") { case "d": case "D": g += parseInt(k[1], 10); break; case "w": case "W": g += parseInt(k[1], 10) * 7; break; case "m": case "M": l += parseInt(k[1], 10); g = Math.min(g, d.datepicker._getDaysInMonth(j, l)); break; case "y": case "Y": j += parseInt(k[1], 10); g = Math.min(g, d.datepicker._getDaysInMonth(j, l)); break } k = u.exec(h) } return new Date(j,
l, g)
            }; if (b = (b = b == null || b === "" ? c : typeof b == "string" ? f(b) : typeof b == "number" ? isNaN(b) ? c : e(b) : new Date(b.getTime())) && b.toString() == "Invalid Date" ? c : b) { b.setHours(0); b.setMinutes(0); b.setSeconds(0); b.setMilliseconds(0) } return this._daylightSavingAdjust(b)
        }, _daylightSavingAdjust: function (a) { if (!a) return null; a.setHours(a.getHours() > 12 ? a.getHours() + 2 : 0); return a }, _setDate: function (a, b, c) {
            var e = !b, f = a.selectedMonth, h = a.selectedYear; b = this._restrictMinMax(a, this._determineDate(a, b, new Date)); a.selectedDay =
a.currentDay = b.getDate(); a.drawMonth = a.selectedMonth = a.currentMonth = b.getMonth(); a.drawYear = a.selectedYear = a.currentYear = b.getFullYear(); if ((f != a.selectedMonth || h != a.selectedYear) && !c) this._notifyChange(a); this._adjustInstDate(a); if (a.input) a.input.val(e ? "" : this._formatDate(a))
        }, _getDate: function (a) { return !a.currentYear || a.input && a.input.val() == "" ? null : this._daylightSavingAdjust(new Date(a.currentYear, a.currentMonth, a.currentDay)) }, _generateHTML: function (a) {
            var b = new Date; b = this._daylightSavingAdjust(new Date(b.getFullYear(),
b.getMonth(), b.getDate())); var c = this._get(a, "isRTL"), e = this._get(a, "showButtonPanel"), f = this._get(a, "hideIfNoPrevNext"), h = this._get(a, "navigationAsDateFormat"), i = this._getNumberOfMonths(a), g = this._get(a, "showCurrentAtPos"), j = this._get(a, "stepMonths"), l = i[0] != 1 || i[1] != 1, u = this._daylightSavingAdjust(!a.currentDay ? new Date(9999, 9, 9) : new Date(a.currentYear, a.currentMonth, a.currentDay)), k = this._getMinMaxDate(a, "min"), o = this._getMinMaxDate(a, "max"); g = a.drawMonth - g; var m = a.drawYear; if (g < 0) { g += 12; m-- } if (o) {
                var n =
this._daylightSavingAdjust(new Date(o.getFullYear(), o.getMonth() - i[0] * i[1] + 1, o.getDate())); for (n = k && n < k ? k : n; this._daylightSavingAdjust(new Date(m, g, 1)) > n; ) { g--; if (g < 0) { g = 11; m-- } }
            } a.drawMonth = g; a.drawYear = m; n = this._get(a, "prevText"); n = !h ? n : this.formatDate(n, this._daylightSavingAdjust(new Date(m, g - j, 1)), this._getFormatConfig(a)); n = this._canAdjustMonth(a, -1, m, g) ? '<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_' + y + ".datepicker._adjustDate('#" + a.id + "', -" + j + ", 'M');\" title=\"" + n + '"><span class="ui-icon ui-icon-circle-triangle-' +
(c ? "e" : "w") + '">' + n + "</span></a>" : f ? "" : '<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="' + n + '"><span class="ui-icon ui-icon-circle-triangle-' + (c ? "e" : "w") + '">' + n + "</span></a>"; var r = this._get(a, "nextText"); r = !h ? r : this.formatDate(r, this._daylightSavingAdjust(new Date(m, g + j, 1)), this._getFormatConfig(a)); f = this._canAdjustMonth(a, +1, m, g) ? '<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_' + y + ".datepicker._adjustDate('#" + a.id + "', +" + j + ", 'M');\" title=\"" + r + '"><span class="ui-icon ui-icon-circle-triangle-' +
(c ? "w" : "e") + '">' + r + "</span></a>" : f ? "" : '<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="' + r + '"><span class="ui-icon ui-icon-circle-triangle-' + (c ? "w" : "e") + '">' + r + "</span></a>"; j = this._get(a, "currentText"); r = this._get(a, "gotoCurrent") && a.currentDay ? u : b; j = !h ? j : this.formatDate(j, r, this._getFormatConfig(a)); h = !a.inline ? '<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_' + y + '.datepicker._hideDatepicker();">' + this._get(a,
"closeText") + "</button>" : ""; e = e ? '<div class="ui-datepicker-buttonpane ui-widget-content">' + (c ? h : "") + (this._isInRange(a, r) ? '<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_' + y + ".datepicker._gotoToday('#" + a.id + "');\">" + j + "</button>" : "") + (c ? "" : h) + "</div>" : ""; h = parseInt(this._get(a, "firstDay"), 10); h = isNaN(h) ? 0 : h; j = this._get(a, "showWeek"); r = this._get(a, "dayNames"); this._get(a, "dayNamesShort"); var s = this._get(a, "dayNamesMin"), z =
this._get(a, "monthNames"), w = this._get(a, "monthNamesShort"), p = this._get(a, "beforeShowDay"), v = this._get(a, "showOtherMonths"), H = this._get(a, "selectOtherMonths"); this._get(a, "calculateWeek"); for (var L = this._getDefaultDate(a), I = "", C = 0; C < i[0]; C++) {
                for (var M = "", D = 0; D < i[1]; D++) {
                    var N = this._daylightSavingAdjust(new Date(m, g, a.selectedDay)), t = " ui-corner-all", x = ""; if (l) {
                        x += '<div class="ui-datepicker-group'; if (i[1] > 1) switch (D) {
                            case 0: x += " ui-datepicker-group-first"; t = " ui-corner-" + (c ? "right" : "left"); break; case i[1] -
1: x += " ui-datepicker-group-last"; t = " ui-corner-" + (c ? "left" : "right"); break; default: x += " ui-datepicker-group-middle"; t = ""; break
                        } x += '">'
                    } x += '<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix' + t + '">' + (/all|left/.test(t) && C == 0 ? c ? f : n : "") + (/all|right/.test(t) && C == 0 ? c ? n : f : "") + this._generateMonthYearHeader(a, g, m, k, o, C > 0 || D > 0, z, w) + '</div><table class="ui-datepicker-calendar"><thead><tr>'; var A = j ? '<th class="ui-datepicker-week-col">' + this._get(a, "weekHeader") + "</th>" : ""; for (t = 0; t < 7; t++) {
                        var q =
(t + h) % 7; A += "<th" + ((t + h + 6) % 7 >= 5 ? ' class="ui-datepicker-week-end"' : "") + '><span title="' + r[q] + '">' + s[q] + "</span></th>"
                    } x += A + "</tr></thead><tbody>"; A = this._getDaysInMonth(m, g); if (m == a.selectedYear && g == a.selectedMonth) a.selectedDay = Math.min(a.selectedDay, A); t = (this._getFirstDayOfMonth(m, g) - h + 7) % 7; A = l ? 6 : Math.ceil((t + A) / 7); q = this._daylightSavingAdjust(new Date(m, g, 1 - t)); for (var O = 0; O < A; O++) {
                        x += "<tr>"; var P = !j ? "" : '<td class="ui-datepicker-week-col">' + this._get(a, "calculateWeek")(q) + "</td>"; for (t = 0; t < 7; t++) {
                            var F =
p ? p.apply(a.input ? a.input[0] : null, [q]) : [true, ""], B = q.getMonth() != g, J = B && !H || !F[0] || k && q < k || o && q > o; P += '<td class="' + ((t + h + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (B ? " ui-datepicker-other-month" : "") + (q.getTime() == N.getTime() && g == a.selectedMonth && a._keyEvent || L.getTime() == q.getTime() && L.getTime() == N.getTime() ? " " + this._dayOverClass : "") + (J ? " " + this._unselectableClass + " ui-state-disabled" : "") + (B && !v ? "" : " " + F[1] + (q.getTime() == u.getTime() ? " " + this._currentClass : "") + (q.getTime() == b.getTime() ? " ui-datepicker-today" :
"")) + '"' + ((!B || v) && F[2] ? ' title="' + F[2] + '"' : "") + (J ? "" : ' onclick="DP_jQuery_' + y + ".datepicker._selectDay('#" + a.id + "'," + q.getMonth() + "," + q.getFullYear() + ', this);return false;"') + ">" + (B && !v ? "&#xa0;" : J ? '<span class="ui-state-default">' + q.getDate() + "</span>" : '<a class="ui-state-default' + (q.getTime() == b.getTime() ? " ui-state-highlight" : "") + (q.getTime() == u.getTime() ? " ui-state-active" : "") + (B ? " ui-priority-secondary" : "") + '" href="#">' + q.getDate() + "</a>") + "</td>"; q.setDate(q.getDate() + 1); q = this._daylightSavingAdjust(q)
                        } x +=
P + "</tr>"
                    } g++; if (g > 11) { g = 0; m++ } x += "</tbody></table>" + (l ? "</div>" + (i[0] > 0 && D == i[1] - 1 ? '<div class="ui-datepicker-row-break"></div>' : "") : ""); M += x
                } I += M
            } I += e + (d.browser.msie && parseInt(d.browser.version, 10) < 7 && !a.inline ? '<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>' : ""); a._keyEvent = false; return I
        }, _generateMonthYearHeader: function (a, b, c, e, f, h, i, g) {
            var j = this._get(a, "changeMonth"), l = this._get(a, "changeYear"), u = this._get(a, "showMonthAfterYear"), k = '<div class="ui-datepicker-title">',
o = ""; if (h || !j) o += '<span class="ui-datepicker-month">' + i[b] + "</span>"; else { i = e && e.getFullYear() == c; var m = f && f.getFullYear() == c; o += '<select class="ui-datepicker-month" onchange="DP_jQuery_' + y + ".datepicker._selectMonthYear('#" + a.id + "', this, 'M');\" onclick=\"DP_jQuery_" + y + ".datepicker._clickMonthYear('#" + a.id + "');\">"; for (var n = 0; n < 12; n++) if ((!i || n >= e.getMonth()) && (!m || n <= f.getMonth())) o += '<option value="' + n + '"' + (n == b ? ' selected="selected"' : "") + ">" + g[n] + "</option>"; o += "</select>" } u || (k += o + (h || !(j &&
l) ? "&#xa0;" : "")); a.yearshtml = ""; if (h || !l) k += '<span class="ui-datepicker-year">' + c + "</span>"; else {
                g = this._get(a, "yearRange").split(":"); var r = (new Date).getFullYear(); i = function (s) { s = s.match(/c[+-].*/) ? c + parseInt(s.substring(1), 10) : s.match(/[+-].*/) ? r + parseInt(s, 10) : parseInt(s, 10); return isNaN(s) ? r : s }; b = i(g[0]); g = Math.max(b, i(g[1] || "")); b = e ? Math.max(b, e.getFullYear()) : b; g = f ? Math.min(g, f.getFullYear()) : g; for (a.yearshtml += '<select class="ui-datepicker-year" onchange="DP_jQuery_' + y + ".datepicker._selectMonthYear('#" +
a.id + "', this, 'Y');\" onclick=\"DP_jQuery_" + y + ".datepicker._clickMonthYear('#" + a.id + "');\">"; b <= g; b++) a.yearshtml += '<option value="' + b + '"' + (b == c ? ' selected="selected"' : "") + ">" + b + "</option>"; a.yearshtml += "</select>"; if (d.browser.mozilla) k += '<select class="ui-datepicker-year"><option value="' + c + '" selected="selected">' + c + "</option></select>"; else { k += a.yearshtml; a.yearshtml = null }
            } k += this._get(a, "yearSuffix"); if (u) k += (h || !(j && l) ? "&#xa0;" : "") + o; k += "</div>"; return k
        }, _adjustInstDate: function (a, b, c) {
            var e =
a.drawYear + (c == "Y" ? b : 0), f = a.drawMonth + (c == "M" ? b : 0); b = Math.min(a.selectedDay, this._getDaysInMonth(e, f)) + (c == "D" ? b : 0); e = this._restrictMinMax(a, this._daylightSavingAdjust(new Date(e, f, b))); a.selectedDay = e.getDate(); a.drawMonth = a.selectedMonth = e.getMonth(); a.drawYear = a.selectedYear = e.getFullYear(); if (c == "M" || c == "Y") this._notifyChange(a)
        }, _restrictMinMax: function (a, b) { var c = this._getMinMaxDate(a, "min"); a = this._getMinMaxDate(a, "max"); b = c && b < c ? c : b; return b = a && b > a ? a : b }, _notifyChange: function (a) {
            var b = this._get(a,
"onChangeMonthYear"); if (b) b.apply(a.input ? a.input[0] : null, [a.selectedYear, a.selectedMonth + 1, a])
        }, _getNumberOfMonths: function (a) { a = this._get(a, "numberOfMonths"); return a == null ? [1, 1] : typeof a == "number" ? [1, a] : a }, _getMinMaxDate: function (a, b) { return this._determineDate(a, this._get(a, b + "Date"), null) }, _getDaysInMonth: function (a, b) { return 32 - (new Date(a, b, 32)).getDate() }, _getFirstDayOfMonth: function (a, b) { return (new Date(a, b, 1)).getDay() }, _canAdjustMonth: function (a, b, c, e) {
            var f = this._getNumberOfMonths(a);
            c = this._daylightSavingAdjust(new Date(c, e + (b < 0 ? b : f[0] * f[1]), 1)); b < 0 && c.setDate(this._getDaysInMonth(c.getFullYear(), c.getMonth())); return this._isInRange(a, c)
        }, _isInRange: function (a, b) { var c = this._getMinMaxDate(a, "min"); a = this._getMinMaxDate(a, "max"); return (!c || b.getTime() >= c.getTime()) && (!a || b.getTime() <= a.getTime()) }, _getFormatConfig: function (a) {
            var b = this._get(a, "shortYearCutoff"); b = typeof b != "string" ? b : (new Date).getFullYear() % 100 + parseInt(b, 10); return { shortYearCutoff: b, dayNamesShort: this._get(a,
"dayNamesShort"), dayNames: this._get(a, "dayNames"), monthNamesShort: this._get(a, "monthNamesShort"), monthNames: this._get(a, "monthNames")
            }
        }, _formatDate: function (a, b, c, e) { if (!b) { a.currentDay = a.selectedDay; a.currentMonth = a.selectedMonth; a.currentYear = a.selectedYear } b = b ? typeof b == "object" ? b : this._daylightSavingAdjust(new Date(e, c, b)) : this._daylightSavingAdjust(new Date(a.currentYear, a.currentMonth, a.currentDay)); return this.formatDate(this._get(a, "dateFormat"), b, this._getFormatConfig(a)) }
    }); d.fn.datepicker =
function (a) {
    if (!d.datepicker.initialized) { d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv); d.datepicker.initialized = true } var b = Array.prototype.slice.call(arguments, 1); if (typeof a == "string" && (a == "isDisabled" || a == "getDate" || a == "widget")) return d.datepicker["_" + a + "Datepicker"].apply(d.datepicker, [this[0]].concat(b)); if (a == "option" && arguments.length == 2 && typeof arguments[1] == "string") return d.datepicker["_" + a + "Datepicker"].apply(d.datepicker, [this[0]].concat(b));
    return this.each(function () { typeof a == "string" ? d.datepicker["_" + a + "Datepicker"].apply(d.datepicker, [this].concat(b)) : d.datepicker._attachDatepicker(this, a) })
}; d.datepicker = new K; d.datepicker.initialized = false; d.datepicker.uuid = (new Date).getTime(); d.datepicker.version = "1.8.7"; window["DP_jQuery_" + y] = d
})(jQuery);
;


    jQuery(function ($) {
        $.datepicker.regional['zh-CN'] = {
            closeText: '关闭',
            prevText: '&#x3c;上月',
            nextText: '下月&#x3e;',
            currentText: '今天',
            monthNames: ['一月', '二月', '三月', '四月', '五月', '六月',
		'七月', '八月', '九月', '十月', '十一月', '十二月'],
            monthNamesShort: ['一', '二', '三', '四', '五', '六',
		'七', '八', '九', '十', '十一', '十二'],
            dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
            dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
            dayNamesMin: ['日', '一', '二', '三', '四', '五', '六'],
            weekHeader: '周',
            dateFormat: 'yy-mm-dd',
            firstDay: 1,
            isRTL: false,
            showMonthAfterYear: true,
            changeYear: true,
            changeMonth: true,
            yearSuffix: ''
        };
        $.datepicker.setDefaults($.datepicker.regional['zh-CN']);
    });



/*plugins\bootstrap\js\bootstrap.min.js*/
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.4",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.4",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.4",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.4",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.4",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.4",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){
var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.4",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a(document.body).height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);

/*plugins\jpList-master\js\jplist.min.js*/
(function(){var d=function(b,a,e){switch(a){case"add":b&&(b.controller&&b.controller.collection&&e.$item)&&(a=b.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&(0<=e.index&&e.index<=b.controller.collection.dataitems.length)&&(a=Number(e.index)),b.controller.collection.addDataItem(e.$item,b.controller.collection.paths,a),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1]));break;case"del":b&&(b.controller&&b.controller.collection&&e.$item)&&(b.controller.collection.delDataitem(e.$item),e.$item.remove(),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1]));break;case"getDataItems":e=null;if(b.options&&b.options.dataSource){switch(b.options.dataSource.type){case"html":b.controller&&b.controller.collection&&(e=b.controller.collection.dataitems);break;case"server":b.controller&&(b.controller.model&&b.controller.model.dataItem)&&(e=b.controller.model.dataItem)}}return e}},c=function(b,a){var e={observer:null,panel:null,controller:null,$root:a};e.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},render:null}},b);e.observer=new jQuery.fn.jplist.app.events.PubSub(e.$root,e.options);e.history=new jQuery.fn.jplist.app.History(e.$root,e.options,e.observer);e.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(a,e.options,e.history,e.observer);e.options.dataSource=e.options.dataSource||{};e.options.dataSource.type=e.options.dataSource.type||"html";jQuery.fn.jplist.info(e.options,"Data Source Type: ",e.options.dataSource.type);
switch(e.options.dataSource.type){case"html":e.controller=new jQuery.fn.jplist.ui.list.controllers.DOMController(e.$root,e.options,e.observer,e.panel,e.history);break;case"server":jQuery.fn.jplist.info(e.options,"Data Source: ",e.options.dataSource),e.controller=new jQuery.fn.jplist.ui.list.controllers.ServerController(e.$root,e.options,e.observer,e.panel,e.history)}e.observer.trigger(e.observer.events.init,[]);return jQuery.extend(this,e)};jQuery.fn.jplist=function(b){if(b.command&&"init"!==b.command){var a;if(a=this.data("jplist")){return d(a,b.command,b.commandData)}}else{return this.each(function(){var a,d=jQuery(this);a=new c(b,d);d.data("jplist",a)})}};jQuery.fn.jplist.controlTypes={};jQuery.fn.jplist.itemControlTypes={};jQuery.fn.jplist.settings={};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.app.events=jQuery.fn.jplist.app.events||{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{};jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{};jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{};jQuery.fn.jplist.domain.deeplinks=jQuery.fn.jplist.domain.deeplinks||{};jQuery.fn.jplist.domain.deeplinks.services=jQuery.fn.jplist.domain.deeplinks.services||{};
jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{};jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{};jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{};jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{}})();(function(){var d=function(c,b){var a={options:b,$root:c,events:{},events:{init:"1",unknownStatusesChanged:"2",knownStatusesChanged:"3",statusChanged:"4",statusesChangedByDeepLinks:"5",listSorted:"6",listFiltered:"7",listPaginated:"8",dataItemAdded:"9",dataItemRemoved:"10",collectionReadyEvent:"11",statusesAppliedToList:"12",animationStartEvent:"13",animationStepEvent:"14",animationCompleteEvent:"15"}};return jQuery.extend(!0,jQuery({}),this,a)};jQuery.fn.jplist.app.events.PubSub=function(c,b){return new d(c,b)}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(d,c,b,a,e,h,f,g){this.action=c;this.name=d;this.type=b;this.data=a;this.inStorage=e;this.inAnimation=h;this.isAnimateToTop=f;this.inDeepLinking=g}})();(function(){var d=function(c,b,a){return jQuery.extend(this,{options:b,observer:a,$root:c,statusesQueue:[],listStatusesQueue:[]})};d.prototype.addStatus=function(c){this.statusesQueue.push(c);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};d.prototype.getLastStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue[this.statusesQueue.length-1]);
return c};d.prototype.popStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue.pop());return c};d.prototype.getLastList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue[this.listStatusesQueue.length-1]);return c};d.prototype.addList=function(c){this.listStatusesQueue.push(c);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};d.prototype.popList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue.pop());return c};jQuery.fn.jplist.app.History=function(c,b,a){return new d(c,b,a)}})();(function(){var d=function(c,b,a){return jQuery.extend(this,{options:c,observer:b,statuses:a})};d.prototype.findStatusByField=function(c,b){for(var a=-1,e,d=0;d<this.statuses.length;d++){if(e=this.statuses[d],e[b]===c[b]){a=d;break}}return a};d.prototype.getStatusesByAction=function(c){for(var b=[],a,e=0;e<this.statuses.length;e++){a=this.statuses[e],a.action===c&&b.push(a)}return b};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(c,b,a){return new d(c,b,a)}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(d.data.value,b,c,d.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(b,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(b,c,d.data.min,d.data.max,d.data.prev,d.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);
return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(d.data.year,d.data.month,d.data.day,b,c,d.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(b,c,d.data.format,d.data.prev_year,d.data.prev_month,d.data.prev_day,d.data.next_year,d.data.next_month,d.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(d.data.pathGroup,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(d.data.textGroup,d.data.logic,d.data.path,d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(d.data.textAndPathsGroup,d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.autocomplete=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter(d.data.latitude,d.data.longitude,d.data.name,c,d.data.radius)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(c,b,d.data.order,a,d.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(c,b,d.data.order,a)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);
return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(c,b,d.data.order,a,d.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(d){return d.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.log(c,b)};jQuery.fn.jplist.info=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.info(c,b)};jQuery.fn.jplist.error=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.error(c,b)};jQuery.fn.jplist.warn=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.warn(c,b)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(d,c){this.jqPath=d;this.dataType=c};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(d,c){var b=!1;c?this.jqPath===d.jqPath&&(b=!0):this.jqPath===d.jqPath&&this.dataType===d.dataType&&(b=!0);return b}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(d,c){this.$element=d;this.path=c;this.text=d.text();this.html=d.html()}})();(function(){var d=function(c,b,a){a={html:null,pathitems:[],$item:c,index:a};a.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(c);var e,d;c=[];for(var f=0;f<b.length;f++){e=b[f],d=a.$item.find(e.jqPath),0<d.length&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(d,e),c.push(e))}a.pathitems=c;return jQuery.extend(this,a)};d.prototype.findPathitem=function(c){for(var b=null,a,e=0;e<this.pathitems.length;e++){if(a=this.pathitems[e],a.path.isEqual(c,!0)){b=a;break}}return b};jQuery.fn.jplist.domain.dom.models.DataItemModel=function(c,b,a){c=new d(c,b,a);this.html=c.html;this.jqElement=c.$item;this.pathitems=c.pathitems;this.index=c.index;this.findPathitem=c.findPathitem}})();(function(){var d=function(a,e){var b,c,d;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("filter",e);if(0<b.length){for(var g=0;
g<b.length;g++){if((c=b[g])&&c.data&&c.data.filterType){d=jQuery.fn.jplist.app.services.DTOMapperService.filters[c.data.filterType],jQuery.isFunction(d)&&(a.dataview=d(c,a.dataview))}}a.observer.trigger(a.observer.events.listFiltered,[e,a])}},c=function(a,e){var b,c=null,d;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("paging",e);if(0<b.length){for(var g=0;g<b.length;g++){c=b[g],d=c.data.currentPage||0,c=new jQuery.fn.jplist.domain.dom.services.PaginationService(d,c.data.number,a.dataview.length),b[g].data.paging=c,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(c,a.dataview)}a.observer.trigger(a.observer.events.listPaginated,[e,a])}},b=function(a,e){var b,c,d=[],g;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("sort",e);if(0<b.length){for(var f=0;f<b.length;f++){if((c=b[f])&&c.data&&c.data.sortGroup&&jQuery.isArray(c.data.sortGroup)&&0<c.data.sortGroup.length){for(var h=0;h<c.data.sortGroup.length;h++){g=new jQuery.fn.jplist.app.dto.StatusDTO(c.name,c.action,c.type,c.data.sortGroup[h],c.inStorage,c.inAnimation,c.isAnimateToTop,c.inDeepLinking),d.push(g)}}else{d.push(c)}}jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(d,a.dataview);a.observer.trigger(a.observer.events.listSorted,[e,a])}},a=function(a){return jQuery(a.dataview).map(function(a,e){return e.jqElement.get()})},e=function(a){return jQuery(a.dataitems).map(function(a,e){return e.jqElement.get()})},h=function(a){a.dataview=jQuery.merge([],a.dataitems)},f=function(a,e){for(var b,c=-1,d,g=0;g<a.dataitems.length;g++){if(b=a.dataitems[g],b=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b.jqElement),d=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(e),b===d){c=g;break}}return c},g=function(a,e){var b;b=f(a,e);-1!==b&&(a.dataitems.splice(b,1),a.observer.trigger(a.observer.events.dataItemRemoved,[e,a.dataitems]))},k=function(a,e){e.each(function(){g(a,jQuery(this))
})},l=function(a,e,b,c){e=new jQuery.fn.jplist.domain.dom.models.DataItemModel(e,b,c);a.dataitems.splice(c,0,e);a.observer.trigger(a.observer.events.dataItemAdded,[e,a.dataitems])},m=function(a,e,b,c){for(var d;b<e.length;b++){d=e.eq(b),l(a,d,c,b),b+1<e.length&&0===b%50&&window.setTimeout(function(){m(a,e,b,c)},0)}},n=function(a,e,b,c){a={dataitems:[],dataview:[],options:a,observer:e,paths:c};0<b.length&&(m(a,b,0,c),h(a));a.observer.trigger(a.observer.events.collectionReadyEvent,[a]);return jQuery.extend(this,a)};n.prototype.applyStatuses=function(a){h(this);b(this,a);d(this,a);c(this,a);this.observer.trigger(this.observer.events.statusesAppliedToList,[this,a])};n.prototype.filter=function(a){d(this,a)};n.prototype.sort=function(a){b(this,a)};n.prototype.pagination=function(a){c(this,a)};n.prototype.dataviewToJqueryObject=function(){return a(this)};n.prototype.dataitemsToJqueryObject=function(){return e(this)};n.prototype.resetDataview=function(){h(this)};n.prototype.empty=function(){this.dataitems=[];this.dataview=[]};n.prototype.addDataItem=function(a,e,b){l(this,a,e,b)};n.prototype.addDataItems=function(a,e){m(this,a,0,e);h(this)};n.prototype.delDataitem=function(a){g(this,a)};n.prototype.delDataitems=function(a){k(this,a)};n.prototype.indexOf=function(a){return f(this,a)};n.prototype.dataviewToString=function(){var a,e="",b;for(b=0;b<this.dataview.length;b++){a=this.dataview[b],e+=a.content}return e};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,e,b,c){b=new n(a,e,b,c);this.observer=e;this.options=a;this.dataitems=b.dataitems;this.dataview=b.dataview;this.paths=b.paths;this.sort=b.sort;this.filter=b.filter;this.pagination=b.pagination;this.applyStatuses=b.applyStatuses;this.addDataItem=b.addDataItem;this.addDataItems=b.addDataItems;this.resetDataview=b.resetDataview;this.indexOf=b.indexOf;this.delDataitem=b.delDataitem;this.delDataitems=b.delDataitems;this.empty=b.empty;this.dataviewToString=b.dataviewToString;this.dataviewToJqueryObject=b.dataviewToJqueryObject;
this.dataitemsToJqueryObject=b.dataitemsToJqueryObject}})();(function(){var d=function(b,a){for(var e,c=!1,d=0;d<b.paths.length;d++){if(e=b.paths[d],e.isEqual(a,!0)){c=!0;break}}return c},c=function(b,a){return jQuery.extend(this,{options:b,observer:a,paths:[]})};c.prototype.add=function(b){d(this,b)||this.paths.push(b)};c.prototype.addRange=function(b){for(var a=0;a<b.length;a++){var e=b[a];d(this,e)||this.paths.push(e)}};c.prototype.isPathInList=function(b){return d(this,b)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(b,a){return new c(b,a)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter=function(d,c,b,a,e){var h=[],f,g;if(jQuery.isNumeric(d)&&jQuery.isNumeric(c)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){d=new google.maps.LatLng(d,c);for(var k=0;k<a.length;
k++){c=a[k],f=new jQuery.fn.jlocator.store(c.jqElement,{}),g=f.country?jQuery.trim(f.country.toLowerCase())==jQuery.trim(b.toLowerCase()):!1,f=google.maps.geometry.spherical.computeDistanceBetween(d,f.latlng),(f<=e||g)&&h.push(c)}return h}return a}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(d,c,b,a,e,h){for(var f,g,k=[],l=0;l<e.length;l++){if(f=e[l],g=f.findPathitem(a)){if(!jQuery.isNumeric(d)||!jQuery.isNumeric(c)||!jQuery.isNumeric(b)){k.push(f)}else{if((g=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(g.text,h))&&jQuery.isFunction(g.getFullYear)){g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.getFullYear()===d&&(g.getMonth()===c&&g.getDate()===b)&&k.push(f)}}}}return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(d,c,b,a,e,h,f,g,k){for(var l=[],m,n,q,p,r=0;r<c.length;r++){if(m=c[r],n=m.findPathitem(d)){if(q=!jQuery.isNumeric(a)||!jQuery.isNumeric(e)||!jQuery.isNumeric(h),p=!jQuery.isNumeric(f)||!jQuery.isNumeric(g)||!jQuery.isNumeric(k),q||p){l.push(m)}else{if((p=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(n.text,b))&&jQuery.isFunction(p.getFullYear)){n=new Date(a,e,h),q=new Date(f,g,k),p.setHours(0),p.setMinutes(0),p.setSeconds(0),p>=n&&p<=q&&l.push(m)}}}}return l}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(d,c){return c.slice(d.start,d.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(d,c){for(var b,a,e=[],h=0;h<c.length;h++){b=c[h],"default"===d.jqPath?e.push(b):(a=b.findPathitem(d))&&e.push(b)}return e}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(d,c){var b,a=[],e,h=[];if(0>=d.length){return c}for(e=0;e<d.length;e++){b=d[e],b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null),a.push(b)}for(var f=0;f<c.length;f++){e=c[f];for(var g=0;g<a.length;g++){if(b=a[g],"default"===b.jqPath){h.push(e);
break}else{(b=e.findPathitem(b))&&h.push(e)}}}return h}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(d,c,b,a,e,h){b=[];for(var f,g=jQuery.isNumeric(e),k=jQuery.isNumeric(h),l=0;l<c.length;l++){if(a=c[l],f=a.findPathitem(d)){f=Number(f.text.replace(/[^-0-9\.]+/g,"")),isNaN(f)||(g&&k?f>=e&&f<=h&&b.push(a):g&&!k?f>=e&&b.push(a):!g&&k&&f<=h&&b.push(a))}}return b}})();(function(){var d=function(a){var e=[],b;if(a){for(var c=0;c<a.length;c++){(b=jQuery.trim(a[c]))&&e.push(b)}}return e},c=function(a,e){var b=!1,c;c=e.split(" or ");c=d(c);if(0<c.length){for(var b=-1!==a.indexOf(c[0]),g=1;g<c.length;g++){b=b||-1!==a.indexOf(c[g])}}return b},b=function(a,e){var b,f,g=!1;b=e.split(" and ");b=d(b);if(0<b.length){f=b[0];for(var g=-1===f.indexOf(" or ")?-1!==a.indexOf(f):c(a,f),k=1;k<b.length;k++){f=b[k],g=-1===f.indexOf(" or ")?g&&-1!==a.indexOf(f):g&&c(a,f)}}return g};jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse=function(a,e){e=jQuery.trim(e);if(-1===e.indexOf(" or ")&&-1===e.indexOf(" and ")&&-1===e.indexOf("not ")){return -1!==a.indexOf(e)}var h,f,g=!1;h=e.split("not ");h=d(h);if(0<h.length){f=h[0];for(var g=-1===f.indexOf(" and ")?-1===f.indexOf(" or ")?-1===a.indexOf(f):c(a,f):b(a,f),k=1;k<h.length;k++){f=h[k],g=-1===f.indexOf(" and ")?(g=-1===f.indexOf(" or ")?g&&-1===a.indexOf(f):g&&c(a,f))&&c(a,f):g&&b(a,f)}}return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(d,c,b,a,e){var h,f,g,k=[],l,m;if(0>=d.length){return e}g=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null);for(var n=0;n<e.length;n++){if(b=e[n],f=b.findPathitem(g),"default"===g.jqPath){k.push(b)}else{if(f){if(f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f.text,a),"or"===c){for(m=0;m<d.length;m++){if(h=d[m],h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,h)){k.push(b);
break}}}else{l=[];for(m=0;m<d.length;m++){h=d[m],h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,h)&&l.push(h)}l.length===d.length&&k.push(b)}}}}return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(d,c,b,a){for(var e,h,f=[],g,k=0;k<b.length;k++){e=b[k],h=e.findPathitem(c),"default"===c.jqPath?f.push(e):h&&(h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,a),g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(h,g)&&f.push(e))}return f}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(d,c,b){var a,e,h=[],f=[],g,k;for(k=0;k<d.length;k++){g=d[k],g.selected&&(a=g.path,e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,null),g.pathObj=e,h.push(g))}if(0>=h.length){return b}for(a=0;a<b.length;a++){d=b[a];k=!1;for(var l=0;l<h.length;l++){if(g=h[l],e=g.pathObj){if("default"===e.jqPath){k=!0;break}else{if(e=d.findPathitem(e)){e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e.text,c),g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,c),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(e,g)&&(k=!0)}}}}k&&f.push(d)}return f}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(d,c,b,a,e){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(jQuery.trim(e)?(a=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(d.text,e),e=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(c.text,e)):(a=new Date(Date.parse(d.text)),e=new Date(Date.parse(c.text))),a==e?0:"asc"==b?a>e?1:-1:a<e?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(d,c,b,a){b.sort(function(e,b){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(e,b,d,c,a)
})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(d,c,b,a){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(a=parseFloat(d.text.replace(/[^-0-9\.]+/g,"")),c=parseFloat(c.text.replace(/[^-0-9\.]+/g,"")),b=a==c?0:"asc"==b?isNaN(a)?1:isNaN(c)?-1:a-c:isNaN(a)?1:isNaN(c)?-1:c-a):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(d,c,b){b.sort(function(a,e){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(a,e,d,c)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(d,c,b,a,e){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(e?(a=RegExp(e,"ig"),e=d.text.toString().replace(a,"").toLowerCase(),d=c.text.toString().replace(a,"").toLowerCase()):(e=d.text.toString().toLowerCase(),d=c.text.toString().toLowerCase()),e==d?0:"asc"==b?e>d?1:-1:e<d?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(d,c,b,a){b.sort(function(e,b){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(e,b,d,c,a)})}})();(function(){var d=function(c,b,a,e){var h=0,f,g;0<a.length&&(f=a[e],"default"!=f.data.path?(g=jQuery.fn.jplist.app.services.DTOMapperService.sort[f.data.type],jQuery.isFunction(g)&&(h=g(f,c,b))):(h=c.index,f=b.index,h=h===f?0:isNaN(h)?1:isNaN(f)?-1:h-f),0===h&&e+1<a.length&&(h=d(c,b,a,e+1)));return h};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(c,b){var a=!1;1===c.length&&(c[0]&&c[0].data&&"default"===c[0].data.path)&&(a=!0);a||b.sort(function(a,b){return d(a,b,c,0)});return b}})();(function(){var d=function(b,a){var e=null;if("{month}"==b){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a){e=0}if("february"===a||"feb"===a||"feb."===a){e=1}if("march"===a||"mar"===a||"mar."===a){e=2}if("april"==a||"apr"===a||"apr."===a){e=3}"may"===a&&(e=4);if("july"==a||"jun"===a||"jun."===a){e=5}if("april"===a||"jul"===a||"jul."===a){e=6}if("august"===a||"aug"===a||"aug."===a){e=7}if("september"===a||"sep"===a||"sep."===a){e=8
}if("october"===a||"oct"===a||"oct."===a){e=9}if("november"===a||"nov"===a||"nov."===a){e=10}if("december"===a||"dec"===a||"dec."===a){e=11}null===e&&(e=parseInt(a,10),isNaN(e)||e--)}else{e=parseInt(a,10)}return e},c=function(b,a){var e,c=null;e=b.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(e=RegExp(e,"g").exec(a))&&1<e.length&&(c=e[1]);return c};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(b){var a="",e=b[0].attributes,c=b.html();b=b[0].tagName.toString().toLowerCase();for(var a=a+("<"+b),d=0;d<e.length;d++){e[d].nodeValue&&(a+=" "+e[d].nodeName+"=",a+='"'+e[d].nodeValue+'"')}a=a+">"+c;return a+="</"+b+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(b,a){return !b?"":b.replace(RegExp(a,"ig"),"").toLowerCase()};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(b,a){var e,h,f,g,k,l;a=a.replace(/\./g,"\\.");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");e=a.replace("{year}","(.*)");(h=c(e,b))&&(h=d("{year}",h));e=a.replace("{day}","(.*)");(g=c(e,b))&&(g=d("{day}",g));e=a.replace("{month}","(.*)");(f=c(e,b))&&(f=d("{month}",f));e=a.replace("{hour}","(.*)");(k=c(e,b))&&(k=d("{hour}",k));e=a.replace("{min}","(.*)");(l=c(e,b))&&(l=d("{min}",l));e=a.replace("{sec}","(.*)");(e=c(e,b))&&(e=d("{sec}",e));if(!h||isNaN(h)){h=1900}if(!f||isNaN(f)){f=0}if(!g||isNaN(g)){g=1}if(!k||isNaN(k)){k=0}if(!l||isNaN(l)){l=0}if(!e||isNaN(e)){e=0}return new Date(h,f,g,k,l,e)}})();(function(){jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService={};jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.getUrlParams=function(d){var c=[],b,a=[],e,c=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(d.hashStart,"")));if(d.deepLinking&&""!==jQuery.trim(c)){for(var c=c.split(d.delimiter1),h=0;h<c.length;h++){b=c[h],e=b.split("="),2===e.length&&(b=e[0],e=e[1],b=b.split(d.delimiter0),2===b.length&&(b={controlName:b[0],propName:b[1],propValue:e},a.push(b)))
}}return a};jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls=function(d,c){var b="";if(d.deepLinking){b=c.getDeepLinksUrl();jQuery.fn.jplist.info(d,"Change Deep links URL according to statuses: ",b);var b=jQuery.trim(b.replace(d.hashStart,"")),a,b=""===b?d.hashStart:d.hashStart+b;window.location.hash!==b&&(a=window.location.href.indexOf(d.hashStart),b=-1==a?window.location.href+b:window.location.href.substring(0,a)+b,"replaceState" in window.history?window.history.replaceState("","",b):window.location.replace(b))}}})();(function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(d,c,b){this.content="";this.dataType=c;this.count=0;this.responseText=b;this.dataType||(this.dataType="html");switch(this.dataType){case"html":c=jQuery(d);0<c.length&&(this.content=c.html(),this.count=Number(c.attr("data-count"))||0);break;case"json":this.content=d.data;this.count=d.count;break;case"xml":c=jQuery(d).find("root"),this.count=Number(c.attr("count"))||0,this.content=0<this.count?d:""}}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(d,c,b,a,e,h,f,g){var k,l,m;if(e=jQuery.fn.jplist.animation[e]){k=e.before;m=e.effect;l=e.after;jQuery.isFunction(k)&&k(d,c,b,a);if(jQuery.isFunction(m)){g.on(g.events.animationStepEvent,function(e,g,f){m(d,c,b,a,g)})}g.on(g.events.animationCompleteEvent,function(e){jQuery.isFunction(l)&&l(d,c,b,a);g.off(g.events.animationStepEvent);g.off(g.events.animationCompleteEvent);jQuery.isFunction(f)&&f()});h.play(d.duration)}else{jQuery.isFunction(f)&&f()}}})();(function(){var d=function(a){a.handler&&window.clearTimeout(a.handler);a.progress=0;a.start=null;a.observer.trigger(a.observer.events.animationCompleteEvent,[])},c=function(a,b){jQuery.isNumeric(b)&&0<b?a.handler=window.setTimeout(function(){var h;null===a.start&&(a.observer.trigger(a.observer.events.animationStartEvent,[]),a.start=(new Date).getTime());h=(new Date).getTime()-a.start;a.progress=h/b;1<=a.progress&&(a.progress=1);
a.observer.trigger(a.observer.events.animationStepEvent,[100*a.progress,a]);1>a.progress?c(a,b):d(a)},a.delay):d(a)},b=function(a,b,c){a={$scene:a,options:b,observer:c,start:null,progress:0,delay:null,handler:null};a.delay=1000/a.options.fps;return jQuery.extend(this,a)};b.prototype.play=function(a){c(this,a)};b.prototype.stop=function(){d(this)};jQuery.fn.jplist.animation.Timeline=function(a,e,c){return new b(a,e,c)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(d,c,b,a){};jQuery.fn.jplist.animation.fade.effect=function(d,c,b,a,e){c.find(d.itemPath).css({opacity:(100-e)/100})};jQuery.fn.jplist.animation.fade.after=function(d,c,b,a){c.empty();a.css({opacity:1});c.append(a)}})();(function(){var d=function(a,b,c){var d=b.dataitemsToJqueryObject(),g=b.dataviewToJqueryObject(),k=!1,l,m=jQuery.extend(!0,{},a.options,{duration:0});0>=d.length||0>=g.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"),a.options.effect?(a.history&&(l=a.history.getLastStatus())&&!l.inAnimation&&(k=!0),k=k?m:a.options,jQuery.fn.jplist.animation.drawItems(k,a.$itemsBox,d,g,a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)},a.observer)):(d.detach(),a.$itemsBox.append(g),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)))},c=function(a){a.observer.on(a.observer.events.statusesAppliedToList,function(b,c,f){d(a,c,f)})},b=function(a,b,d,f){a={options:b,$root:a,observer:d,history:f,timeline:null,timelineZero:null,$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults)};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.DOMView=function(a,e,c,d){return new b(a,e,c,d)
}})();(function(){var d=function(b){b.observer.on(b.observer.events.knownStatusesChanged,function(a,e){b.storage.save(e);b.collection&&b.collection.applyStatuses(e)})},c=function(b,a,e,c,f){b={options:a,observer:e,$root:b,history:f,storage:new jQuery.fn.jplist.dal.Storage(b,a,e),collection:null,itemControls:null,listView:null};b.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(b.options,b.observer,b.history,b.$root);b.listView=new jQuery.fn.jplist.ui.list.views.DOMView(b.$root,b.options,b.observer,b.history);c=c.paths;a=b.$root.find(b.options.itemsBox).eq(0).find(b.options.itemPath);c=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(b.options,b.observer,a,c);b.collection=c;d(b);return jQuery.extend(this,b)};c.prototype.renderStatuses=function(b){this.storage.save(b);this.collection&&this.collection.applyStatuses(b)};jQuery.fn.jplist.ui.list.controllers.DOMController=function(b,a,e,d,f){return new c(b,a,e,d,f)}})();(function(){var d=function(b){b.observer.on(b.observer.events.knownStatusesChanged,function(a,e){var c="html";b.options.dataSource&&(b.options.dataSource.server&&b.options.dataSource.server.ajax)&&((c=b.options.dataSource.server.ajax.dataType)||(c="html"));b.storage.save(e);jQuery.fn.jplist.dal.services.URIService.get(e,b.options,function(a,e,d,l){a=new jQuery.fn.jplist.domain.server.models.DataItemModel(a,c,l.responseText);var m;d=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,e)).getStatusesByAction("paging",e);for(l=0;l<d.length;l++){m=d[l],m.data.currentPage||(m.data.currentPage=0),m=new jQuery.fn.jplist.domain.dom.services.PaginationService(m.data.currentPage,m.data.number,a.count),d[l].data.paging=m}b.observer.trigger(b.observer.events.statusesAppliedToList,[null,e]);b.model.set(a,e)},function(a){},function(a){})})},c=function(b,a,e,c,f){c=new jQuery.fn.jplist.dal.Storage(b,a,e);var g=jQuery({});g.$root=null;g.events={modelChanged:"modelChanged"};f={options:a,observer:e,history:f,storage:c,scopeObserver:g,$root:b,view:null,model:null};
f.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,f.scopeObserver);f.view=new jQuery.fn.jplist.ui.list.views.ServerView(b,a,e,f.scopeObserver,f.model,f.history);d(f);return jQuery.extend(this,f)};jQuery.fn.jplist.ui.list.controllers.ServerController=function(b,a,e,d,f){return new c(b,a,e,d,f)}})();(function(){var d=function(a,b,c){var d=!1,g,k=jQuery.extend(!0,{},a.options,{duration:0});!b.content||""===jQuery.trim(b.content)?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));a.options.effect?(a.history&&(g=a.history.getLastStatus())&&!g.inAnimation&&(d=!0),d=d?k:a.options,jQuery.fn.jplist.animation.drawItems(d,a.$itemsBox,null,jQuery(b.content),a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b.content,c)},a.observer)):(a.options.dataSource&&jQuery.isFunction(a.options.dataSource.render)?a.options.dataSource.render(b,c):a.$itemsBox.html(b.content),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b.content,c))},c=function(a){a.observer.on(a.observer.events.knownStatusesChanged,function(b,c){a.$noResults.addClass("jplist-hidden")});a.scopeObserver.on(a.scopeObserver.events.modelChanged,function(b,c,f){a.$preloader&&a.$preloader.addClass("jplist-hidden");a.$itemsBox.removeClass("jplist-hidden");d(a,c,f)})},b=function(a,b,d,f,g,k){a={options:b,$root:a,observer:d,scopeObserver:f,model:g,history:k,$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults),$preloader:null,timeline:null};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.ServerView=function(a,c,d,f,g,k){return new b(a,c,d,f,g,k)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(d,c,b){this.dataItem=d;this.statuses=c;this.scopeObserver=b};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(d,c){this.dataItem=d;
this.statuses=c;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[d,c])}})();(function(){var d=function(c,b,a,e){return jQuery.extend(this,{options:c,observer:b,history:a,$root:e})};d.prototype.create=function(c){var b=null,a,e,d=null,f=null;a=c.attr("data-control-type");e={};jQuery.fn.jplist.itemControlTypes[a]&&(e=jQuery.extend(!0,{},e,jQuery.fn.jplist.itemControlTypes[a]));this.options.itemControlTypes&&this.options.itemControlTypes[a]&&(e=jQuery.extend(!0,{},e,this.options.itemControlTypes[a]));e&&(e.className&&(d=jQuery.fn.jplist.ui.itemControls[e.className]),e.options&&(f=e.options));a={type:a,itemControlType:e,controlTypeClass:d,controlOptions:f};a=jQuery.extend(!0,a,{$control:c,history:this.history,observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(b=new a.controlTypeClass(a));return b};jQuery.fn.jplist.ui.list.ItemControlFactory=function(c,b,a,e){return new d(c,b,a,e)}})();(function(){var d=function(b){var a;b.options&&b.options.itemsBox&&(a=b.$root.find(b.options.itemsBox),0<a.length&&a.find("[data-control-type]").each(function(){var a=jQuery(this);(a=b.controlFactory.create(a))&&b.controls.push(a)}))},c=function(b,a,c,h){var f={options:b,observer:a,history:c,$root:h,controls:[],controlFactory:null};f.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(b,a,c,h);d(f);return jQuery.extend(this,f)};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=function(b,a,e,d){return new c(b,a,e,d)}})();(function(){var d=function(a){var b=jQuery(window).scrollTop(),c;c=Number(a.data("top"));isNaN(c)||(b>c?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},c=function(a,b){b.each(function(){var a=jQuery(this),b=a.offset().top;a.data("top",b);d(a)});jQuery(window).scroll(function(){b.each(function(){d(jQuery(this))})})},b=function(b){var c=[];if("cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()){if(jQuery.fn.jplist.info(b.options,"Storage enabled: ",b.options.storage),"cookies"===b.options.storage&&(c=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(b.options.storageName)),"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(c=jQuery.fn.jplist.dal.services.LocalStorageService.restore(b.options.storageName)),0<c.length){for(var e=[],d=0;
d<c.length;d++){c[d].inStorage&&e.push(c[d])}0<e.length&&(b.controls.setStatuses(e,!0),b.observer.trigger(b.observer.events.knownStatusesChanged,[e]))}else{a(b,!0)}}else{a(b,!0)}},a=function(a,b){var c;c=a.controls.getStatuses(b);a.observer.trigger(a.observer.events.knownStatusesChanged,[c]);jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls(a.options,a.controls)},e=function(a){var b;b=[];b=a.$root.find(a.options.panelPath).find("[data-control-type]");a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,b);a.paths=a.controls.getPaths();jQuery.fn.jplist.logEnabled(a.options)&&(b=jQuery.map(a.paths,function(a,b){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,"Panel paths: ",b.join(", ")))},h=function(c){c.observer.on(c.observer.events.init,function(a){c.options.deepLinking?(jQuery.fn.jplist.info(c.options,"Deep linking enabled",""),a=jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.getUrlParams(c.options),jQuery.fn.jplist.info(c.options,"Set statuses by deep link: ",a),0>=a.length?b(c):c.controls.setDeepLinks(a)):b(c)});c.observer.on(c.observer.events.statusesAppliedToList,function(a,b,e){jQuery.fn.jplist.info(c.options,"panel statusesAppliedToList -> setControlsStatuses: ",e);c.controls.setStatuses(e,!1);c.history.addList(e)});c.observer.on(c.observer.events.unknownStatusesChanged,function(b,e){jQuery.fn.jplist.info(c.options,"panel statusesChanged, isDefault: ",e);a(c,e)});c.observer.on(c.observer.events.statusChanged,function(a,b){jQuery.fn.jplist.info(c.options,"panel statusChanged: ",b);var e;b.isAnimateToTop&&(e=jQuery(c.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:e},c.options.animateToTopDuration));e=c.controls.merge(!1,b);c.observer.trigger(c.observer.events.knownStatusesChanged,[e]);jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls(c.options,c.controls)});c.observer.on(c.observer.events.statusesChangedByDeepLinks,function(a,b,e,d){c.controls&&c.controls.statusesChangedByDeepLinks(d)
});c.$root.find(c.options.iosBtnPath).on("click",function(){jQuery(this).next(c.options.panelPath).toggleClass("jplist-ios-show")})},f=function(a,b,d,f){a={options:b,$root:a,history:d,observer:f,$sticky:null,paths:null,controls:null};e(a);a.$sticky=a.$root.find('[data-sticky="true"]');0<a.$sticky.length&&c(a,a.$sticky);h(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,b,c,e){a=new f(a,b,c,e);this.paths=a.paths;this.history=a.history;this.controls=a.controls}})();(function(){var d=function(c,b,a,e){return jQuery.extend(this,{options:c,observer:b,history:a,$root:e})};d.prototype.create=function(c){var b=null,a,e,d,f,g,k,l,m;a=c.attr("data-control-type");g=f=d=!0;k=!1;m=l=null;(e=c.attr("data-control-deep-link"))&&"false"===e.toString()&&(d=!1);(e=c.attr("data-control-storage"))&&"false"===e.toString()&&(f=!1);(e=c.attr("data-control-animation"))&&"false"===e.toString()&&(g=!1);(e=c.attr("data-control-animate-to-top"))&&"true"===e.toString()&&(k=!0);e={};jQuery.fn.jplist.controlTypes[a]&&(e=jQuery.extend(!0,{},e,jQuery.fn.jplist.controlTypes[a]));this.options.controlTypes&&this.options.controlTypes[a]&&(e=jQuery.extend(!0,{},e,this.options.controlTypes[a]));e&&(e.className&&(l=jQuery.fn.jplist.ui.controls[e.className]),e.options&&(m=e.options));a={type:a,action:c.attr("data-control-action"),name:c.attr("data-control-name"),inDeepLinking:d,inStorage:f,inAnimation:g,isAnimateToTop:k,controlType:e,controlTypeClass:l,controlOptions:m,paths:[]};a=jQuery.extend(!0,a,{$control:c,history:this.history,observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(b=new a.controlTypeClass(a));return b};jQuery.fn.jplist.ui.panel.ControlFactory=function(c,b,a,e){return new d(c,b,a,e)}})();(function(){var d=jQuery.fn.jplist.domain,c=function(a,b){for(var c,d=0;d<a.length;d++){c=a[d],c.name===b.name&&c.action===b.action&&jQuery.extend(!0,c,b)}return a},b=function(a,b){for(var c=[],d,k,l,m=0;
m<a.controls.length;m++){if(d=a.controls[m],jQuery.isFunction(d.getStatus)&&(d=d.getStatus(b))){k=-1;l=void 0;for(var n=0;n<c.length;n++){if(l=c[n],l.name===d.name){k=n;break}}-1!=k?(l=c[k],l.action==d.action&&l.type!==d.type&&jQuery.extend(!0,c[k],d)):c.push(d)}}return c},a=function(a,b,c,d,k){k={options:a,observer:b,history:c,$root:d,controlFactory:null,$controls:k,controls:[]};k.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(a,b,c,d);for(a=0;a<k.$controls.length;a++){c=k.$controls.eq(a),b=k,(c=b.controlFactory.create(c))&&b.controls.push(c)}return jQuery.extend(this,k)};a.prototype.merge=function(a,d){var f;f=b(this,a);return f=c(f,d)};a.prototype.statusesChangedByDeepLinks=function(a){for(var b,c=0;c<this.controls.length;c++){b=this.controls[c],jQuery.isFunction(b.setByDeepLink)&&b.setByDeepLink(a)}};a.prototype.setDeepLinks=function(a){var d,f,g,k=[],l;for(l=0;l<a.length;l++){d=a[l];f=d.controlName;var m=[];g=void 0;for(var n=0;n<this.controls.length;n++){g=this.controls[n],g.name===f&&m.push(g)}f=m;for(m=0;m<f.length;m++){g=f[m],jQuery.isFunction(g.getStatusByDeepLink)&&(g=g.getStatusByDeepLink(d.propName,d.propValue))&&k.push(g)}}d=b(this,!1);for(l=0;l<k.length;l++){c(d,k[l])}this.observer.trigger(this.observer.events.knownStatusesChanged,[d]);this.observer.trigger(this.observer.events.statusesChangedByDeepLinks,[d,k,a])};a.prototype.setStatuses=function(a,b){for(var c,d,k=0;k<a.length;k++){c=a[k];d=c.name;for(var l=c.action,m=[],n=void 0,q=0;q<this.controls.length;q++){n=this.controls[q],n.name===d&&n.action===l&&m.push(n)}d=m;for(l=0;l<d.length;l++){jQuery.isFunction(d[l].setStatus)&&d[l].setStatus(c,b)}}};a.prototype.getDeepLinksUrl=function(){var a,b="",b=[],c="";a=this.controls;for(var d=[],k,l,m=0;m<a.length;m++){k=a[m];l=!0;for(var n=0;n<d.length;n++){if(d[n].name===k.name&&d[n].action===k.action){l=!1;break}}l&&d.push(k)}for(k=0;k<d.length;k++){a=d[k],jQuery.isFunction(a.getDeepLink)&&(c=jQuery.trim(a.getDeepLink())),""!==c&&-1===jQuery.inArray(c,b)&&b.push(c)
}return b=b.join(this.options.delimiter1)};a.prototype.getStatuses=function(a){return b(this,a)};a.prototype.getPaths=function(){var a,b=[],c;c=new d.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var g=0;g<this.controls.length;g++){a=this.controls[g],jQuery.isFunction(a.getPaths)&&(a.getPaths(b),c.addRange(b))}return c.paths};a.prototype.add=function(a){(a=this.controlFactory.create(a))&&this.controls.push(a)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(b,c,d,g,k){return new a(b,c,d,g,k)}})();(function(){var d=function(a){var b=[];a=jQuery();jQuery(document).find("[data-control-type]").each(function(){var a=jQuery(this),c=a.attr("data-control-type");c&&(jQuery.fn.jplist.controlTypes[c]&&jQuery.fn.jplist.controlTypes[c].dropdown)&&b.push(a)});for(var c=0;c<b.length;c++){a=a.add(b[c])}return a},c=function(a){var b=d(a);0<b.length&&(jQuery(document).click(function(){b.find("ul").hide()}),jQuery(document).off(a.DROPDOWN_CLOSE_EVENT).on(a.DROPDOWN_CLOSE_EVENT,function(a,c){b.each(function(){jQuery(this).is(c)||jQuery(this).find("ul").hide()})}));a.$control.find(".jplist-dd-panel").off().on("click",function(b){var c;b.stopPropagation();b=jQuery(this).parents("[data-control-type]");c=b.find("ul");jQuery(document).trigger(a.DROPDOWN_CLOSE_EVENT,[b]);c.toggle(0)})},b=function(a,b,d,f){a={options:a,observer:b,history:d,$control:f,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"};b=a.$control.find("li:eq(0)");b.addClass("active");b=b.find("span");0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+b.text()+"</div>");c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.DropdownControl=function(a,c,d,f){return new b(a,c,d,f)}})();(function(){var d=function(c,b,a){c={options:b,observer:a,$root:c,isStorageEnabled:!1};c.isStorageEnabled="cookies"===c.options.storage||"localstorage"===c.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported();return jQuery.extend(this,c)
};d.prototype.save=function(c){var b=[],a;if(c&&this.isStorageEnabled){for(var d=0;d<c.length;d++){a=c[d],a.inStorage&&b.push(a)}"cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(b,this.options.storageName,this.options.cookiesExpiration);"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(b,this.options.storageName)}};jQuery.fn.jplist.dal.Storage=function(c,b,a){return new d(c,b,a)}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(d,c,b){c=escape(c);var a=new Date;b=Number(b);-1==b||isNaN(b)?document.cookie=d+"="+c+";path=/;":(a.setMinutes(a.getMinutes()+b),document.cookie=d+"="+c+";path=/; expires="+a.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(d){var c,b,a,e=null;a=document.cookie.split(";");for(var h=0;h<a.length;h++){if(c=a[h].substr(0,a[h].indexOf("=")),b=a[h].substr(a[h].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==d){e=unescape(b);break}}return e};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(d,c,b){d=JSON.stringify(d);jQuery.fn.jplist.dal.services.CookiesService.setCookie(c,d,b)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(d){var c=[];(d=jQuery.fn.jplist.dal.services.CookiesService.getCookie(d))&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage" in window&&null!==window.localStorage}catch(d){return !1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(d,c){var b;b=JSON.stringify(d);window.localStorage[c]=b};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(d){var c=[];(d=window.localStorage[d])&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.URIService={};
jQuery.fn.jplist.dal.services.URIService.get=function(d,c,b,a,e){var h=c.dataSource.server;h.ajax.data||(h.ajax.data={});h.ajax.data.statuses=encodeURIComponent(JSON.stringify(d,function(a,b){return b&&b.nodeType?null:b}));jQuery.ajax(h.ajax).done(function(a,c,e){jQuery.isFunction(b)&&b(a,d,c,e);jQuery.isFunction(h.serverOkCallback)&&h.serverOkCallback(a,d,c,e)}).fail(function(){jQuery.isFunction(a)&&a(d);jQuery.isFunction(h.serverErrorCallback)&&h.serverErrorCallback(d)}).always(function(){jQuery.isFunction(e)&&e(d)})}})();
(function(){var b=function(a){a.observer.on(a.observer.events.statusesAppliedToList,function(d){a.$control.addClass("jplist-hide-preloader")});a.observer.on(a.observer.events.unknownStatusesChanged,function(d,b,c){a.$control.removeClass("jplist-hide-preloader")});a.observer.on(a.observer.events.knownStatusesChanged,function(b,c,e){a.$control.removeClass("jplist-hide-preloader")})},c=function(a){b(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.controls.Preloader=function(a){return new c(a)};jQuery.fn.jplist.controlTypes.preloader={className:"Preloader",options:{}}})();
(function(){jQuery.fn.jplist.ui.controls.ViewsDTO=function(d){this.view=d}})();(function(){var d=function(a,b){var c;c=null;c=a.params.defaultView;c=b?a.params.defaultView:a.params.currentView;c=new jQuery.fn.jplist.ui.controls.ViewsDTO(c);return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){a.params.$buttons.on("click",function(){var b=jQuery(this).attr("data-type");a.$root.removeClass(a.params.types.join(" ")).addClass(b);a.params.currentView=b;a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},e=function(a){a.params={$buttons:a.$control.find("[data-type]"),defaultView:a.$control.attr("data-default")||"list-view",currentView:a.$control.attr("data-default")||"list-view",types:[]};0<a.params.$buttons.length&&(a.params.$buttons.each(function(){var b=jQuery(this).attr("data-type");b&&a.params.types.push(b)}),f(a));return jQuery.extend(this,a)};e.prototype.getStatus=function(a){return d(this,a)};e.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=d(this,!1),b.data&&(a=this.name+this.options.delimiter0+"view="+b.data.view));return a};e.prototype.getStatusByDeepLink=function(a,b){var c=null;this.inDeepLinking&&(c=d(this,!0),c.data.view=b);return c};e.prototype.setStatus=function(a,b){a.data&&(this.$root.removeClass(this.params.types.join(" ")),!this.inStorage&&b?(this.$root.addClass(this.params.defaultView),a.data.view=this.params.defaultView,this.params.currentView=this.params.defaultView,this.observer.trigger(this.observer.events.statusChanged,[a])):(this.$root.addClass(a.data.view),this.params.currentView=a.data.view))};jQuery.fn.jplist.ui.controls.Views=function(a){return new e(a)};jQuery.fn.jplist.controlTypes.views={className:"Views",options:{}}})();
(function(){var d=function(a,c){var b,h=[],d,e,f;b=a.$control.data("storage-status");c&&b||a.params.$buttons.each(function(a,k){d=jQuery(k);(f=c?"true"===d.attr("data-selected"):d.data("selected")||!1)&&(e=d.attr("data-path"))&&h.push(e)});return b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,{pathGroup:h,filterType:"pathGroup"},a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a,c){var b,d;a.params.$buttons.each(function(a,k){if(b=jQuery(k).attr("data-path")){d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),c.push(d)}})},e=function(a,c,b){var d;a.params.$buttons.each(function(a,c){d=jQuery(c);d.removeClass("jplist-selected");d.data("selected",!1)});if(c.data&&c.data.pathGroup&&jQuery.isArray(c.data.pathGroup)&&0<c.data.pathGroup.length){for(var e=0;e<c.data.pathGroup.length;e++){b=c.data.pathGroup[e],d=a.params.$buttons.filter('[data-path="'+b+'"]'),0<d.length&&(d.addClass("jplist-selected"),d.data("selected",!0))}}},a=function(a){a.params.$buttons.on("click",function(){var c,b;c=jQuery(this);"multiple"===a.params.mode?(b=c.data("selected")||!1,c.data("selected",!b)):(a.params.$buttons.data("selected",!1),c.data("selected",!0));a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},b=function(a){var c;"multiple"===a.params.mode?a.params.$buttons.each(function(){var c=jQuery(this),b;b="true"===c.attr("data-selected");a.options.deepLinking&&(b=!1);c.data("selected",b)}):(a.params.$buttons.data("selected",!1),c=a.params.$buttons.filter('[data-selected="true"]'),c=0<c.length?c.eq(0):a.params.$buttons.eq(0),c.data("selected",!0),c.attr("data-selected",!0),c.trigger("click"))},c=function(c){c.params={$buttons:c.$control.find("[data-button]"),mode:c.$control.attr("data-mode")||"multiple"};a(c);b(c);return jQuery.extend(this,c)};c.prototype.getStatus=function(a){return d(this,a)};c.prototype.getDeepLink=function(){var a="",c="",b;if(this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.pathGroup&&0<b.data.pathGroup.length)){for(var e=0;
e<b.data.pathGroup.length;e++){a=b.data.pathGroup[e],0<e&&(c+=this.options.delimiter2),c+=a}a=this.name+this.options.delimiter0+"selected="+c}return a};c.prototype.getStatusByDeepLink=function(a,c){var b=null;this.inDeepLinking&&(b=d(this,!1),b.data&&"selected"===a&&(b.data.pathGroup=c.split(this.options.delimiter2)));return b};c.prototype.getPaths=function(a){f(this,a)};c.prototype.setStatus=function(a,c){e(this,a,c)};jQuery.fn.jplist.ui.controls.ButtonFilterGroup=function(a){return new c(a)};jQuery.fn.jplist.controlTypes["button-filter-group"]={className:"ButtonFilterGroup",options:{}}})();(function(){var d=function(a,b){var c,k="";(c=b?"true"===a.$control.attr("data-selected"):a.params.selected)&&(k="path");c={path:a.$control.attr("data-path"),filterType:k,selected:c};return new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){a.$control.on("click",function(){a.params.selected=!a.params.selected;a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},e=function(a){a.params={selected:"true"===a.$control.attr("data-selected")};a.options.deepLinking&&(a.params.selected=!1);f(a);return jQuery.extend(this,a)};e.prototype.getStatus=function(a){return d(this,a)};e.prototype.getDeepLink=function(){var a="",b=null;this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};e.prototype.getStatusByDeepLink=function(a,b){var c=null,k;this.inDeepLinking&&(c=d(this,!1),c.data&&(k="selected"===a&&"true"===b))&&(c.data.selected=k,c.data.filterType="path");return c};e.prototype.getPaths=function(a){var b;if(b=this.$control.attr("data-path")){b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),a.push(b)}};e.prototype.setStatus=function(a,b){(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonFilter=function(a){return new e(a)
};jQuery.fn.jplist.controlTypes["button-filter"]={className:"ButtonFilter",options:{}}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO=function(d,f,e,a){return{path:d,ignore:e,value:f,selected:a,filterType:"TextFilter"}}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO=function(d,f){return{textAndPathsGroup:d,ignore:f,filterType:"textFilterPathGroup"}}})();(function(){var d=function(a,b){var g,d=[];g=null;g="";a.controlOptions&&a.controlOptions.ignore&&(g=a.controlOptions.ignore);a.params.$buttons.each(function(a,c){var g=jQuery(c),e;e=b?"true"===g.attr("data-selected"):g.data("selected")||!1;d.push({selected:e,text:g.data("dataText"),path:g.data("dataPath")})});g=new jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO(d,g);return g=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,g,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a,b){var g,d,e;a.params.$buttons.each(function(a,c){g=jQuery(this);if(d=g.attr("data-path")){e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,"text"),b.push(e)}})},e=function(a,b,g){var d;a.params.$buttons.each(function(a,c){d=jQuery(c);d.removeClass("jplist-selected");d.data("selected",!1)});if(b.data&&b.data.textAndPathsGroup&&jQuery.isArray(b.data.textAndPathsGroup)&&0<b.data.textAndPathsGroup.length){for(var e=0;e<b.data.textAndPathsGroup.length;e++){g=b.data.textAndPathsGroup[e],d=a.params.$buttons.filter('[data-path="'+g.path+'"][data-text="'+g.text+'"]'),0<d.length&&g.selected&&(d.addClass("jplist-selected"),d.data("selected",!0))}}},a=function(a){var b;a.params.$buttons.on("click",function(){var g=jQuery(this);b=g.data("selected")||!1;g.data("selected",!b);a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},b=function(c){c.params={$buttons:c.$control.find("[data-button]")};c.params.$buttons.each(function(){var a=jQuery(this),b;b="true"===a.attr("data-selected");c.options.deepLinking&&(b=!1);a.data("selected",b);
a.data("dataPath",a.attr("data-path"));a.data("dataText",a.attr("data-text"))});a(c);return jQuery.extend(this,c)};b.prototype.getStatus=function(a){return d(this,a)};b.prototype.getDeepLink=function(){var a="",b,g,e=[];if(this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.textAndPathsGroup&&0<b.data.textAndPathsGroup.length)){for(var h=0;h<b.data.textAndPathsGroup.length;h++){g=b.data.textAndPathsGroup[h],g.selected&&e.push(g.text+this.options.delimiter3+g.path)}0<e.length&&(a=this.name+this.options.delimiter0+"selected="+e.join(this.options.delimiter2))}return a};b.prototype.getStatusByDeepLink=function(a,b){var g=null,e,h;if(this.inDeepLinking&&(g=d(this,!1),g.data&&"selected"===a)){g.data.textAndPathsGroup=[];e=b.split(this.options.delimiter2);for(var f=0;f<e.length;f++){h=e[f].split(this.options.delimiter3),2===h.length&&g.data.textAndPathsGroup.push({selected:!0,text:h[0],path:h[1]})}}return g};b.prototype.getPaths=function(a){f(this,a)};b.prototype.setStatus=function(a,b){e(this,a,b)};jQuery.fn.jplist.ui.controls.ButtonTextFilterGroup=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["button-text-filter-group"]={className:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}})();(function(){var d=function(a,b){var c;c=null;var d="",g="";a.controlOptions&&a.controlOptions.ignore&&(d=a.controlOptions.ignore);g=(c=b?"true"===a.$control.attr("data-selected"):a.params.selected)?a.params.dataText:"";c=new jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO(a.params.dataPath,g,d,c);return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){a.$control.on("click",function(){a.params.selected=!a.params.selected;a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]);a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},e=function(a){a.params={selected:"true"===a.$control.attr("data-selected"),dataPath:a.$control.attr("data-path"),dataText:a.$control.attr("data-text")};
a.options.deepLinking&&(a.params.selected=!1);f(a);return jQuery.extend(this,a)};e.prototype.getStatus=function(a){return d(this,a)};e.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};e.prototype.getStatusByDeepLink=function(a,b){var c=null,e;this.inDeepLinking&&(c=d(this,!1),c.data&&(e="selected"===a&&"true"===b))&&(c.data.selected=e,c.data.value=this.params.dataText);return c};e.prototype.getPaths=function(a){var b;this.params.dataPath&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),a.push(b))};e.prototype.setStatus=function(a,b){(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonTextFilter=function(a){return new e(a)};jQuery.fn.jplist.controlTypes["button-text-filter"]={className:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO=function(d){return{pathGroup:d,filterType:"pathGroup"}}})();(function(){var d=function(a,b){var d,e=[];d=null;var f;a.params.$checkboxes.each(function(a,c){var d=jQuery(c);f=b?d.data("selected-on-start")||!1:d.get(0).checked;d=d.attr("data-path");f&&d&&e.push(d)});d=new jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO(e);return d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a,b){a.params.$checkboxes.each(function(a,c){var d;if(d=jQuery(this).attr("data-path")){d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,"text"),b.push(d)}})},e=function(a,b,d){var e;a.params.$checkboxes.each(function(a,b){e=jQuery(b);e.removeClass("jplist-selected");e.get(0).checked=!1});if(b.data&&b.data.pathGroup&&jQuery.isArray(b.data.pathGroup)&&0<b.data.pathGroup.length){for(var f=0;f<b.data.pathGroup.length;
f++){d=b.data.pathGroup[f],e=a.params.$checkboxes.filter('[data-path="'+d+'"]'),0<e.length&&(e.addClass("jplist-selected"),e.get(0).checked=!0)}}},a=function(a){a.params.$checkboxes.on("change",function(){a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},b=function(b){b.params={$checkboxes:b.$control.find("[data-path]")};b.params.$checkboxes.each(function(){var a=jQuery(this),d;d=a.get(0).checked;b.options.deepLinking&&(d=!1);a.data("selected-on-start",d)});a(b);return jQuery.extend(this,b)};b.prototype.getStatus=function(a){return d(this,a)};b.prototype.getDeepLink=function(){var a="",b,e="";if(this.inDeepLinking&&(b=d(this,!1),b.data&&jQuery.isArray(b.data.pathGroup)&&0<b.data.pathGroup.length)){for(a=0;a<b.data.pathGroup.length;a++){""!==e&&(e+=this.options.delimiter2),e+=b.data.pathGroup[a]}a=this.name+this.options.delimiter0+"pathGroup="+e}return a};b.prototype.getStatusByDeepLink=function(a,b){var e=null,f;this.inDeepLinking&&(e=d(this,!0),e.data&&"pathGroup"===a&&(f=b.split(this.options.delimiter2),0<f.length&&(e.data.pathGroup=f)));return e};b.prototype.getPaths=function(a){f(this,a)};b.prototype.setStatus=function(a,b){e(this,a,b)};jQuery.fn.jplist.ui.controls.CheckboxGroupFilter=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["checkbox-group-filter"]={className:"CheckboxGroupFilter",options:{}}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO=function(d,f,e,a){return{textGroup:d,logic:f,path:e,ignoreRegex:a,filterType:"textGroup"}}})();(function(){var d=function(a,c){var d,e=[];d=null;var f;a.params.$checkboxes.each(function(a,b){var d=jQuery(b);f=c?d.data("selected-on-start")||!1:d.get(0).checked;(d=d.val())&&f&&e.push(d)});d=new jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO(e,a.params.dataLogic,a.params.dataPath,a.params.ignore);return d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a,c,d){var e;
a.params.$checkboxes.each(function(a,b){e=jQuery(b);e.removeClass("jplist-selected");e.get(0).checked=!1});if(c.data&&c.data.textGroup&&jQuery.isArray(c.data.textGroup)&&0<c.data.textGroup.length){for(var f=0;f<c.data.textGroup.length;f++){d=c.data.textGroup[f],e=a.params.$checkboxes.filter('[value="'+d+'"]'),0<e.length&&(e.addClass("jplist-selected"),e.get(0).checked=!0)}}},e=function(a){a.params.$checkboxes.on("change",function(){a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},a=function(a){a.params={$checkboxes:a.$control.find('input[type="checkbox"]'),dataPath:a.$control.attr("data-path"),dataLogic:a.$control.attr("data-logic")||"or",ignore:""};a.controlOptions&&a.controlOptions.ignore&&(a.params.ignore=a.controlOptions.ignore);a.params.$checkboxes.each(function(){var c=jQuery(this),d;d=c.get(0).checked;a.options.deepLinking&&(d=!1);c.data("selected-on-start",d)});e(a);return jQuery.extend(this,a)};a.prototype.getStatus=function(a){return d(this,a)};a.prototype.getDeepLink=function(){var a="",c,e="";if(this.inDeepLinking&&(c=d(this,!1),c.data&&jQuery.isArray(c.data.textGroup)&&0<c.data.textGroup.length)){for(a=0;a<c.data.textGroup.length;a++){""!==e&&(e+=this.options.delimiter2),e+=c.data.textGroup[a]}a=this.name+this.options.delimiter0+"textGroup="+e}return a};a.prototype.getStatusByDeepLink=function(a,c){var e=null,f;this.inDeepLinking&&(e=d(this,!0),e.data&&"textGroup"===a&&(f=c.split(this.options.delimiter2),0<f.length&&(e.data.textGroup=f)));return e};a.prototype.getPaths=function(a){var c;this.params.dataPath&&(c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),a.push(c))};a.prototype.setStatus=function(a,c){f(this,a,c)};jQuery.fn.jplist.ui.controls.CheckboxTextFilter=function(b){return new a(b)};jQuery.fn.jplist.controlTypes["checkbox-text-filter"]={className:"CheckboxTextFilter",options:{ignore:""}}})();(function(){var d=function(a,b){var c=null,d;d=b?a.params.initialSelected||!1:a.$control.get(0).checked;
c={path:a.$control.attr("data-path"),type:"TextFilter",filterType:"path",selected:d};d||(c.filterType="");return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){a.$control.on("change",function(){a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},e=function(a){a.params={initialSelected:a.$control.get(0).checked||!1};f(a);return jQuery.extend(this,a)};e.prototype.getStatus=function(a){return d(this,a)};e.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};e.prototype.getStatusByDeepLink=function(a,b){var c=null;this.inDeepLinking&&(c=d(this,!0),c.data&&"selected"===a&&(c.data.selected=!0));return c};e.prototype.getPaths=function(a){var b;if(b=this.$control.attr("data-path")){b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),a.push(b)}};e.prototype.setStatus=function(a,b){this.$control.get(0).checked=a.data.selected||!1};e.prototype.setByDeepLink=function(a){this.observer.trigger(this.observer.events.statusChanged,[d(this,!1)])};jQuery.fn.jplist.ui.controls.RadioButtonsFilter=function(a){return new e(a)};jQuery.fn.jplist.controlTypes["radio-buttons-filters"]={className:"RadioButtonsFilter",options:{}}})();(function(){var d=function(a,b){var c,d=null;c=b?"true"===a.$control.attr("data-selected"):a.params.selected;a.params.path&&(c=c?{path:a.params.path,type:"number",filterType:"range",min:0,max:0,prev:a.params.prev,next:a.params.next,selected:c}:{path:a.params.path,filterType:"",selected:c},d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return d},f=function(a){a.$control.on("click",function(){a.params.selected=!a.params.selected;a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])
})},e=function(a){a.params={path:a.$control.attr("data-path"),prev:Number(a.$control.attr("data-min")),next:Number(a.$control.attr("data-max")),selected:"true"===a.$control.attr("data-selected")};f(a);return jQuery.extend(this,a)};e.prototype.getStatus=function(a){return d(this,a)};e.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=d(this,!1),b.data&&b.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};e.prototype.getStatusByDeepLink=function(a,b){var c=null;this.inDeepLinking&&(c=d(this,!1),c.data&&"selected"===a&&"true"===b&&(c.data={path:this.params.path,type:"number",filterType:"range",min:0,max:0,prev:this.params.prev,next:this.params.next,selected:!0}));return c};e.prototype.getPaths=function(a){var b;this.params.path&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,"number"),a.push(b))};e.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.RangeSliderToggleFilter=function(a){return new e(a)};jQuery.fn.jplist.controlTypes["range-filter"]={className:"RangeSliderToggleFilter",options:{}}})();
(function(){var d=function(a){!a.history.statusesQueue||0>=a.history.statusesQueue.length?a.$control.addClass("jplist-disabled"):a.$control.removeClass("jplist-disabled")},e=function(a){a.observer.on(a.observer.events.unknownStatusesChanged,function(){d(a)});a.observer.on(a.observer.events.knownStatusesChanged,function(){d(a)});a.$control.on("click",function(){var b,c,f;a.history.popStatus();a.history.popList();b=a.history.getLastStatus();if(f=a.history.getLastList()||[],b){for(var g=0;g<f.length;g++){if(c=f[g],c.name===b.name&&c.action===b.action){if(c.data){for(var e in c.data){jQuery.isArray(c.data[e])&&(c.data[e]=[])}}jQuery.extend(!0,c,b);f[g]=c}}a.observer.trigger(a.observer.events.knownStatusesChanged,[f])}else{a.observer.trigger(a.observer.events.unknownStatusesChanged,[!0])}d(a)})},b=function(a){d(a);e(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.controls.BackButton=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["back-button"]={className:"BackButton",options:{}}})();(function(){var d=function(b){b.$control.on("click",function(){b.observer.trigger(b.observer.events.unknownStatusesChanged,[!0])})},e=function(b){d(b);return jQuery.extend(this,b)};jQuery.fn.jplist.ui.controls.Reset=function(b){return new e(b)};jQuery.fn.jplist.controlTypes.reset={className:"Reset",options:{}}})();
(function(){var e=function(a,b){var d=null;b?(d=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=d.length&&(d=a.$control.find("li:eq(0)"))):d=a.$control.find(".active");d=d.find("span");d=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(d.attr("data-path"),d.attr("data-type"));return d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},h=function(a,b){var d,c,e;a.$control.find("span").each(function(){d=jQuery(this).attr("data-path");c=jQuery(this).attr("data-type");d&&""!==jQuery.trim(d)&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,c),b.push(e))})},g=function(a,b){var d;d=a.$control.find("li");d.removeClass("active");if(!b||0>=b.length){b=d.eq(0)}0<b.length&&(b.addClass("active"),a.$control.find(".jplist-dd-panel").text(b.eq(0).text()))},f=function(a){a.$control.find("li").off().on("click",function(){var b;b=jQuery(this);g(a,b);b=e(a,!1);a.history.addStatus(b);a.observer.trigger(a.observer.events.statusChanged,[b])})},c=function(a){new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control);f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return e(this,a)};c.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=e(this,!1),b.data&&b.data.path&&(a=this.name+this.options.delimiter0+"path="+b.data.path));return a};c.prototype.getStatusByDeepLink=function(a,b){var d;a:if(d=null,this.inDeepLinking){if("number"!==a&&a!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==a){d=null;break a}d=e(this,!0);d.data&&"path"===a&&d.data.path&&(d.data.path=b)}return d};c.prototype.getPaths=function(a){h(this,a)};c.prototype.setStatus=function(a,b){var d;a&&a.data&&(d=this.$control.find('li:has([data-path="'+a.data.path+'"])'))&&0<d.length&&g(this,d)};jQuery.fn.jplist.ui.controls.FilterDropdown=function(a){return new c(a)};c.prototype.setByDeepLink=function(a){var b;if(a){for(var d=0;d<a.length;
d++){b=a[d],b.controlName===this.name&&"path"===b.propName&&b.propValue&&this.$control.find('[data-path="'+b.propValue+'"]').trigger("click")}}};jQuery.fn.jplist.controlTypes["filter-drop-down"]={className:"FilterDropdown",options:{},dropdown:!0}})();(function(){var e=function(c,a){var b;b=null;a?(b=c.$control.find('option[data-default="true"]').eq(0),0>=b.length&&(b=c.$control.find("option").eq(0))):b=c.$control.find("option:selected");b=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(b.attr("data-path"),b.attr("data-type"));return b=new jQuery.fn.jplist.app.dto.StatusDTO(c.name,c.action,c.type,b,c.inStorage,c.inAnimation,c.isAnimateToTop,c.inDeepLinking)},h=function(c,a){var b,d,e;c.$control.find("option").each(function(){b=jQuery(this).attr("data-path");d=jQuery(this).attr("data-type");b&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,d),a.push(e))})},g=function(c){c.$control.change(function(){var a,b,d;a=e(c,!1);b=jQuery(this).find("option:selected");d=b.attr("data-path");b=b.attr("data-number");d?(a.data.path=d,a.data.type=jQuery(this).attr("data-type"),a.data.order=jQuery(this).attr("data-order")):b&&(a.data.number=b);c.history.addStatus(a);c.observer.trigger(c.observer.events.statusChanged,[a])})},f=function(c){g(c);return jQuery.extend(this,c)};f.prototype.getStatus=function(c){return e(this,c)};f.prototype.getDeepLink=function(){var c="",a;this.inDeepLinking&&(a=e(this,!1),a.data&&a.data.path&&(c=this.name+this.options.delimiter0+"path="+a.data.path));return c};f.prototype.getStatusByDeepLink=function(c,a){var b=null;this.inDeepLinking&&(b=e(this,!0),b.data&&"path"===c&&b.data.path&&(b.data.path=a));return b};f.prototype.getPaths=function(c){h(this,c)};f.prototype.setStatus=function(c,a){var b;(b=this.$control.find('option[data-path="'+c.data.path+'"]'))&&0<b.length&&(b.get(0).selected=!0)};jQuery.fn.jplist.ui.controls.FilterSelect=function(c){return new f(c)};jQuery.fn.jplist.controlTypes["filter-select"]={className:"FilterSelect",options:{}}
})();(function(){var e=function(a,b){var d;d=b.find("option[checked]");0>=d.length&&(d=b.find("option").eq(0));return d},h=function(a){a.params.$dropdowns.each(function(){var b=jQuery(this),b=e(a,b);0<=b.length&&b.prop("selected",!0)})},g=function(a,b){var d=[],c;c=null;a.params.$dropdowns.each(function(){var c=jQuery(this),f="";b?(c=e(a,c),0<c.length&&(f=c.attr("value"))):f=c.val();f&&d.push(f)});c=new jQuery.fn.jplist.ui.controls.TextFilterDropdownGroupDTO(d,a.params.mode,a.params.dataPath,a.params.ignoreRegex);return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){a.params.$dropdowns.on("change",function(){a.history.addStatus(g(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})},c=function(a){a.params={$dropdowns:a.$control.find("select"),mode:a.$control.attr("data-mode")||"and",dataPath:a.$control.attr("data-path")||"",ignoreRegex:a.$control.attr("data-ignore-regex")||""};h(a);f(a);return jQuery.extend(this,a)};c.prototype.getPaths=function(a){var b;this.params.dataPath&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),a.push(b))};c.prototype.getStatus=function(a){return g(this,a)};c.prototype.setStatus=function(a,b){var d;h(this);if(a.data&&a.data.textGroup&&jQuery.isArray(a.data.textGroup)&&0<a.data.textGroup.length){for(var c=0;c<a.data.textGroup.length;c++){d=a.data.textGroup[c],d=this.params.$dropdowns.find('option[value="'+d+'"]'),0<d.length&&d.prop("selected",!0)}}};c.prototype.getDeepLink=function(){var a="",b,d="";if(this.inDeepLinking&&(b=g(this,!1),b.data&&jQuery.isArray(b.data.textGroup)&&0<b.data.textGroup.length)){for(a=0;a<b.data.textGroup.length;a++){""!==d&&(d+=this.options.delimiter2),d+=b.data.textGroup[a]}a=this.name+this.options.delimiter0+"textGroup="+d}return a};c.prototype.getStatusByDeepLink=function(a,b){var d=null,c;this.inDeepLinking&&(d=g(this,!0),d.data&&"textGroup"===a&&(c=b.split(this.options.delimiter2),0<c.length&&(d.data.textGroup=c)));
return d};jQuery.fn.jplist.ui.controls.FilterDropdownGroupSelectText=function(a){return new c(a)};jQuery.fn.jplist.controlTypes["dropdown-select-group-text-fitler"]={className:"FilterDropdownGroupSelectText",options:{},dropdown:!0}})();(function(){jQuery.fn.jplist.ui.controls.DropdownFilterDTO=function(e,h){return{path:e,type:h,filterType:"path"}}})();(function(){jQuery.fn.jplist.ui.controls.TextFilterDropdownGroupDTO=function(e,h,g,f){return{textGroup:e,logic:h,path:g,ignoreRegex:f,filterType:"textGroup"}}})();
(function(){var f=function(f){return jQuery.extend(this,f)};f.prototype.setStatus=function(f,d){var b,a;b=f.data.paging;!b||0>=b.pagesNumber?(this.$control.html(""),this.$control.addClass("jplist-empty")):(this.$control.removeClass("jplist-empty"),a=this.$control.attr("data-type"),a=a.replace("{current}",b.currentPage+1),a=a.replace("{pages}",b.pagesNumber),a=a.replace("{start}",b.start+1),a=a.replace("{end}",b.end),a=a.replace("{all}",b.itemsNumber),this.$control.html(a))};jQuery.fn.jplist.ui.controls.PaginationInfo=function(g){return new f(g)};jQuery.fn.jplist.controlTypes["pagination-info"]={className:"PaginationInfo",options:{}}})();(function(){var f=function(b,a){var e;e=null;var c;c=!1;e=b.$control.find("button[data-active]").eq(0);0>=e.length&&(e=b.$control.find("button").eq(0));e=a?0:Number(e.attr("data-number"))||0;(c="true"===b.$control.attr("data-jump-to-start")||b.controlOptions.jumpToStart)&&(c=b.history.getLastStatus())&&"pagination"!==c.type&&"views"!==c.type&&(e=0);c=Number(b.$control.attr("data-items-per-page"))||0;e=new jQuery.fn.jplist.ui.controls.PaginationDTO(e,c);return e=new jQuery.fn.jplist.app.dto.StatusDTO(b.name,b.action,b.type,e,b.inStorage,b.inAnimation,b.isAnimateToTop,b.inDeepLinking)},g=function(b){b.$control.on("click","button",function(){var a,e=null;a=Number(jQuery(this).attr("data-number"))||0;e=f(b,!1);e.data.currentPage=a;b.history.addStatus(e);b.observer.trigger(b.observer.events.statusChanged,[e])})},d=function(b){b.params={view:new jQuery.fn.jplist.ui.controls.PaginationView(b.$control,b.controlOptions)};g(b);return jQuery.extend(this,b)};d.prototype.getStatus=function(b){return f(this,b)};d.prototype.getDeepLink=function(){var b="",a;this.inDeepLinking&&(a=f(this,!1),a.data&&(jQuery.isNumeric(a.data.currentPage)&&(b=this.name+this.options.delimiter0+"currentPage="+a.data.currentPage),jQuery.isNumeric(a.data.number)&&(b=this.name+this.options.delimiter0+"number="+a.data.number)));return b};d.prototype.getStatusByDeepLink=function(b,a){var e;
a:if(e=null,this.inDeepLinking){if("currentPage"!==b){e=null;break a}e=f(this,!0);e.data&&"currentPage"===b&&(e.data.currentPage=a)}return e};d.prototype.setStatus=function(b,a){b.data&&b.data.paging&&this.params.view.build(b.data.paging)};jQuery.fn.jplist.ui.controls.Pagination=function(b){return new d(b)}})();(function(){var f=function(d,b,a){var e;e='<div class="jplist-pagesbox" data-type="pagesbox">';for(var c=d;c<b;c++){e+='<button type="button" data-type="page" ',c===a&&(e+=' class="jplist-current" data-active="true" '),d=c+1,e+=' data-number="'+c+'" ',e+=">"+d+"</button> "}return e+"</div>"},g=function(d,b){var a={$control:d,options:b,$pagingprev:null,$pagingmid:null,$pagingnext:null,$jplistFirst:null,$jplistPrev:null,$jplistNext:null,$jplistLast:null,mode:d.attr("data-mode")},e,c,f,h;e=a.$control.attr("data-prev")||a.options.prevArrow;c=a.$control.attr("data-next")||a.options.nextArrow;f=a.$control.attr("data-first")||a.options.firstArrow;h=a.$control.attr("data-last")||a.options.lastArrow;a.$control.html('<div class="jplist-pagingprev" data-type="pagingprev"></div><div class="jplist-pagingmid" data-type="pagingmid"></div><div class="jplist-pagingnext" data-type="pagingnext"></div>');a.$pagingprev=a.$control.find('[data-type="pagingprev"]');a.$pagingmid=a.$control.find('[data-type="pagingmid"]');a.$pagingnext=a.$control.find('[data-type="pagingnext"]');a.$pagingprev.html('<button type="button" class="jplist-first" data-number="0" data-type="first">'+f+'</button><button type="button" class="jplist-prev" data-type="prev">'+e+"</button>");a.$pagingnext.html('<button type="button" class="jplist-next" data-type="next">'+c+'</button><button type="button" class="jplist-last" data-type="last">'+h+"</button>");a.$jplistFirst=a.$pagingprev.find('[data-type="first"]');a.$jplistPrev=a.$pagingprev.find('[data-type="prev"]');a.$jplistNext=a.$pagingnext.find('[data-type="next"]');a.$jplistLast=a.$pagingnext.find('[data-type="last"]');return jQuery.extend(this,a)};g.prototype.build=function(d){if(0<=d.currentPage&&d.currentPage<d.pagesNumber){this.$control.removeClass("jplist-hidden");
switch(this.mode){case"google-like":var b="",a;a=Number(this.$control.attr("data-range"))||this.options.range;b=d.currentPage-Math.floor((a-1)/2);0>b&&(b=0);a=b+a;a>d.pagesNumber&&(a=d.pagesNumber);b=f(b,a,d.currentPage);this.$pagingmid.html(b);break;default:var e;e=Number(this.$control.attr("data-range"))||this.options.range;a=Math.floor(d.currentPage/e);b=e*(a+1);b>d.pagesNumber&&(b=d.pagesNumber);b=f(e*a,b,d.currentPage);this.$pagingmid.html(b)}this.$jplistPrev.attr("data-number",d.prevPage).removeClass("jplist-current");this.$jplistNext.attr("data-number",d.nextPage).removeClass("jplist-current");this.$jplistLast.attr("data-number",d.pagesNumber-1).removeClass("jplist-current");1>=d.pagesNumber?this.$control.addClass("jplist-one-page"):this.$control.removeClass("jplist-one-page")}else{this.$control.addClass("jplist-hidden")}0===d.currentPage?this.$pagingprev.addClass("jplist-hidden"):this.$pagingprev.removeClass("jplist-hidden");d.currentPage==d.pagesNumber-1?this.$pagingnext.addClass("jplist-hidden"):this.$pagingnext.removeClass("jplist-hidden")};jQuery.fn.jplist.ui.controls.PaginationView=function(d,b){return new g(d,b)};jQuery.fn.jplist.controlTypes.pagination={className:"Pagination",options:{range:7,jumpToStart:!1,prevArrow:"&lsaquo;",nextArrow:"&rsaquo;",firstArrow:"&laquo;",lastArrow:"&raquo;"}}})();(function(){jQuery.fn.jplist.ui.controls.PaginationDTO=function(f,g){var d={currentPage:f,paging:null};g&&(d.number=g);return d}})();(function(){var f=function(a,b){var c=null;b?(c=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=c.length&&(c=a.$control.find("li:eq(0)"))):c=a.$control.find(".active");c=c.find("span");c=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(c.attr("data-number"));return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},g=function(a,b){var c,d,f;a.$control.find("span").each(function(){c=jQuery(this).attr("data-path");d=jQuery(this).attr("data-type");
c&&""!==jQuery.trim(c)&&(f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,d),b.push(f))})},d=function(a){a.$control.find("li").off().on("click",function(){var b,c,d,g;b=f(a,!1);g=jQuery(this).find("span");c=g.attr("data-path");d=g.attr("data-number");c?(b.data.path=c,b.data.type=g.attr("data-type"),b.data.order=g.attr("data-order")):d&&(b.data.number=d);a.history.addStatus(b);a.observer.trigger(a.observer.events.statusChanged,[b])})},b=function(a){new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control);d(a);return jQuery.extend(this,a)};b.prototype.getStatus=function(a){return f(this,a)};b.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=f(this,!1),b.data&&(jQuery.isNumeric(b.data.number)||"all"===b.data.number)&&(a=this.name+this.options.delimiter0+"number="+b.data.number));return a};b.prototype.getStatusByDeepLink=function(a,b){var c;a:if(c=null,this.inDeepLinking){if("number"!==a&&a!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==a){c=null;break a}c=f(this,!0);c.data&&"number"===a&&jQuery.isNumeric(c.data.number)&&(c.data.number=b)}return c};b.prototype.getPaths=function(a){g(this,a)};b.prototype.setStatus=function(a,b){var c,d;d=this.$control.find("li");d.removeClass("active");c=this.$control.find('li:has([data-number="'+a.data.number+'"])');0===c.length&&(c=this.$control.find('li:has([data-number="all"])'));0>=c.length&&(c=d.eq(0));c.addClass("active");this.$control.find(".jplist-dd-panel").text(c.eq(0).text())};jQuery.fn.jplist.ui.controls.ItemsPerPageDropdown=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["items-per-page-drop-down"]={className:"ItemsPerPageDropdown",options:{},dropdown:!0}})();(function(){var f=function(a,b){var c;c=null;b?(c=a.$control.find('option[data-default="true"]').eq(0),0>=c.length&&(c=a.$control.find("option").eq(0))):c=a.$control.find("option:selected");c=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(c.attr("data-number"));
return c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},g=function(a,b){var c,d,f;a.$control.find("option").each(function(){c=jQuery(this).attr("data-path");d=jQuery(this).attr("data-type");c&&(f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,d),b.push(f))})},d=function(a){a.$control.change(function(){var b,c,d;b=f(a,!1);c=jQuery(this).find("option:selected");d=c.attr("data-path");c=c.attr("data-number");d?(b.data.path=d,b.data.type=jQuery(this).attr("data-type"),b.data.order=jQuery(this).attr("data-order")):c&&(b.data.number=c);a.history.addStatus(b);a.observer.trigger(a.observer.events.statusChanged,[b])})},b=function(a){d(a);return jQuery.extend(this,a)};b.prototype.getStatus=function(a){return f(this,a)};b.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=f(this,!1),b.data&&jQuery.isNumeric(b.data.number)&&(a=this.name+this.options.delimiter0+"number="+b.data.number));return a};b.prototype.getStatusByDeepLink=function(a,b){var c=null;this.inDeepLinking&&(c=f(this,!0),c.data&&"number"===a&&jQuery.isNumeric(c.data.number)&&(c.data.number=b));return c};b.prototype.getPaths=function(a){g(this,a)};b.prototype.setStatus=function(a,b){var c;c=this.$control.find('option[data-number="'+a.data.number+'"]');0===c.length&&(c=this.$control.find('option[data-number="all"]'));c.get(0).selected=!0};jQuery.fn.jplist.ui.controls.ItemsPerPageSelect=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["items-per-page-select"]={className:"ItemsPerPageSelect",options:{}}})();(function(){jQuery.fn.jplist.ui.controls.DropdownPaginationDTO=function(f){return{number:f}}})();
(function(){jQuery.fn.jplist.ui.controls.TextboxDTO=function(d,f,b){return{path:d,ignore:b,value:f,filterType:"TextFilter"}}})();(function(){var d=function(a,c){var e,b;e=a.$control.attr("data-path");b=c?a.$control.attr("value")||"":a.$control.val();e=new jQuery.fn.jplist.ui.controls.TextboxDTO(e,b,a.params.ignore);return new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,e,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a){if(a.params.$button&&0<a.params.$button.length){a.params.$button.on("click",function(c){c.preventDefault();a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]);return !1})}else{a.$control.on(a.params.eventName,function(){a.history.addStatus(d(a,!1));a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1])})}},b=function(a){a.params={path:a.$control.attr("data-path"),dataButton:a.$control.attr("data-button"),ignore:a.$control.attr("data-ignore")||"[~!@#$%^&*()+=`'\"/\\_]+",eventName:a.$control.attr("data-event-name")||"keyup",$button:null};a.$control.val(a.$control.attr("value")||"");a.params.dataButton&&(a.params.$button=jQuery(a.params.dataButton));f(a);return jQuery.extend(this,a)};b.prototype.getStatus=function(a){return d(this,a)};b.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=d(this,!1),c.data&&""!==jQuery.trim(c.data.value)&&(a=this.name+this.options.delimiter0+"value="+c.data.value));return a};b.prototype.getStatusByDeepLink=function(a,c){var b=null;this.inDeepLinking&&(b=d(this,!0),b.data&&"value"===a&&(b.data.value=c));return b};b.prototype.getPaths=function(a){var b;b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,null);a.push(b)};b.prototype.setStatus=function(a,b){a.data&&(a.data.value||(a.data.value=""),this.$control.val(a.data.value))};jQuery.fn.jplist.ui.controls.Textbox=function(a){return new b(a)};jQuery.fn.jplist.controlTypes.textbox={className:"Textbox",options:{}}})();
(function(){var d=function(d){return jQuery.extend(this,d)};d.prototype.getStatus=function(d){d=new jQuery.fn.jplist.ui.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore"));return new jQuery.fn.jplist.app.dto.StatusDTO(this.name,this.action,this.type,d,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)};d.prototype.getPaths=function(d){var g,f;g=this.$control.attr("data-path");f=this.$control.attr("data-type");g&&(g=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(g,f),d.push(g))};jQuery.fn.jplist.ui.controls.DefaultSort=function(h){return new d(h)};jQuery.fn.jplist.controlTypes["default-sort"]={className:"DefaultSort",options:{}}})();(function(){jQuery.fn.jplist.ui.controls.DefaultSortDTO=function(d,h,g,f,a){return{path:d,type:h,order:g,dateTimeFormat:f,ignore:a}}})();(function(){var d=function(a,c){var b;b=null;var e="",d="";c?(b=a.$control.find('option[data-default="true"]').eq(0),0>=b.length&&(b=a.$control.find("option").eq(0))):b=a.$control.find("option:selected");e=a.$control.attr("data-datetime-format")||"";d=a.$control.attr("data-ignore")||"";b=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(b.attr("data-path"),b.attr("data-type"),b.attr("data-order"),e,d);return b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,b,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},h=function(a,c){var b,e,d;a.$control.find("option").each(function(){b=jQuery(this).attr("data-path");e=jQuery(this).attr("data-type");b&&(d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,e),c.push(d))})},g=function(a){a.$control.on("change",function(){var c,b;c=d(a,!1);if(b=jQuery(this).find("option:selected").attr("data-path")){c.data.path=b,c.data.type=jQuery(this).attr("data-type"),c.data.order=jQuery(this).attr("data-order")}a.history.addStatus(c);a.observer.trigger(a.observer.events.statusChanged,[c])
})},f=function(a){g(a);return jQuery.extend(this,a)};f.prototype.getStatus=function(a){return d(this,a)};f.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=d(this,!1),c.data&&c.data.path&&c.data.type&&c.data.order&&(a=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+c.data.path+this.options.delimiter2+c.data.type+this.options.delimiter2+c.data.order));return a};f.prototype.getStatusByDeepLink=function(a,c){var b=null,e;this.inDeepLinking&&(b=d(this,!0),b.data&&a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(e=c.split(this.options.delimiter2),3===e.length&&(b.data.path=e[0],b.data.type=e[1],b.data.order=e[2])));return b};f.prototype.getPaths=function(a){h(this,a)};f.prototype.setStatus=function(a,c){var b;b="default"==a.data.path?this.$control.find('option[data-path="'+a.data.path+'"]'):this.$control.find('option[data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+'"]');0<b.length&&(b.get(0).selected=!0)};jQuery.fn.jplist.ui.controls.SortSelect=function(a){return new f(a)};jQuery.fn.jplist.controlTypes["sort-select"]={className:"SortSelect",options:{}}})();(function(){var d=function(a,c){var b=null,e,d;c?(b=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=b.length&&(b=a.$control.find("li:eq(0)"))):b=a.$control.find(".active");b=b.find("span");e=a.$control.attr("data-datetime-format")||"";d=a.$control.attr("data-ignore")||"";b=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(b.attr("data-path"),b.attr("data-type"),b.attr("data-order"),e,d);return b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,b,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},h=function(a,c){var b,d,f;a.$control.find("span").each(function(){b=jQuery(this).attr("data-path");d=jQuery(this).attr("data-type");b&&""!==jQuery.trim(b)&&(f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,d),c.push(f))})},g=function(a){a.$control.find("li").off().on("click",function(){var c,b,e;
c=d(a,!1);e=jQuery(this).find("span");if(b=e.attr("data-path")){c.data.path=b,c.data.type=e.attr("data-type"),c.data.order=e.attr("data-order")}a.history.addStatus(c);a.observer.trigger(a.observer.events.statusChanged,[c])})},f=function(a){new jQuery.fn.jplist.ui.panel.DropdownControl(a.options,a.observer,a.history,a.$control);g(a);return jQuery.extend(this,a)};f.prototype.getStatus=function(a){return d(this,a)};f.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=d(this,!1),c.data&&c.data.path&&c.data.type&&c.data.order&&(a=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+c.data.path+this.options.delimiter2+c.data.type+this.options.delimiter2+c.data.order));return a};f.prototype.getStatusByDeepLink=function(a,c){var b;a:{b=null;var e;if(this.inDeepLinking){if("number"!==a&&a!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==a){b=null;break a}b=d(this,!0);b.data&&a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(e=c.split(this.options.delimiter2),3===e.length&&(b.data.path=e[0],b.data.type=e[1],b.data.order=e[2]))}}return b};f.prototype.getPaths=function(a){h(this,a)};f.prototype.setStatus=function(a,c){var b,d;d=this.$control.find("li");d.removeClass("active");b="default"==a.data.path?this.$control.find('li:has([data-path="default"])'):this.$control.find('li:has([data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+'"])');0>=b.length&&(b=d.eq(0));b.addClass("active");this.$control.find(".jplist-dd-panel").text(b.eq(0).text())};jQuery.fn.jplist.ui.controls.SortDropdown=function(a){return new f(a)};jQuery.fn.jplist.controlTypes["sort-drop-down"]={className:"SortDropdown",options:{},dropdown:!0}})();(function(){jQuery.fn.jplist.ui.controls.DropdownSortDTO=function(d,h,g,f,a){return{path:d,type:h,order:g,dateTimeFormat:f,ignore:a}}})();


/*js\data-list-1.0.min.js*/
var __customWorkFlowURL = '/code/data/table.chi?param=lists&data=';
var __customURL = '/code/data/table.chi?param=list&data=';
function makeRemoteData(data,level){
var rows;
if(data["@timestamp"]){
var entry=data.data;
rows=[];
for(var i=0;i<entry.length;i++){
var row={};
if(entry[i].entrydata){
for ( var j = 0; j < entry[i].entrydata.length; j++ )
{
if ( entry[i].entrydata[j]['text'] )
{
row[entry[i].entrydata[j]['@name']] = entry[i].entrydata[j]['text']['0'];
}
else if ( entry[i].entrydata[j]['number'] )
{
row[entry[i].entrydata[j]['@name']] = entry[i].entrydata[j]['number']['0'];
}
}
}
rows.push(row);
}
}
else if(data.root){
rows=data.root.children;
if(level==2){
var grows=[];
for(var i=0;i<rows.length;i++){
var child=rows[i].children;
if(child){
for(var j=0;j<rows[i].children.length;j++){
var row=rows[i].children[j];
row.group=rows[i].text;
grows.push(row);
}
}
}
rows=grows;
}
}
else if(data.data)
rows = data.data;
else if (data.rows)
rows = data.rows;
else
rows=data;
return rows;
}
function InitList(_list,_listInner,_template,_code,_url,_type,_handle){
var cou=_list.find('.jplist-drop-down [options]').length;
if(cou==0)
makeList(_list,_listInner,_template,_code,_url,_type,_handle);
else{
var icou=0;
_list.find('.jplist-drop-down [options]').each(function(){
var ostr = $(this).attr("options");
options = eval('(' + unescape(ostr) + ')');
var url = options.datasourcetsetting;
var that=this;
OnlineData({},function(data){
var _DataID=options.optValue;
var _DataValue=options.optText;
var li='';
var rows=makeRemoteData(data);
if(rows.length>0){
if(!_DataID){
var n=0;
for(var key in rows[0]){
if(n==0)
_DataID=key;
else if(n==1){
_DataValue=key;
break;
}
n++;
}
}
if(!_DataValue)
_DataValue=_DataID;
for(var i=0 ; i<rows.length;i++){
li+='<li><span data-path="'+rows[i][_DataID]+'">'+rows[i][_DataValue] +'</span></li>';
}
$(that).append(li);
}
icou++;
if(icou==cou){
makeList(_list,_listInner,_template,_code,_url,_type,_handle);
}
},url);
})
}
};
function makeList(_list,_listInner,_template,_code,_url,_type,_handle){
var _defURL=__customURL;
if($('body').attr('workflow'))
_defURL=__customWorkFlowURL;
var _opt = getUrlParam('opt');
if(!_opt)_opt='';
var $list = _listInner
, $template = template.compile(_template);
_list.jplist({
itemsBox: '.list'
, itemPath: '.list-item'
, panelPath: '.jplist-panel'
, dataSource: {
type: 'server'
, server: {
ajax: {
url: _url?_url:_defURL+_code+'&opt='+_opt
, dataType: _type?_type:'json'
, type: 'POST'
}
}
, render: function (dataItem, statuses) {
if(_handle){
var data = dataItem.responseText;
var dataTemplate = eval('('+data+')');
$list.html($template(dataTemplate));
_handle(dataItem.responseText,$template);
}
else if(!_url){
var data = dataItem.responseText;
var dataTemplate = eval('('+data+')');
$list.html($template(dataTemplate));
}
else if(_url.indexOf('notes.chi')>0){
var data = dataItem.responseText;
var dataNotes = eval('('+data+')');
var rData = makeRemoteData(dataNotes);
$list.html($template(rData));
}
else
{
var data = dataItem.responseText;
var dataTemplate = eval('('+data+')');
$list.html($template(dataTemplate));
}
if (self != top)
{
var frm=parent.document.all("win-Common-Dialog");
if(!frm.inited){
frm.inited=true;
var maxH =Math.max(300,Math.min(document.body.scrollHeight,$(parent.document).height()-100));
var maxW =Math.min(document.body.scrollWidth,$(parent.document).width()-100);
$(frm).find('.content').height(maxH+30);
$(frm).find('.content iframe').height(maxH);
$(frm).find('.content').width(maxW+20);
$(frm).find('.content iframe').width(maxW);
}
}
}
}
});
$list.delegate('tr', 'click',function (e) {
if($(this).parent()[0].tagName!=="THEAD"){
if(e.target.tagName=="TD"){
$list.find('tr').removeClass('selected');
var checkbox= $(this).find('td:first-child input[type="checkbox"]');
if(checkbox.length==1){
checkbox[0].checked=!checkbox[0].checked;
if(checkbox[0].checked)
$(this).addClass('selected');
}
else {
var radio= $(this).find('td:first-child input[type="radio"]');
if(radio.length==1){
radio[0].checked=true;
$(this).addClass('selected');
}
}
}
}
if(e.target.tagName=="BUTTON"){
var btn=e.target;
var ev = makeScript($(btn).attr('ev'));
try{
_keyid = $(this).find('td:first-child input').val();
_sts=$(btn).attr('sts');
if(!_sts)_sts='';
eval(ev);
}
catch(e){
console.log(e);
}
}
});
}
function makeScript(ev){
var script = unescape( ev );
script = script.replaceAll('#add#','AddRowTable(_code)');
script = script.replaceAll('#edit#','EditRowTable(_code,_keyid)');
script = script.replaceAll('#delete#','DeleteRowTable(_code,_keyid,_sts)');
script = script.replaceAll('#deleteNDT#','DeleteRowTableNDT(_code,_keyid,_sts,__vmlId)');
return script;
}
function RefreshData(sts){
if(sts==0)sts="0";
if(sts)
$('input[data-button="#opt_status-search-button"]').val(sts);
setTimeout(function(){
$('#opt_status-search-button').click();
},100);
}
function DeleteRowTableNDT(_code,_keyid,_sts,__vmlId)
{
Modal.confirm(
{
msg: "是否删除数据？"
}).on( function (e)
{
if(e)
{
Modal.wait(
{
msg: "请等待..."
}).on( function (e)
{
var _pml = [{}];
_pml[0].namespace = 'protocol';
_pml[0].cmd = 'data';
_pml[0].id = __vmlId;
_pml[0].version = 1;
_pml[0].paras = [{}];
_pml[0].paras[0].name = "id";
_pml[0].paras[0].value = _keyid;
OnlineData(JsonToStr(_pml), function(data)
{
if(data[0].result==true)
{
RefreshData();
}
Modal.hide();
},"/Portal.aspx");
});
}
});
}
function DeleteRowTable(_code,_keyid,_sts){
Modal.confirm(
{
msg: "是否删除数据？"
})
.on( function (e) {
if(e){
Modal.wait(
{
msg: "请等待..."
})
.on( function (e) {
OnlineData({param: 'delete',data: _code,ids:_keyid,sts:_sts},
function(data) {
if(data.success==true){
RefreshData();
}
Modal.hide();
}
,TABLE_URL);
})
}
});
}
function EditRowTable(_code,_keyid){
window.location.href="./edit.chi?id="+_keyid;
}
function AddRowTable(_code){
window.location.href="./edit.chi";
}
function checkDataAll(obj){
var table=$(obj).parents('table');
table.find('tbody tr td:first-child input[type="checkbox"]').each(function(){
this.checked = obj.checked;
});
}
function selectTrData(){
var	tr = [];
$(".jptable input[name='id']:checked").each(function(){
tr.push($(this).closest('tr'));
})
if (tr.length > 0)
{
return tr;
}
else
{
tr = $('.jptable tr.selected');
if(tr.length==1){
return [tr];
}
else
alert('请选择至少一行');
}
}


/*bootstrap\js\bootstrap-datetimepicker.min.js*/
﻿/**
 * @license
 * =========================================================
 * bootstrap-datetimepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Contributions:
 *  - Andrew Rowls
 *  - Thiago de Arruda
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
(function($){var smartPhone=window.orientation!=undefined;var DateTimePicker=function(element,options){this.id=dpgId++;this.init(element,options)};var dateToDate=function(dt){if(typeof dt==="string"){return new Date(dt)}return dt};DateTimePicker.prototype={constructor:DateTimePicker,init:function(element,options){var icon;if(!(options.pickTime||options.pickDate))throw new Error("Must choose at least one picker");this.options=options;this.$element=$(element);this.language=options.language in dates?options.language:"en";this.pickDate=options.pickDate;this.pickTime=options.pickTime;this.isInput=this.$element.is("input");this.component=false;if(this.$element.find(".input-append")||this.$element.find(".input-prepend"))this.component=this.$element.find(".add-on");this.format=options.format;if(!this.format){if(this.isInput)this.format=this.$element.data("format");else this.format=this.$element.find("input").data("format");if(!this.format)this.format="MM/dd/yyyy"}this._compileFormat();if(this.component){icon=this.component.find("i")}if(this.pickTime){if(icon&&icon.length)this.timeIcon=icon.data("time-icon");if(!this.timeIcon)this.timeIcon="icon-time";icon.addClass(this.timeIcon)}if(this.pickDate){if(icon&&icon.length)this.dateIcon=icon.data("date-icon");if(!this.dateIcon)this.dateIcon="icon-calendar";icon.removeClass(this.timeIcon);icon.addClass(this.dateIcon)}this.widget=$(getTemplate(this.timeIcon,options.pickDate,options.pickTime,options.pick12HourFormat,options.pickSeconds,options.collapse)).appendTo("body");this.minViewMode=options.minViewMode||this.$element.data("date-minviewmode")||0;if(typeof this.minViewMode==="string"){switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0;break}}this.viewMode=options.viewMode||this.$element.data("date-viewmode")||0;if(typeof this.viewMode==="string"){switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0;break}}this.startViewMode=this.viewMode;this.weekStart=options.weekStart||this.$element.data("date-weekstart")||0;this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.setStartDate(options.startDate||this.$element.data("date-startdate"));this.setEndDate(options.endDate||this.$element.data("date-enddate"));this.fillDow();this.fillMonths();this.fillHours();this.fillMinutes();this.fillSeconds();this.update();this.showMode();this._attachDatePickerEvents()},show:function(e){this.widget.show();this.height=this.component?this.component.outerHeight():this.$element.outerHeight();this.place();this.$element.trigger({type:"show",date:this._date});this._attachDatePickerGlobalEvents();if(e){e.stopPropagation();e.preventDefault()}},disable:function(){this.$element.find("input").prop("disabled",true);this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",false);this._attachDatePickerEvents()},hide:function(){var collapse=this.widget.find(".collapse");for(var i=0;i<collapse.length;i++){var collapseData=collapse.eq(i).data("collapse");if(collapseData&&collapseData.transitioning)return}this.widget.hide();this.viewMode=this.startViewMode;this.showMode();this.set();this.$element.trigger({type:"hide",date:this._date});this._detachDatePickerGlobalEvents()},set:function(){var formatted="";if(!this._unset)formatted=this.formatDate(this._date);if(!this.isInput){if(this.component){var input=this.$element.find("input");input.val(formatted);this._resetMaskPos(input)}this.$element.data("date",formatted)}else{this.$element.val(formatted);this._resetMaskPos(this.$element)}},setValue:function(newDate){if(!newDate){this._unset=true}else{this._unset=false}if(typeof newDate==="string"){this._date=this.parseDate(newDate)}else if(newDate){this._date=new Date(newDate)}this.set();this.viewDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0);this.fillDate();this.fillTime()},getDate:function(){if(this._unset)return null;return new Date(this._date.valueOf())},setDate:function(date){if(!date)this.setValue(null);else this.setValue(date.valueOf())},setStartDate:function(date){if(date instanceof Date){this.startDate=date}else if(typeof date==="string"){this.startDate=new UTCDate(date);if(!this.startDate.getUTCFullYear()){this.startDate=-Infinity}}else{this.startDate=-Infinity}if(this.viewDate){this.update()}},setEndDate:function(date){if(date instanceof Date){this.endDate=date}else if(typeof date==="string"){this.endDate=new UTCDate(date);if(!this.endDate.getUTCFullYear()){this.endDate=Infinity}}else{this.endDate=Infinity}if(this.viewDate){this.update()}},getLocalDate:function(){if(this._unset)return null;var d=this._date;return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())},setLocalDate:function(localDate){if(!localDate)this.setValue(null);else this.setValue(Date.UTC(localDate.getFullYear(),localDate.getMonth(),localDate.getDate(),localDate.getHours(),localDate.getMinutes(),localDate.getSeconds(),localDate.getMilliseconds()))},place:function(){var position="absolute";var offset=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth();offset.top=offset.top+this.height;var $window=$(window);if(this.options.width!=undefined){this.widget.width(this.options.width)}if(this.options.orientation=="left"){this.widget.addClass("left-oriented");offset.left=offset.left-this.widget.width()+20}if(this._isInFixed()){position="fixed";offset.top-=$window.scrollTop();offset.left-=$window.scrollLeft()}if($window.width()<offset.left+this.widget.outerWidth()){offset.right=$window.width()-offset.left-this.width;offset.left="auto";this.widget.addClass("pull-right")}else{offset.right="auto";this.widget.removeClass("pull-right")}this.widget.css({position:position,top:offset.top,left:offset.left,right:offset.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(newDate){var dateStr=newDate;if(!dateStr){if(this.isInput){dateStr=this.$element.val()}else{dateStr=this.$element.find("input").val()}if(dateStr){this._date=this.parseDate(dateStr)}if(!this._date){var tmp=new Date;this._date=UTCDate(tmp.getFullYear(),tmp.getMonth(),tmp.getDate(),tmp.getHours(),tmp.getMinutes(),tmp.getSeconds(),tmp.getMilliseconds())}}this.viewDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0);this.fillDate();this.fillTime()},fillDow:function(){var dowCnt=this.weekStart;var html=$("<tr>");while(dowCnt<this.weekStart+7){html.append('<th class="dow">'+dates[this.language].daysMin[dowCnt++%7]+"</th>")}this.widget.find(".datepicker-days thead").append(html)},fillMonths:function(){var html="";var i=0;while(i<12){html+='<span class="month">'+dates[this.language].monthsShort[i++]+"</span>"}this.widget.find(".datepicker-months td").append(html)},fillDate:function(){var year=this.viewDate.getUTCFullYear();var month=this.viewDate.getUTCMonth();var currentDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0);var startYear=typeof this.startDate==="object"?this.startDate.getUTCFullYear():-Infinity;var startMonth=typeof this.startDate==="object"?this.startDate.getUTCMonth():-1;var endYear=typeof this.endDate==="object"?this.endDate.getUTCFullYear():Infinity;var endMonth=typeof this.endDate==="object"?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-days th:eq(1)").text(dates[this.language].months[month]+" "+year);var prevMonth=UTCDate(year,month-1,28,0,0,0,0);var day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7);if(year==startYear&&month<=startMonth||year<startYear){this.widget.find(".datepicker-days th:eq(0)").addClass("disabled")}if(year==endYear&&month>=endMonth||year>endYear){this.widget.find(".datepicker-days th:eq(2)").addClass("disabled")}var nextMonth=new Date(prevMonth.valueOf());nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var row;var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.weekStart){row=$("<tr>");html.push(row)}clsName="";if(prevMonth.getUTCFullYear()<year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()<month){clsName+=" old"}else if(prevMonth.getUTCFullYear()>year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()>month){clsName+=" new"}if(prevMonth.valueOf()===currentDate.valueOf()){clsName+=" active"}if(prevMonth.valueOf()+864e5<=this.startDate){clsName+=" disabled"}if(prevMonth.valueOf()>this.endDate){clsName+=" disabled"}row.append('<td class="day'+clsName+'">'+prevMonth.getUTCDate()+"</td>");prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.widget.find(".datepicker-days tbody").empty().append(html);var currentYear=this._date.getUTCFullYear();var months=this.widget.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");if(currentYear===year){months.eq(this._date.getUTCMonth()).addClass("active")}if(currentYear-1<startYear){this.widget.find(".datepicker-months th:eq(0)").addClass("disabled")}if(currentYear+1>endYear){this.widget.find(".datepicker-months th:eq(2)").addClass("disabled")}for(var i=0;i<12;i++){if(year==startYear&&startMonth>i||year<startYear){$(months[i]).addClass("disabled")}else if(year==endYear&&endMonth<i||year>endYear){$(months[i]).addClass("disabled")}}html="";year=parseInt(year/10,10)*10;var yearCont=this.widget.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled");if(startYear>year){this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled")}if(endYear<year+9){this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled")}year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i===-1||i===10?" old":"")+(currentYear===year?" active":"")+(year<startYear||year>endYear?" disabled":"")+'">'+year+"</span>";year+=1}yearCont.html(html)},fillHours:function(){var table=this.widget.find(".timepicker .timepicker-hours table");table.parent().hide();var html="";if(this.options.pick12HourFormat){var current=1;for(var i=0;i<3;i+=1){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="hour">'+padLeft(c,2,"0")+"</td>";current++}html+="</tr>"}}else{var current=0;for(var i=0;i<6;i+=1){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="hour">'+padLeft(c,2,"0")+"</td>";current++}html+="</tr>"}}table.html(html)},fillMinutes:function(){var table=this.widget.find(".timepicker .timepicker-minutes table");table.parent().hide();var html="";var current=0;for(var i=0;i<5;i++){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="minute">'+padLeft(c,2,"0")+"</td>";current+=3}html+="</tr>"}table.html(html)},fillSeconds:function(){var table=this.widget.find(".timepicker .timepicker-seconds table");table.parent().hide();var html="";var current=0;for(var i=0;i<5;i++){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="second">'+padLeft(c,2,"0")+"</td>";current+=3}html+="</tr>"}table.html(html)},fillTime:function(){if(!this._date)return;var timeComponents=this.widget.find(".timepicker span[data-time-component]");var table=timeComponents.closest("table");var is12HourFormat=this.options.pick12HourFormat;var hour=this._date.getUTCHours();var period="AM";if(is12HourFormat){if(hour>=12)period="PM";if(hour===0)hour=12;else if(hour!=12)hour=hour%12;this.widget.find(".timepicker [data-action=togglePeriod]").text(period)}hour=padLeft(hour.toString(),2,"0");var minute=padLeft(this._date.getUTCMinutes().toString(),2,"0");var second=padLeft(this._date.getUTCSeconds().toString(),2,"0");timeComponents.filter("[data-time-component=hours]").text(hour);timeComponents.filter("[data-time-component=minutes]").text(minute);timeComponents.filter("[data-time-component=seconds]").text(second)},click:function(e){e.stopPropagation();e.preventDefault();this._unset=false;var target=$(e.target).closest("span, td, th");if(target.length===1){if(!target.is(".disabled")){switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var vd=this.viewDate;var navFnc=DPGlobal.modes[this.viewMode].navFnc;var step=DPGlobal.modes[this.viewMode].navStep;if(target[0].className==="prev")step=step*-1;vd["set"+navFnc](vd["get"+navFnc]()+step);this.fillDate();this.set();break}break;case"span":if(target.is(".month")){var month=target.parent().find("span").index(target);this.viewDate.setUTCMonth(month)}else{var year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year)}if(this.viewMode!==0){this._date=UTCDate(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds());this.notifyChange()}this.showMode(-1);this.fillDate();this.set();break;case"td":if(target.is(".day")){var day=parseInt(target.text(),10)||1;var month=this.viewDate.getUTCMonth();var year=this.viewDate.getUTCFullYear();if(target.is(".old")){if(month===0){month=11;year-=1}else{month-=1}}else if(target.is(".new")){if(month==11){month=0;year+=1}else{month+=1}}this._date=UTCDate(year,month,day,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds());this.viewDate=UTCDate(year,month,Math.min(28,day),0,0,0,0);this.fillDate();this.set();this.notifyChange()}break}}}},actions:{incrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(e){var hour=this._date.getUTCHours();if(hour>=12)hour-=12;else hour+=12;this._date.setUTCHours(hour)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide();this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var tgt=$(e.target);var value=parseInt(tgt.text(),10);if(this.options.pick12HourFormat){var current=this._date.getUTCHours();if(current>=12){if(value!=12)value=(value+12)%24}else{if(value===12)value=0;else value=value%12}}this._date.setUTCHours(value);this.actions.showPicker.call(this)},selectMinute:function(e){var tgt=$(e.target);var value=parseInt(tgt.text(),10);this._date.setUTCMinutes(value);this.actions.showPicker.call(this)},selectSecond:function(e){var tgt=$(e.target);var value=parseInt(tgt.text(),10);this._date.setUTCSeconds(value);this.actions.showPicker.call(this)}},doAction:function(e){e.stopPropagation();e.preventDefault();if(!this._date)this._date=UTCDate(1970,0,0,0,0,0,0);var action=$(e.currentTarget).data("action");var rv=this.actions[action].apply(this,arguments);this.set();this.fillTime();this.notifyChange();return rv},stopEvent:function(e){e.stopPropagation();e.preventDefault()},keydown:function(e){var self=this,k=e.which,input=$(e.target);if(k==8||k==46){setTimeout(function(){self._resetMaskPos(input)})}},keypress:function(e){var k=e.which;if(k==8||k==46){return}var input=$(e.target);var c=String.fromCharCode(k);var val=input.val()||"";val+=c;var mask=this._mask[this._maskPos];if(!mask){return false}if(mask.end!=val.length){return}if(!mask.pattern.test(val.slice(mask.start))){val=val.slice(0,val.length-1);while((mask=this._mask[this._maskPos])&&mask.character){val+=mask.character;this._maskPos++}val+=c;if(mask.end!=val.length){input.val(val);return false}else{if(!mask.pattern.test(val.slice(mask.start))){input.val(val.slice(0,mask.start));return false}else{input.val(val);this._maskPos++;return false}}}else{this._maskPos++}},change:function(e){var input=$(e.target);var val=input.val();if(this._formatPattern.test(val)){this.update();this.setValue(this._date.getTime());this.notifyChange();this.set()}else if(val&&val.trim()){this.setValue(this._date.getTime());if(this._date)this.set();else input.val("")}else{if(this._date){this.setValue(null);this.notifyChange();this._unset=true}}this._resetMaskPos(input)},showMode:function(dir){if(dir){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+dir))}this.widget.find(".datepicker > div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents();this._detachDatePickerGlobalEvents();this.widget.remove();this.$element.removeData("datetimepicker");this.component.removeData("datetimepicker")},formatDate:function(d){return this.format.replace(formatReplacer,function(match){var methodName,property,rv,len=match.length;if(match==="ms")len=1;property=dateFormatComponents[match].property;if(property==="Hours12"){rv=d.getUTCHours();if(rv===0)rv=12;else if(rv!==12)rv=rv%12}else if(property==="Period12"){if(d.getUTCHours()>=12)return"PM";else return"AM"}else{methodName="get"+property;rv=d[methodName]()}if(methodName==="getUTCMonth")rv=rv+1;if(methodName==="getUTCYear")rv=rv+1900-2e3;return padLeft(rv.toString(),len,"0")})},parseDate:function(str){var match,i,property,methodName,value,parsed={};if(!(match=this._formatPattern.exec(str)))return null;for(i=1;i<match.length;i++){property=this._propertiesByIndex[i];if(!property)continue;value=match[i];if(/^\d+$/.test(value))value=parseInt(value,10);parsed[property]=value}return this._finishParsingDate(parsed)},_resetMaskPos:function(input){var val=input.val();for(var i=0;i<this._mask.length;i++){if(this._mask[i].end>val.length){this._maskPos=i;break}else if(this._mask[i].end===val.length){this._maskPos=i+1;break}}},_finishParsingDate:function(parsed){var year,month,date,hours,minutes,seconds,milliseconds;year=parsed.UTCFullYear;if(parsed.UTCYear)year=2e3+parsed.UTCYear;if(!year)year=1970;if(parsed.UTCMonth)month=parsed.UTCMonth-1;else month=0;date=parsed.UTCDate||1;hours=parsed.UTCHours||0;minutes=parsed.UTCMinutes||0;seconds=parsed.UTCSeconds||0;milliseconds=parsed.UTCMilliseconds||0;if(parsed.Hours12){hours=parsed.Hours12}if(parsed.Period12){if(/pm/i.test(parsed.Period12)){if(hours!=12)hours=(hours+12)%24}else{hours=hours%12}}return UTCDate(year,month,date,hours,minutes,seconds,milliseconds)},_compileFormat:function(){var match,component,components=[],mask=[],str=this.format,propertiesByIndex={},i=0,pos=0;while(match=formatComponent.exec(str)){component=match[0];if(component in dateFormatComponents){i++;propertiesByIndex[i]=dateFormatComponents[component].property;components.push("\\s*"+dateFormatComponents[component].getPattern(this)+"\\s*");mask.push({pattern:new RegExp(dateFormatComponents[component].getPattern(this)),property:dateFormatComponents[component].property,start:pos,end:pos+=component.length})}else{components.push(escapeRegExp(component));mask.push({pattern:new RegExp(escapeRegExp(component)),character:component,start:pos,end:++pos})}str=str.slice(component.length)}this._mask=mask;this._maskPos=0;this._formatPattern=new RegExp("^\\s*"+components.join("")+"\\s*$");this._propertiesByIndex=propertiesByIndex},_attachDatePickerEvents:function(){var self=this;this.widget.on("click",".datepicker *",$.proxy(this.click,this));this.widget.on("click","[data-action]",$.proxy(this.doAction,this));this.widget.on("mousedown",$.proxy(this.stopEvent,this));if(this.pickDate&&this.pickTime){this.widget.on("click.togglePicker",".accordion-toggle",function(e){e.stopPropagation();var $this=$(this);var $parent=$this.closest("ul");var expanded=$parent.find(".collapse.in");var closed=$parent.find(".collapse:not(.in)");if(expanded&&expanded.length){var collapseData=expanded.data("collapse");if(collapseData&&collapseData.transitioning)return;expanded.collapse("hide");closed.collapse("show");$this.find("i").toggleClass(self.timeIcon+" "+self.dateIcon);self.$element.find(".add-on i").toggleClass(self.timeIcon+" "+self.dateIcon)}})}if(this.isInput){this.$element.on({focus:$.proxy(this.show,this),change:$.proxy(this.change,this)});if(this.options.maskInput){this.$element.on({keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this)})}}else{this.$element.on({change:$.proxy(this.change,this)},"input");if(this.options.maskInput){this.$element.on({keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this)},"input")}if(this.component){this.component.on("click",$.proxy(this.show,this))}else{this.$element.on("click",$.proxy(this.show,this))}}},_attachDatePickerGlobalEvents:function(){$(window).on("resize.datetimepicker"+this.id,$.proxy(this.place,this));if(!this.isInput){$(document).on("mousedown.datetimepicker"+this.id,$.proxy(this.hide,this))}},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click);this.widget.off("click","[data-action]");this.widget.off("mousedown",this.stopEvent);if(this.pickDate&&this.pickTime){this.widget.off("click.togglePicker")}if(this.isInput){this.$element.off({focus:this.show,change:this.change});if(this.options.maskInput){this.$element.off({keydown:this.keydown,keypress:this.keypress})}}else{this.$element.off({change:this.change},"input");if(this.options.maskInput){this.$element.off({keydown:this.keydown,keypress:this.keypress},"input")}if(this.component){this.component.off("click",this.show)}else{this.$element.off("click",this.show)}}},_detachDatePickerGlobalEvents:function(){$(window).off("resize.datetimepicker"+this.id);if(!this.isInput){$(document).off("mousedown.datetimepicker"+this.id)}},_isInFixed:function(){if(this.$element){var parents=this.$element.parents();var inFixed=false;for(var i=0;i<parents.length;i++){if($(parents[i]).css("position")=="fixed"){inFixed=true;break}}return inFixed}else{return false}}};$.fn.datetimepicker=function(option,val){return this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options=typeof option==="object"&&option;if(!data){$this.data("datetimepicker",data=new DateTimePicker(this,$.extend({},$.fn.datetimepicker.defaults,options)))}if(typeof option==="string")data[option](val)})};$.fn.datetimepicker.defaults={maskInput:false,pickDate:true,pickTime:true,pick12HourFormat:false,pickSeconds:true,startDate:-Infinity,endDate:Infinity,collapse:true};$.fn.datetimepicker.Constructor=DateTimePicker;var dpgId=0;var dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}};var dateFormatComponents={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}};var keys=[];for(var k in dateFormatComponents)keys.push(k);keys[keys.length-1]+="\\b";keys.push(".");var formatComponent=new RegExp(keys.join("\\b|"));keys.pop();var formatReplacer=new RegExp(keys.join("\\b|"),"g");function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function padLeft(s,l,c){if(l<s.length)return s;else return Array(l-s.length+1).join(c||" ")+s}function getTemplate(timeIcon,pickDate,pickTime,is12Hours,showSeconds,collapse){if(pickDate&&pickTime){return'<div class="bootstrap-datetimepicker-widget dropdown-menu">'+"<ul>"+"<li"+(collapse?' class="collapse in"':"")+">"+'<div class="datepicker">'+DPGlobal.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a><i class="'+timeIcon+'"></i></a></li>'+"<li"+(collapse?' class="collapse"':"")+">"+'<div class="timepicker">'+TPGlobal.getTemplate(is12Hours,showSeconds)+"</div>"+"</li>"+"</ul>"+"</div>"}else if(pickTime){return'<div class="bootstrap-datetimepicker-widget dropdown-menu">'+'<div class="timepicker">'+TPGlobal.getTemplate(is12Hours,showSeconds)+"</div>"+"</div>"}else{return'<div class="bootstrap-datetimepicker-widget dropdown-menu">'+'<div class="datepicker">'+DPGlobal.template+"</div>"+"</div>"}}function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}var DPGlobal={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},headTemplate:"<thead>"+"<tr>"+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};DPGlobal.template='<div class="datepicker-days">'+'<table class="table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+"</table>"+"</div>";var TPGlobal={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};TPGlobal.getTemplate=function(is12Hours,showSeconds){return'<div class="timepicker-picker">'+'<table class="table-condensed"'+(is12Hours?' data-hour-format="12"':"")+">"+"<tr>"+'<td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(showSeconds?'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(is12Hours?'<td class="separator"></td>':"")+"</tr>"+"<tr>"+"<td>"+TPGlobal.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+TPGlobal.minuteTemplate+"</td> "+(showSeconds?'<td class="separator">:</td>'+"<td>"+TPGlobal.secondTemplate+"</td>":"")+(is12Hours?'<td class="separator"></td>'+"<td>"+'<button type="button" class="btn btn-primary" data-action="togglePeriod"></button>'+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(showSeconds?'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(is12Hours?'<td class="separator"></td>':"")+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed">'+"</table>"+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed">'+"</table>"+"</div>"+(showSeconds?'<div class="timepicker-seconds" data-action="selectSecond">'+'<table class="table-condensed">'+"</table>"+"</div>":"")}})(window.jQuery);

/*bootstrap\js\bootstrap-datetimepicker.zh-CN.min.js*/

;(function($){
$.fn.datetimepicker.dates['zh-CN'] = {
days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
daysMin:  ["日", "一", "二", "三", "四", "五", "六", "日"],
months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
today: "今日",
suffix: [],
meridiem: ["上午", "下午"]
};
}(jQuery));


/*plugins\laydate\laydate.min.js*/
﻿
var layBase = 'plugins/layDate/';
; !function ( a )
{
var b = { path: "", defSkin: "default", format: "YYYY-MM-DD", min: "1900-01-01 00:00:00", max: "2099-12-31 23:59:59", isv: !1 }, c = {}, d = document, e = "createElement", f = "getElementById", g = "getElementsByTagName", h = ["laydate_box", "laydate_void", "laydate_click", "LayDateSkin", layBase + "skins/", "/laydate.css"];
a.laydate = function ( b ) {
b = b || {};
try { h.event = a.event ? a.event : laydate.caller.arguments[0] }
catch ( d ) { } return c.run( b ), laydate }, laydate.v = "1.1",
c.getPath = function ()
{
var a = document.scripts, c = a[a.length - 1].src;
return b.path ? b.path : c.substring( 0, c.lastIndexOf( "/" ) + 1 )
}(),
c.use = function ( a, b )
{
var f = d[e]( "link" );
f.type = "text/css",
f.rel = "stylesheet",
f.href = c.getPath + a + h[5], b && ( f.id = b ), d[g]( "head" )[0].appendChild( f ), f = null
}, c.trim = function ( a ) { return a = a || "", a.replace( /^\s|\s$/g, "" ).replace( /\s+/g, " " ) }, c.digit = function ( a ) { return 10 > a ? "0" + ( 0 | a ) : a }, c.stopmp = function ( b ) { return b = b || a.event, b.stopPropagation ? b.stopPropagation() : b.cancelBubble = !0, this }, c.each = function ( a, b ) { for ( var c = 0, d = a.length; d > c && b( c, a[c] ) !== !1; c++ ); }, c.hasClass = function ( a, b ) { return a = a || {}, new RegExp( "\\b" + b + "\\b" ).test( a.className ) }, c.addClass = function ( a, b ) { return a = a || {}, c.hasClass( a, b ) || ( a.className += " " + b ), a.className = c.trim( a.className ), this }, c.removeClass = function ( a, b ) { if ( a = a || {}, c.hasClass( a, b ) ) { var d = new RegExp( "\\b" + b + "\\b" ); a.className = a.className.replace( d, "" ) } return this }, c.removeCssAttr = function ( a, b ) { var c = a.style; c.removeProperty ? c.removeProperty( b ) : c.removeAttribute( b ) }, c.shde = function ( a, b ) { a.style.display = b ? "none" : "block" }, c.query = function ( a ) { var e, b, h, i, j; return a = c.trim( a ).split( " " ), b = d[f]( a[0].substr( 1 ) ), b ? a[1] ? /^\./.test( a[1] ) ? ( i = a[1].substr( 1 ), j = new RegExp( "\\b" + i + "\\b" ), e = [], h = d.getElementsByClassName ? b.getElementsByClassName( i ) : b[g]( "*" ), c.each( h, function ( a, b ) { j.test( b.className ) && e.push( b ) } ), e[0] ? e : "" ) : ( e = b[g]( a[1] ), e[0] ? b[g]( a[1] ) : "" ) : b : void 0 }, c.on = function ( b, d, e ) { return b.attachEvent ? b.attachEvent( "on" + d, function () { e.call( b, a.even ) } ) : b.addEventListener( d, e, !1 ), c }, c.stopMosup = function ( a, b ) { "mouseup" !== a && c.on( b, "mouseup", function ( a ) { c.stopmp( a ) } ) }, c.run = function ( a ) { var d, e, g, b = c.query, f = h.event; try { g = f.target || f.srcElement || {} } catch ( i ) { g = {} } if ( d = a.elem ? b( a.elem ) : g, f && g.tagName ) { if ( !d || d === c.elem ) return; c.stopMosup( f.type, d ), c.stopmp( f ), c.view( d, a ), c.reshow() } else e = a.event || "click", c.each(( 0 | d.length ) > 0 ? d : [d], function ( b, d ) { c.stopMosup( e, d ), c.on( d, e, function ( b ) { c.stopmp( b ), d !== c.elem && ( c.view( d, a ), c.reshow() ) } ) } ) }, c.scroll = function ( a ) { return a = a ? "scrollLeft" : "scrollTop", d.body[a] | d.documentElement[a] }, c.winarea = function ( a ) { return document.documentElement[a ? "clientWidth" : "clientHeight"] }, c.isleap = function ( a ) { return 0 === a % 4 && 0 !== a % 100 || 0 === a % 400 }, c.checkVoid = function ( a, b, d ) { var e = []; return a = 0 | a, b = 0 | b, d = 0 | d, a < c.mins[0] ? e = ["y"] : a > c.maxs[0] ? e = ["y", 1] : a >= c.mins[0] && a <= c.maxs[0] && ( a == c.mins[0] && ( b < c.mins[1] ? e = ["m"] : b == c.mins[1] && d < c.mins[2] && ( e = ["d"] ) ), a == c.maxs[0] && ( b > c.maxs[1] ? e = ["m", 1] : b == c.maxs[1] && d > c.maxs[2] && ( e = ["d", 1] ) ) ), e }, c.timeVoid = function ( a, b ) { if ( c.ymd[1] + 1 == c.mins[1] && c.ymd[2] == c.mins[2] ) { if ( 0 === b && a < c.mins[3] ) return 1; if ( 1 === b && a < c.mins[4] ) return 1; if ( 2 === b && a < c.mins[5] ) return 1 } else if ( c.ymd[1] + 1 == c.maxs[1] && c.ymd[2] == c.maxs[2] ) { if ( 0 === b && a > c.maxs[3] ) return 1; if ( 1 === b && a > c.maxs[4] ) return 1; if ( 2 === b && a > c.maxs[5] ) return 1 } return a > ( b ? 59 : 23 ) ? 1 : void 0 }, c.check = function () { var a = c.options.format.replace( /YYYY|MM|DD|hh|mm|ss/g, "\\d+\\" ).replace( /\\$/g, "" ), b = new RegExp( a ), d = c.elem[h.elemv], e = d.match( /\d+/g ) || [], f = c.checkVoid( e[0], e[1], e[2] ); if ( "" !== d.replace( /\s/g, "" ) ) { if ( !b.test( d ) ) return c.elem[h.elemv] = "", c.msg( "日期不符合格式，请重新选择。" ), 1; if ( f[0] ) return c.elem[h.elemv] = "", c.msg( "日期不在有效期内，请重新选择。" ), 1; f.value = c.elem[h.elemv].match( b ).join(), e = f.value.match( /\d+/g ), e[1] < 1 ? ( e[1] = 1, f.auto = 1 ) : e[1] > 12 ? ( e[1] = 12, f.auto = 1 ) : e[1].length < 2 && ( f.auto = 1 ), e[2] < 1 ? ( e[2] = 1, f.auto = 1 ) : e[2] > c.months[( 0 | e[1] ) - 1] ? ( e[2] = 31, f.auto = 1 ) : e[2].length < 2 && ( f.auto = 1 ), e.length > 3 && ( c.timeVoid( e[3], 0 ) && ( f.auto = 1 ), c.timeVoid( e[4], 1 ) && ( f.auto = 1 ), c.timeVoid( e[5], 2 ) && ( f.auto = 1 ) ), f.auto ? c.creation( [e[0], 0 | e[1], 0 | e[2]], 1 ) : f.value !== c.elem[h.elemv] && ( c.elem[h.elemv] = f.value ) } }, c.months = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], c.viewDate = function ( a, b, d ) { var f = ( c.query, {} ), g = new Date; a < ( 0 | c.mins[0] ) && ( a = 0 | c.mins[0] ), a > ( 0 | c.maxs[0] ) && ( a = 0 | c.maxs[0] ), g.setFullYear( a, b, d ), f.ymd = [g.getFullYear(), g.getMonth(), g.getDate()], c.months[1] = c.isleap( f.ymd[0] ) ? 29 : 28, g.setFullYear( f.ymd[0], f.ymd[1], 1 ), f.FDay = g.getDay(), f.PDay = c.months[0 === b ? 11 : b - 1] - f.FDay + 1, f.NDay = 1, c.each( h.tds, function ( a, b ) { var g, d = f.ymd[0], e = f.ymd[1] + 1; b.className = "", a < f.FDay ? ( b.innerHTML = g = a + f.PDay, c.addClass( b, "laydate_nothis" ), 1 === e && ( d -= 1 ), e = 1 === e ? 12 : e - 1 ) : a >= f.FDay && a < f.FDay + c.months[f.ymd[1]] ? ( b.innerHTML = g = a - f.FDay + 1, a - f.FDay + 1 === f.ymd[2] && ( c.addClass( b, h[2] ), f.thisDay = b ) ) : ( b.innerHTML = g = f.NDay++, c.addClass( b, "laydate_nothis" ), 12 === e && ( d += 1 ), e = 12 === e ? 1 : e + 1 ), c.checkVoid( d, e, g )[0] && c.addClass( b, h[1] ), c.options.festival && c.festival( b, e + "." + g ), b.setAttribute( "y", d ), b.setAttribute( "m", e ), b.setAttribute( "d", g ), d = e = g = null } ), c.valid = !c.hasClass( f.thisDay, h[1] ), c.ymd = f.ymd, h.year.value = c.ymd[0] + "年", h.month.value = c.digit( c.ymd[1] + 1 ) + "月", c.each( h.mms, function ( a, b ) { var d = c.checkVoid( c.ymd[0], ( 0 | b.getAttribute( "m" ) ) + 1 ); "y" === d[0] || "m" === d[0] ? c.addClass( b, h[1] ) : c.removeClass( b, h[1] ), c.removeClass( b, h[2] ), d = null } ), c.addClass( h.mms[c.ymd[1]], h[2] ), f.times = [0 | c.inymd[3] || 0, 0 | c.inymd[4] || 0, 0 | c.inymd[5] || 0], c.each( new Array( 3 ), function ( a ) { c.hmsin[a].value = c.digit( c.timeVoid( f.times[a], a ) ? 0 | c.mins[a + 3] : 0 | f.times[a] ) } ), c[c.valid ? "removeClass" : "addClass"]( h.ok, h[1] ) }, c.festival = function ( a, b ) { var c; switch ( b ) { case "1.1": c = "元旦"; break; case "3.8": c = "妇女"; break; case "4.5": c = "清明"; break; case "5.1": c = "劳动"; break; case "6.1": c = "儿童"; break; case "9.10": c = "教师"; break; case "10.1": c = "国庆" } c && ( a.innerHTML = c ), c = null }, c.viewYears = function ( a ) { var b = c.query, d = ""; c.each( new Array( 14 ), function ( b ) { d += 7 === b ? "<li " + ( parseInt( h.year.value ) === a ? 'class="' + h[2] + '"' : "" ) + ' y="' + a + '">' + a + "年</li>" : '<li y="' + ( a - 7 + b ) + '">' + ( a - 7 + b ) + "年</li>" } ), b( "#laydate_ys" ).innerHTML = d, c.each( b( "#laydate_ys li" ), function ( a, b ) { "y" === c.checkVoid( b.getAttribute( "y" ) )[0] ? c.addClass( b, h[1] ) : c.on( b, "click", function ( a ) { c.stopmp( a ).reshow(), c.viewDate( 0 | this.getAttribute( "y" ), c.ymd[1], c.ymd[2] ) } ) } ) }, c.initDate = function () { var d = ( c.query, new Date ), e = c.elem[h.elemv].match( /\d+/g ) || []; e.length < 3 && ( e = c.options.start.match( /\d+/g ) || [], e.length < 3 && ( e = [d.getFullYear(), d.getMonth() + 1, d.getDate()] ) ), c.inymd = e, c.viewDate( e[0], e[1] - 1, e[2] ) }, c.iswrite = function () { var a = c.query, b = { time: a( "#laydate_hms" ) }; c.shde( b.time, !c.options.istime ), c.shde( h.oclear, !( "isclear" in c.options ? c.options.isclear : 1 ) ), c.shde( h.otoday, !( "istoday" in c.options ? c.options.istoday : 1 ) ), c.shde( h.ok, !( "issure" in c.options ? c.options.issure : 1 ) ) }, c.orien = function ( a, b ) { var d, e = c.elem.getBoundingClientRect(); a.style.left = e.left + ( b ? 0 : c.scroll( 1 ) ) + "px", d = e.bottom + a.offsetHeight / 1.5 <= c.winarea() ? e.bottom - 1 : e.top > a.offsetHeight / 1.5 ? e.top - a.offsetHeight + 1 : c.winarea() - a.offsetHeight, a.style.top = d + ( b ? 0 : c.scroll() ) + "px" }, c.follow = function ( a ) { c.options.fixed ? ( a.style.position = "fixed", c.orien( a, 1 ) ) : ( a.style.position = "absolute", c.orien( a ) ) }, c.viewtb = function () { var a, b = [], f = ["日", "一", "二", "三", "四", "五", "六"], h = {}, i = d[e]( "table" ), j = d[e]( "thead" ); return j.appendChild( d[e]( "tr" ) ), h.creath = function ( a ) { var b = d[e]( "th" ); b.innerHTML = f[a], j[g]( "tr" )[0].appendChild( b ), b = null }, c.each( new Array( 6 ), function ( d ) { b.push( [] ), a = i.insertRow( 0 ), c.each( new Array( 7 ), function ( c ) { b[d][c] = 0, 0 === d && h.creath( c ), a.insertCell( c ) } ) } ), i.insertBefore( j, i.children[0] ), i.id = i.className = "laydate_table", a = b = null, i.outerHTML.toLowerCase() }(), c.view = function ( a, f ) { var i, g = c.query, j = {}; f = f || a, c.elem = a, c.options = f, c.options.format || ( c.options.format = b.format ), c.options.start = c.options.start || "", c.mm = j.mm = [c.options.min || b.min, c.options.max || b.max], c.mins = j.mm[0].match( /\d+/g ), c.maxs = j.mm[1].match( /\d+/g ), h.elemv = /textarea|input/.test( c.elem.tagName.toLocaleLowerCase() ) ? "value" : "innerHTML", c.box ? c.shde( c.box ) : ( i = d[e]( "div" ), i.id = h[0], i.className = h[0], i.style.cssText = "position: absolute;", i.setAttribute( "name", "laydate-v" + laydate.v ), i.innerHTML = j.html = '<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_y" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite></cite></a><ul id="laydate_ys"></ul><a class="laydate_tab laydate_chdown"><cite></cite></a></div></div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_m" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms" id="laydate_ms">' + function () { var a = ""; return c.each( new Array( 12 ), function ( b ) { a += '<span m="' + b + '">' + c.digit( b + 1 ) + "月</span>" } ), a }() + "</div>" + "</div>" + "</div>" + c.viewtb + '<div class="laydate_bottom">' + '<ul id="laydate_hms">' + '<li class="laydate_sj">时间</li>' + "<li><input readonly>:</li>" + "<li><input readonly>:</li>" + "<li><input readonly></li>" + "</ul>" + '<div class="laydate_time" id="laydate_time"></div>' + '<div class="laydate_btn">' + '<a id="laydate_clear">清空</a>' + '<a id="laydate_today">今天</a>' + '<a id="laydate_ok">确认</a>' + "</div>" + ( b.isv ? '<a href="http:
c.init = function ()
{
c.use( layBase + "need" ), c.use( h[4] + b.defSkin, h[3] ), c.skinLink = c.query( "#" + h[3] )
}(), laydate.reset = function () { c.box && c.elem && c.follow( c.box ) }, laydate.now = function ( a, b ) { var d = new Date( 0 | a ? function ( a ) { return 864e5 > a ? +new Date + 864e5 * a : a }( parseInt( a ) ) : +new Date ); return c.parse( [d.getFullYear(), d.getMonth() + 1, d.getDate()], [d.getHours(), d.getMinutes(), d.getSeconds()], b ) },
laydate.skin = function ( a )
{
c.skinLink.href = c.getPath + h[4] + a + h[5]
}
}( window );

